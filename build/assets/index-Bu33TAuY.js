function Uk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE={exports:{}},Dh={},SE={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Bk=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),qk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Kk=Symbol.for("react.memo"),Qk=Symbol.for("react.lazy"),sy=Symbol.iterator;function Yk(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var IE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CE=Object.assign,TE={};function ea(t,e,n){this.props=t,this.context=e,this.refs=TE,this.updater=n||IE}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kE(){}kE.prototype=ea.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=TE,this.updater=n||IE}var pg=fg.prototype=new kE;pg.constructor=fg;CE(pg,ea.prototype);pg.isPureReactComponent=!0;var oy=Array.isArray,LE=Object.prototype.hasOwnProperty,gg={current:null},AE={key:!0,ref:!0,__self:!0,__source:!0};function xE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LE.call(e,r)&&!AE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zl,type:t,key:s,ref:o,props:i,_owner:gg.current}}function Zk(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function Xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ay=/\/+/g;function bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xk(""+t.key):e.toString(36)}function hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zl:case jk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bd(o,0):r,oy(i)?(n="",t!=null&&(n=t.replace(ay,"$&/")+"/"),hc(i,e,n,"",function(c){return c})):i!=null&&(mg(i)&&(i=Zk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ay,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+bd(s,a);o+=hc(s,e,n,u,i)}else if(u=Yk(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+bd(s,a++),o+=hc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],i=0;return hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Jk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},dc={transition:null},eL={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:dc,ReactCurrentOwner:gg};function PE(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!mg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ea;Pe.Fragment=Bk;Pe.Profiler=$k;Pe.PureComponent=fg;Pe.StrictMode=zk;Pe.Suspense=Gk;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eL;Pe.act=PE;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)LE.call(e,u)&&!AE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zl,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:Hk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wk,_context:t},t.Consumer=t};Pe.createElement=xE;Pe.createFactory=function(t){var e=xE.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:qk,render:t}};Pe.isValidElement=mg;Pe.lazy=function(t){return{$$typeof:Qk,_payload:{_status:-1,_result:t},_init:Jk}};Pe.memo=function(t,e){return{$$typeof:Kk,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=dc.transition;dc.transition={};try{t()}finally{dc.transition=e}};Pe.unstable_act=PE;Pe.useCallback=function(t,e){return an.current.useCallback(t,e)};Pe.useContext=function(t){return an.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return an.current.useEffect(t,e)};Pe.useId=function(){return an.current.useId()};Pe.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return an.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Pe.useRef=function(t){return an.current.useRef(t)};Pe.useState=function(t){return an.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return an.current.useTransition()};Pe.version="18.3.1";SE.exports=Pe;var p=SE.exports;const ht=Fk(p),tL=Uk({__proto__:null,default:ht},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nL=p,rL=Symbol.for("react.element"),iL=Symbol.for("react.fragment"),sL=Object.prototype.hasOwnProperty,oL=nL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aL={key:!0,ref:!0,__self:!0,__source:!0};function RE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sL.call(e,r)&&!aL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rL,type:t,key:s,ref:o,props:i,_owner:oL.current}}Dh.Fragment=iL;Dh.jsx=RE;Dh.jsxs=RE;EE.exports=Dh;var P=EE.exports,bE={exports:{}},kn={},ME={exports:{}},DE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var J=$.length;$.push(Y);e:for(;0<J;){var ne=J-1>>>1,se=$[ne];if(0<i(se,Y))$[ne]=Y,$[J]=se,J=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],J=$.pop();if(J!==Y){$[0]=J;e:for(var ne=0,se=$.length,de=se>>>1;ne<de;){var ge=2*(ne+1)-1,Ie=$[ge],B=ge+1,_e=$[B];if(0>i(Ie,J))B<se&&0>i(_e,Ie)?($[ne]=_e,$[B]=J,ne=B):($[ne]=Ie,$[ge]=J,ne=ge);else if(B<se&&0>i(_e,J))$[ne]=_e,$[B]=J,ne=B;else break e}}return Y}function i($,Y){var J=$.sortIndex-Y.sortIndex;return J!==0?J:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,v=!1,k=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=$)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function O($){if(C=!1,E($),!k)if(n(u)!==null)k=!0,ce(N);else{var Y=n(c);Y!==null&&X(O,Y.startTime-$)}}function N($,Y){k=!1,C&&(C=!1,S(y),y=-1),v=!0;var J=m;try{for(E(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||$&&!M());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var se=ne(f.expirationTime<=Y);Y=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(u)&&r(u),E(Y)}else r(u);f=n(u)}if(f!==null)var de=!0;else{var ge=n(c);ge!==null&&X(O,ge.startTime-Y),de=!1}return de}finally{f=null,m=J,v=!1}}var b=!1,w=null,y=-1,L=5,I=-1;function M(){return!(t.unstable_now()-I<L)}function R(){if(w!==null){var $=t.unstable_now();I=$;var Y=!0;try{Y=w(!0,$)}finally{Y?A():(b=!1,w=null)}}else b=!1}var A;if(typeof _=="function")A=function(){_(R)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=R,A=function(){re.postMessage(null)}}else A=function(){x(R,0)};function ce($){w=$,b||(b=!0,A())}function X($,Y){y=x(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,ce(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var J=m;m=Y;try{return $()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=m;m=$;try{return Y()}finally{m=J}},t.unstable_scheduleCallback=function($,Y,J){var ne=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,$){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=J+se,$={id:h++,callback:Y,priorityLevel:$,startTime:J,expirationTime:se,sortIndex:-1},J>ne?($.sortIndex=J,e(c,$),n(u)===null&&$===n(c)&&(C?(S(y),y=-1):C=!0,X(O,J-ne))):($.sortIndex=se,e(u,$),k||v||(k=!0,ce(N))),$},t.unstable_shouldYield=M,t.unstable_wrapCallback=function($){var Y=m;return function(){var J=m;m=Y;try{return $.apply(this,arguments)}finally{m=J}}}})(DE);ME.exports=DE;var lL=ME.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL=p,Tn=lL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,yl={};function Fs(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(yl[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,cL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ly={},uy={};function hL(t){return Mf.call(uy,t)?!0:Mf.call(ly,t)?!1:cL.test(t)?uy[t]=!0:(ly[t]=!0,!1)}function dL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fL(t,e,n,r){if(e===null||typeof e>"u"||dL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vg,yg);$t[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vg,yg);$t[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vg,yg);$t[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function _g(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fL(e,n,i,r)&&(n=null),r||i===null?hL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=uL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),VE=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),UE=Symbol.for("react.offscreen"),cy=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Md;function za(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Dd=!1;function Od(t,e){if(!t||Dd)return"";Dd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Dd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function pL(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function Vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case co:return"Portal";case Df:return"Profiler";case wg:return"StrictMode";case Of:return"Suspense";case Nf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VE:return(t.displayName||"Context")+".Consumer";case NE:return(t._context.displayName||"Context")+".Provider";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sg:return e=t.displayName||null,e!==null?e:Vf(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return Vf(t(e))}catch{}}return null}function gL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mL(t){var e=FE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=mL(t))}function jE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uf(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&_g(t,"checked",e,!1)}function Ff(t,e){BE(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&jf(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jf(t,e,n){(e!=="number"||Fc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $a=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if($a(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function zE(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,WE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vL=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){vL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function HE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yL=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(yL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Ig(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qf=null,ko=null,Lo=null;function gy(t){if(t=eu(t)){if(typeof qf!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Fh(e),qf(t.stateNode,t.type,e))}}function GE(t){ko?Lo?Lo.push(t):Lo=[t]:ko=t}function KE(){if(ko){var t=ko,e=Lo;if(Lo=ko=null,gy(t),e)for(t=0;t<e.length;t++)gy(e[t])}}function QE(t,e){return t(e)}function YE(){}var Nd=!1;function ZE(t,e,n){if(Nd)return t(e,n);Nd=!0;try{return QE(t,e,n)}finally{Nd=!1,(ko!==null||Lo!==null)&&(YE(),KE())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Gf=!1;if(jr)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Gf=!1}function _L(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var tl=!1,jc=null,Bc=!1,Kf=null,wL={onError:function(t){tl=!0,jc=t}};function EL(t,e,n,r,i,s,o,a,u){tl=!1,jc=null,_L.apply(wL,arguments)}function SL(t,e,n,r,i,s,o,a,u){if(EL.apply(this,arguments),tl){if(tl){var c=jc;tl=!1,jc=null}else throw Error(Q(198));Bc||(Bc=!0,Kf=c)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function my(t){if(js(t)!==t)throw Error(Q(188))}function IL(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return my(i),t;if(s===r)return my(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function JE(t){return t=IL(t),t!==null?e1(t):null}function e1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e1(t);if(e!==null)return e;t=t.sibling}return null}var t1=Tn.unstable_scheduleCallback,vy=Tn.unstable_cancelCallback,CL=Tn.unstable_shouldYield,TL=Tn.unstable_requestPaint,vt=Tn.unstable_now,kL=Tn.unstable_getCurrentPriorityLevel,Cg=Tn.unstable_ImmediatePriority,n1=Tn.unstable_UserBlockingPriority,zc=Tn.unstable_NormalPriority,LL=Tn.unstable_LowPriority,r1=Tn.unstable_IdlePriority,Oh=null,mr=null;function AL(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:RL,xL=Math.log,PL=Math.LN2;function RL(t){return t>>>=0,t===0?32:31-(xL(t)/PL|0)|0}var Nu=64,Vu=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wa(a):(s&=o,s!==0&&(r=Wa(s)))}else o=n&~i,o!==0?r=Wa(o):s!==0&&(r=Wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function bL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ML(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=bL(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i1(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function Vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function DL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function s1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o1,kg,a1,l1,u1,Yf=!1,Uu=[],Ci=null,Ti=null,ki=null,El=new Map,Sl=new Map,fi=[],OL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&kg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NL(t,e,n,r,i){switch(e){case"focusin":return Ci=Pa(Ci,t,e,n,r,i),!0;case"dragenter":return Ti=Pa(Ti,t,e,n,r,i),!0;case"mouseover":return ki=Pa(ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return El.set(s,Pa(El.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,Pa(Sl.get(s)||null,t,e,n,r,i)),!0}return!1}function c1(t){var e=ps(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=XE(n),e!==null){t.blockedOn=e,u1(t.priority,function(){a1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=eu(n),e!==null&&kg(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){fc(t)&&n.delete(e)}function VL(){Yf=!1,Ci!==null&&fc(Ci)&&(Ci=null),Ti!==null&&fc(Ti)&&(Ti=null),ki!==null&&fc(ki)&&(ki=null),El.forEach(_y),Sl.forEach(_y)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Yf||(Yf=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,VL)))}function Il(t){function e(i){return Ra(i,t)}if(0<Uu.length){Ra(Uu[0],t);for(var n=1;n<Uu.length;n++){var r=Uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&Ra(Ci,t),Ti!==null&&Ra(Ti,t),ki!==null&&Ra(ki,t),El.forEach(e),Sl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)c1(n),n.blockedOn===null&&fi.shift()}var Ao=Kr.ReactCurrentBatchConfig,Wc=!0;function UL(t,e,n,r){var i=qe,s=Ao.transition;Ao.transition=null;try{qe=1,Lg(t,e,n,r)}finally{qe=i,Ao.transition=s}}function FL(t,e,n,r){var i=qe,s=Ao.transition;Ao.transition=null;try{qe=4,Lg(t,e,n,r)}finally{qe=i,Ao.transition=s}}function Lg(t,e,n,r){if(Wc){var i=Zf(t,e,n,r);if(i===null)Gd(t,e,r,Hc,n),yy(t,r);else if(NL(i,t,e,n,r))r.stopPropagation();else if(yy(t,r),e&4&&-1<OL.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null&&o1(s),s=Zf(t,e,n,r),s===null&&Gd(t,e,r,Hc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gd(t,e,r,null,n)}}var Hc=null;function Zf(t,e,n,r){if(Hc=null,t=Ig(r),t=ps(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hc=t,null}function h1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case Cg:return 1;case n1:return 4;case zc:case LL:return 16;case r1:return 536870912;default:return 16}default:return 16}}var wi=null,Ag=null,pc=null;function d1(){if(pc)return pc;var t,e=Ag,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pc=i.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function wy(){return!1}function Ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fu:wy,this.isPropagationStopped=wy,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=Ln(ta),Jl=lt({},ta,{view:0,detail:0}),jL=Ln(Jl),Ud,Fd,ba,Nh=lt({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(Ud=t.screenX-ba.screenX,Fd=t.screenY-ba.screenY):Fd=Ud=0,ba=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:Fd}}),Ey=Ln(Nh),BL=lt({},Nh,{dataTransfer:0}),zL=Ln(BL),$L=lt({},Jl,{relatedTarget:0}),jd=Ln($L),WL=lt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),HL=Ln(WL),qL=lt({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GL=Ln(qL),KL=lt({},ta,{data:0}),Sy=Ln(KL),QL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZL[t])?!!e[t]:!1}function Pg(){return XL}var JL=lt({},Jl,{key:function(t){if(t.key){var e=QL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eA=Ln(JL),tA=lt({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=Ln(tA),nA=lt({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),rA=Ln(nA),iA=lt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=Ln(iA),oA=lt({},Nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aA=Ln(oA),lA=[9,13,27,32],Rg=jr&&"CompositionEvent"in window,nl=null;jr&&"documentMode"in document&&(nl=document.documentMode);var uA=jr&&"TextEvent"in window&&!nl,f1=jr&&(!Rg||nl&&8<nl&&11>=nl),Cy=" ",Ty=!1;function p1(t,e){switch(t){case"keyup":return lA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function cA(t,e){switch(t){case"compositionend":return g1(e);case"keypress":return e.which!==32?null:(Ty=!0,Cy);case"textInput":return t=e.data,t===Cy&&Ty?null:t;default:return null}}function hA(t,e){if(fo)return t==="compositionend"||!Rg&&p1(t,e)?(t=d1(),pc=Ag=wi=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f1&&e.locale!=="ko"?null:e.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dA[t.type]:e==="textarea"}function m1(t,e,n,r){GE(r),e=qc(e,"onChange"),0<e.length&&(n=new xg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Cl=null;function fA(t){L1(t,0)}function Vh(t){var e=mo(t);if(jE(e))return t}function pA(t,e){if(t==="change")return e}var v1=!1;if(jr){var Bd;if(jr){var zd="oninput"in document;if(!zd){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),zd=typeof Ly.oninput=="function"}Bd=zd}else Bd=!1;v1=Bd&&(!document.documentMode||9<document.documentMode)}function Ay(){rl&&(rl.detachEvent("onpropertychange",y1),Cl=rl=null)}function y1(t){if(t.propertyName==="value"&&Vh(Cl)){var e=[];m1(e,Cl,t,Ig(t)),ZE(fA,e)}}function gA(t,e,n){t==="focusin"?(Ay(),rl=e,Cl=n,rl.attachEvent("onpropertychange",y1)):t==="focusout"&&Ay()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(Cl)}function vA(t,e){if(t==="click")return Vh(e)}function yA(t,e){if(t==="input"||t==="change")return Vh(e)}function _A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:_A;function Tl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mf.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Py(t,e){var n=xy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xy(n)}}function _1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w1(){for(var t=window,e=Fc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wA(t){var e=w1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_1(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Py(n,s);var o=Py(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EA=jr&&"documentMode"in document&&11>=document.documentMode,po=null,Xf=null,il=null,Jf=!1;function Ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||po==null||po!==Fc(r)||(r=po,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Tl(il,r)||(il=r,r=qc(Xf,"onSelect"),0<r.length&&(e=new xg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},$d={},E1={};jr&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Uh(t){if($d[t])return $d[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E1)return $d[t]=e[n];return t}var S1=Uh("animationend"),I1=Uh("animationiteration"),C1=Uh("animationstart"),T1=Uh("transitionend"),k1=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){k1.set(t,e),Fs(e,[t])}for(var Wd=0;Wd<by.length;Wd++){var Hd=by[Wd],SA=Hd.toLowerCase(),IA=Hd[0].toUpperCase()+Hd.slice(1);Wi(SA,"on"+IA)}Wi(S1,"onAnimationEnd");Wi(I1,"onAnimationIteration");Wi(C1,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(T1,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function My(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SL(r,e,void 0,t),t.currentTarget=null}function L1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;My(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;My(i,a,c),s=u}}}if(Bc)throw t=Kf,Bc=!1,Kf=null,t}function et(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(A1(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),A1(n,t,r,e)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[Bu]){t[Bu]=!0,OE.forEach(function(n){n!=="selectionchange"&&(CA.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bu]||(e[Bu]=!0,qd("selectionchange",!1,e))}}function A1(t,e,n,r){switch(h1(e)){case 1:var i=UL;break;case 4:i=FL;break;default:i=Lg}n=i.bind(null,e,n,t),i=void 0,!Gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ZE(function(){var c=s,h=Ig(n),f=[];e:{var m=k1.get(t);if(m!==void 0){var v=xg,k=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":v=eA;break;case"focusin":k="focus",v=jd;break;case"focusout":k="blur",v=jd;break;case"beforeblur":case"afterblur":v=jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=rA;break;case S1:case I1:case C1:v=HL;break;case T1:v=sA;break;case"scroll":v=jL;break;case"wheel":v=aA;break;case"copy":case"cut":case"paste":v=GL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Iy}var C=(e&4)!==0,x=!C&&t==="scroll",S=C?m!==null?m+"Capture":null:m;C=[];for(var _=c,E;_!==null;){E=_;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,S!==null&&(O=wl(_,S),O!=null&&C.push(Ll(_,O,E)))),x)break;_=_.return}0<C.length&&(m=new v(m,k,null,n,h),f.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Hf&&(k=n.relatedTarget||n.fromElement)&&(ps(k)||k[Br]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=c,k=k?ps(k):null,k!==null&&(x=js(k),k!==x||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=c),v!==k)){if(C=Ey,O="onMouseLeave",S="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=Iy,O="onPointerLeave",S="onPointerEnter",_="pointer"),x=v==null?m:mo(v),E=k==null?m:mo(k),m=new C(O,_+"leave",v,n,h),m.target=x,m.relatedTarget=E,O=null,ps(h)===c&&(C=new C(S,_+"enter",k,n,h),C.target=E,C.relatedTarget=x,O=C),x=O,v&&k)t:{for(C=v,S=k,_=0,E=C;E;E=to(E))_++;for(E=0,O=S;O;O=to(O))E++;for(;0<_-E;)C=to(C),_--;for(;0<E-_;)S=to(S),E--;for(;_--;){if(C===S||S!==null&&C===S.alternate)break t;C=to(C),S=to(S)}C=null}else C=null;v!==null&&Dy(f,m,v,C,!1),k!==null&&x!==null&&Dy(f,x,k,C,!0)}}e:{if(m=c?mo(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=pA;else if(ky(m))if(v1)N=yA;else{N=mA;var b=gA}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=vA);if(N&&(N=N(t,c))){m1(f,N,n,h);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&jf(m,"number",m.value)}switch(b=c?mo(c):window,t){case"focusin":(ky(b)||b.contentEditable==="true")&&(po=b,Xf=c,il=null);break;case"focusout":il=Xf=po=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Ry(f,n,h);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":Ry(f,n,h)}var w;if(Rg)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else fo?p1(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(f1&&n.locale!=="ko"&&(fo||y!=="onCompositionStart"?y==="onCompositionEnd"&&fo&&(w=d1()):(wi=h,Ag="value"in wi?wi.value:wi.textContent,fo=!0)),b=qc(c,y),0<b.length&&(y=new Sy(y,t,null,n,h),f.push({event:y,listeners:b}),w?y.data=w:(w=g1(n),w!==null&&(y.data=w)))),(w=uA?cA(t,n):hA(t,n))&&(c=qc(c,"onBeforeInput"),0<c.length&&(h=new Sy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=w))}L1(f,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(t,n),s!=null&&r.unshift(Ll(t,s,i)),s=wl(t,e),s!=null&&r.push(Ll(t,s,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=wl(n,s),u!=null&&o.unshift(Ll(n,u,a))):i||(u=wl(n,s),u!=null&&o.push(Ll(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(kA,"")}function zu(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(Q(425))}function Gc(){}var ep=null,tp=null;function np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(xA)}:rp;function xA(t){setTimeout(function(){throw t})}function Kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Il(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),dr="__reactFiber$"+na,Al="__reactProps$"+na,Br="__reactContainer$"+na,ip="__reactEvents$"+na,PA="__reactListeners$"+na,RA="__reactHandles$"+na;function ps(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vy(t);t!==null;){if(n=t[dr])return n;t=Vy(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[dr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Fh(t){return t[Al]||null}var sp=[],vo=-1;function Hi(t){return{current:t}}function it(t){0>vo||(t.current=sp[vo],sp[vo]=null,vo--)}function Ze(t,e){vo++,sp[vo]=t.current,t.current=e}var Fi={},en=Hi(Fi),fn=Hi(!1),Ls=Fi;function No(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function Kc(){it(fn),it(en)}function Uy(t,e,n){if(en.current!==Fi)throw Error(Q(168));Ze(en,e),Ze(fn,n)}function x1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,gL(t)||"Unknown",i));return lt({},n,r)}function Qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Ls=en.current,Ze(en,t),Ze(fn,fn.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=x1(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,it(fn),it(en),Ze(en,t)):it(fn),Ze(fn,n)}var Pr=null,jh=!1,Qd=!1;function P1(t){Pr===null?Pr=[t]:Pr.push(t)}function bA(t){jh=!0,P1(t)}function qi(){if(!Qd&&Pr!==null){Qd=!0;var t=0,e=qe;try{var n=Pr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,jh=!1}catch(i){throw Pr!==null&&(Pr=Pr.slice(t+1)),t1(Cg,qi),i}finally{qe=e,Qd=!1}}return null}var yo=[],_o=0,Yc=null,Zc=0,Pn=[],Rn=0,As=null,Rr=1,br="";function hs(t,e){yo[_o++]=Zc,yo[_o++]=Yc,Yc=t,Zc=e}function R1(t,e,n){Pn[Rn++]=Rr,Pn[Rn++]=br,Pn[Rn++]=As,As=t;var r=Rr;t=br;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Zn(e)+i|n<<i|r,br=s+t}else Rr=1<<s|n<<i|r,br=t}function Mg(t){t.return!==null&&(hs(t,1),R1(t,1,0))}function Dg(t){for(;t===Yc;)Yc=yo[--_o],yo[_o]=null,Zc=yo[--_o],yo[_o]=null;for(;t===As;)As=Pn[--Rn],Pn[Rn]=null,br=Pn[--Rn],Pn[Rn]=null,Rr=Pn[--Rn],Pn[Rn]=null}var In=null,En=null,st=!1,Gn=null;function b1(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,En=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:Rr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,En=null,!0):!1;default:return!1}}function op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(st){var e=En;if(e){var n=e;if(!jy(t,e)){if(op(t))throw Error(Q(418));e=Li(n.nextSibling);var r=In;e&&jy(t,e)?b1(r,n):(t.flags=t.flags&-4097|2,st=!1,In=t)}}else{if(op(t))throw Error(Q(418));t.flags=t.flags&-4097|2,st=!1,In=t}}}function By(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function $u(t){if(t!==In)return!1;if(!st)return By(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!np(t.type,t.memoizedProps)),e&&(e=En)){if(op(t))throw M1(),Error(Q(418));for(;e;)b1(t,e),e=Li(e.nextSibling)}if(By(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=In?Li(t.stateNode.nextSibling):null;return!0}function M1(){for(var t=En;t;)t=Li(t.nextSibling)}function Vo(){En=In=null,st=!1}function Og(t){Gn===null?Gn=[t]:Gn.push(t)}var MA=Kr.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function D1(t){function e(S,_){if(t){var E=S.deletions;E===null?(S.deletions=[_],S.flags|=16):E.push(_)}}function n(S,_){if(!t)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=Ri(S,_),S.index=0,S.sibling=null,S}function s(S,_,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<_?(S.flags|=2,_):E):(S.flags|=2,_)):(S.flags|=1048576,_)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,_,E,O){return _===null||_.tag!==6?(_=nf(E,S.mode,O),_.return=S,_):(_=i(_,E),_.return=S,_)}function u(S,_,E,O){var N=E.type;return N===ho?h(S,_,E.props.children,O,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&zy(N)===_.type)?(O=i(_,E.props),O.ref=Ma(S,_,E),O.return=S,O):(O=Sc(E.type,E.key,E.props,null,S.mode,O),O.ref=Ma(S,_,E),O.return=S,O)}function c(S,_,E,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=rf(E,S.mode,O),_.return=S,_):(_=i(_,E.children||[]),_.return=S,_)}function h(S,_,E,O,N){return _===null||_.tag!==7?(_=Ss(E,S.mode,O,N),_.return=S,_):(_=i(_,E),_.return=S,_)}function f(S,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nf(""+_,S.mode,E),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mu:return E=Sc(_.type,_.key,_.props,null,S.mode,E),E.ref=Ma(S,null,_),E.return=S,E;case co:return _=rf(_,S.mode,E),_.return=S,_;case ci:var O=_._init;return f(S,O(_._payload),E)}if($a(_)||Aa(_))return _=Ss(_,S.mode,E,null),_.return=S,_;Wu(S,_)}return null}function m(S,_,E,O){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(S,_,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mu:return E.key===N?u(S,_,E,O):null;case co:return E.key===N?c(S,_,E,O):null;case ci:return N=E._init,m(S,_,N(E._payload),O)}if($a(E)||Aa(E))return N!==null?null:h(S,_,E,O,null);Wu(S,E)}return null}function v(S,_,E,O,N){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(E)||null,a(_,S,""+O,N);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Mu:return S=S.get(O.key===null?E:O.key)||null,u(_,S,O,N);case co:return S=S.get(O.key===null?E:O.key)||null,c(_,S,O,N);case ci:var b=O._init;return v(S,_,E,b(O._payload),N)}if($a(O)||Aa(O))return S=S.get(E)||null,h(_,S,O,N,null);Wu(_,O)}return null}function k(S,_,E,O){for(var N=null,b=null,w=_,y=_=0,L=null;w!==null&&y<E.length;y++){w.index>y?(L=w,w=null):L=w.sibling;var I=m(S,w,E[y],O);if(I===null){w===null&&(w=L);break}t&&w&&I.alternate===null&&e(S,w),_=s(I,_,y),b===null?N=I:b.sibling=I,b=I,w=L}if(y===E.length)return n(S,w),st&&hs(S,y),N;if(w===null){for(;y<E.length;y++)w=f(S,E[y],O),w!==null&&(_=s(w,_,y),b===null?N=w:b.sibling=w,b=w);return st&&hs(S,y),N}for(w=r(S,w);y<E.length;y++)L=v(w,S,y,E[y],O),L!==null&&(t&&L.alternate!==null&&w.delete(L.key===null?y:L.key),_=s(L,_,y),b===null?N=L:b.sibling=L,b=L);return t&&w.forEach(function(M){return e(S,M)}),st&&hs(S,y),N}function C(S,_,E,O){var N=Aa(E);if(typeof N!="function")throw Error(Q(150));if(E=N.call(E),E==null)throw Error(Q(151));for(var b=N=null,w=_,y=_=0,L=null,I=E.next();w!==null&&!I.done;y++,I=E.next()){w.index>y?(L=w,w=null):L=w.sibling;var M=m(S,w,I.value,O);if(M===null){w===null&&(w=L);break}t&&w&&M.alternate===null&&e(S,w),_=s(M,_,y),b===null?N=M:b.sibling=M,b=M,w=L}if(I.done)return n(S,w),st&&hs(S,y),N;if(w===null){for(;!I.done;y++,I=E.next())I=f(S,I.value,O),I!==null&&(_=s(I,_,y),b===null?N=I:b.sibling=I,b=I);return st&&hs(S,y),N}for(w=r(S,w);!I.done;y++,I=E.next())I=v(w,S,y,I.value,O),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?y:I.key),_=s(I,_,y),b===null?N=I:b.sibling=I,b=I);return t&&w.forEach(function(R){return e(S,R)}),st&&hs(S,y),N}function x(S,_,E,O){if(typeof E=="object"&&E!==null&&E.type===ho&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Mu:e:{for(var N=E.key,b=_;b!==null;){if(b.key===N){if(N=E.type,N===ho){if(b.tag===7){n(S,b.sibling),_=i(b,E.props.children),_.return=S,S=_;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&zy(N)===b.type){n(S,b.sibling),_=i(b,E.props),_.ref=Ma(S,b,E),_.return=S,S=_;break e}n(S,b);break}else e(S,b);b=b.sibling}E.type===ho?(_=Ss(E.props.children,S.mode,O,E.key),_.return=S,S=_):(O=Sc(E.type,E.key,E.props,null,S.mode,O),O.ref=Ma(S,_,E),O.return=S,S=O)}return o(S);case co:e:{for(b=E.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(S,_.sibling),_=i(_,E.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else e(S,_);_=_.sibling}_=rf(E,S.mode,O),_.return=S,S=_}return o(S);case ci:return b=E._init,x(S,_,b(E._payload),O)}if($a(E))return k(S,_,E,O);if(Aa(E))return C(S,_,E,O);Wu(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(S,_.sibling),_=i(_,E),_.return=S,S=_):(n(S,_),_=nf(E,S.mode,O),_.return=S,S=_),o(S)):n(S,_)}return x}var Uo=D1(!0),O1=D1(!1),Xc=Hi(null),Jc=null,wo=null,Ng=null;function Vg(){Ng=wo=Jc=null}function Ug(t){var e=Xc.current;it(Xc),t._currentValue=e}function lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){Jc=t,Ng=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Ng!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Jc===null)throw Error(Q(308));wo=t,Jc.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var gs=null;function Fg(t){gs===null?gs=[t]:gs.push(t)}function N1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fg(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Fg(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tg(t,n)}}function $y(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eh(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,C=a;switch(m=e,v=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){f=k.call(v,f,m);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,m=typeof k=="function"?k.call(v,f,m):k,m==null)break e;f=lt({},f,m);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ps|=o,t.lanes=o,t.memoizedState=f}}function Wy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var tu={},vr=Hi(tu),xl=Hi(tu),Pl=Hi(tu);function ms(t){if(t===tu)throw Error(Q(174));return t}function Bg(t,e){switch(Ze(Pl,e),Ze(xl,t),Ze(vr,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}it(vr),Ze(vr,e)}function Fo(){it(vr),it(xl),it(Pl)}function U1(t){ms(Pl.current);var e=ms(vr.current),n=zf(e,t.type);e!==n&&(Ze(xl,t),Ze(vr,n))}function zg(t){xl.current===t&&(it(vr),it(xl))}var ot=Hi(0);function th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yd=[];function $g(){for(var t=0;t<Yd.length;t++)Yd[t]._workInProgressVersionPrimary=null;Yd.length=0}var vc=Kr.ReactCurrentDispatcher,Zd=Kr.ReactCurrentBatchConfig,xs=0,at=null,Lt=null,Mt=null,nh=!1,sl=!1,Rl=0,DA=0;function Gt(){throw Error(Q(321))}function Wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(xs=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?UA:FA,t=n(r,i),sl){s=0;do{if(sl=!1,Rl=0,25<=s)throw Error(Q(301));s+=1,Mt=Lt=null,e.updateQueue=null,vc.current=jA,t=n(r,i)}while(sl)}if(vc.current=rh,e=Lt!==null&&Lt.next!==null,xs=0,Mt=Lt=at=null,nh=!1,e)throw Error(Q(300));return t}function qg(){var t=Rl!==0;return Rl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?at.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Nn(){if(Lt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Mt===null?at.memoizedState:Mt.next;if(e!==null)Mt=e,Lt=t;else{if(t===null)throw Error(Q(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Mt===null?at.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function bl(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=Nn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((xs&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,at.lanes|=h,Ps|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,tr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,Ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=Nn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function F1(){}function j1(t,e){var n=at,r=Nn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,Gg($1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,z1.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(Q(349));xs&30||B1(n,e,i)}return i}function B1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z1(t,e,n,r){e.value=n,e.getSnapshot=r,W1(e)&&H1(t)}function $1(t,e,n){return n(function(){W1(e)&&H1(t)})}function W1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function H1(t){var e=zr(t,1);e!==null&&Xn(e,t,1,-1)}function Hy(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=VA.bind(null,at,t),[e.memoizedState,t]}function Ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q1(){return Nn().memoizedState}function yc(t,e,n,r){var i=ur();at.flags|=t,i.memoizedState=Ml(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(Lt!==null){var o=Lt.memoizedState;if(s=o.destroy,r!==null&&Wg(r,o.deps)){i.memoizedState=Ml(e,n,s,r);return}}at.flags|=t,i.memoizedState=Ml(1|e,n,s,r)}function qy(t,e){return yc(8390656,8,t,e)}function Gg(t,e){return Bh(2048,8,t,e)}function G1(t,e){return Bh(4,2,t,e)}function K1(t,e){return Bh(4,4,t,e)}function Q1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y1(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,Q1.bind(null,e,t),n)}function Kg(){}function Z1(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X1(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J1(t,e,n){return xs&21?(tr(n,e)||(n=i1(),at.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function OA(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Zd.transition;Zd.transition={};try{t(!1),e()}finally{qe=n,Zd.transition=r}}function eS(){return Nn().memoizedState}function NA(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(t))nS(e,n);else if(n=N1(t,e,n,r),n!==null){var i=on();Xn(n,t,r,i),rS(n,e,r)}}function VA(t,e,n){var r=Pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(t))nS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var u=e.interleaved;u===null?(i.next=i,Fg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=N1(t,e,i,r),n!==null&&(i=on(),Xn(n,t,r,i),rS(n,e,r))}}function tS(t){var e=t.alternate;return t===at||e!==null&&e===at}function nS(t,e){sl=nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tg(t,n)}}var rh={readContext:On,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},UA={readContext:On,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:qy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yc(4194308,4,Q1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return yc(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NA.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Hy,useDebugValue:Kg,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Hy(!1),e=t[0];return t=OA.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=ur();if(st){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ot===null)throw Error(Q(349));xs&30||B1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qy($1.bind(null,r,s,t),[t]),r.flags|=2048,Ml(9,z1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ur(),e=Ot.identifierPrefix;if(st){var n=br,r=Rr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FA={readContext:On,useCallback:Z1,useContext:On,useEffect:Gg,useImperativeHandle:Y1,useInsertionEffect:G1,useLayoutEffect:K1,useMemo:X1,useReducer:Xd,useRef:q1,useState:function(){return Xd(bl)},useDebugValue:Kg,useDeferredValue:function(t){var e=Nn();return J1(e,Lt.memoizedState,t)},useTransition:function(){var t=Xd(bl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:j1,useId:eS,unstable_isNewReconciler:!1},jA={readContext:On,useCallback:Z1,useContext:On,useEffect:Gg,useImperativeHandle:Y1,useInsertionEffect:G1,useLayoutEffect:K1,useMemo:X1,useReducer:Jd,useRef:q1,useState:function(){return Jd(bl)},useDebugValue:Kg,useDeferredValue:function(t){var e=Nn();return Lt===null?e.memoizedState=t:J1(e,Lt.memoizedState,t)},useTransition:function(){var t=Jd(bl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:j1,useId:eS,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Pi(t),s=Vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Xn(e,t,i,r),mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Pi(t),s=Vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,i),e!==null&&(Xn(e,t,i,r),mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Pi(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ai(t,i,r),e!==null&&(Xn(e,t,r,n),mc(e,t,r))}};function Gy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function iS(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=pn(e)?Ls:en.current,r=e.contextTypes,s=(r=r!=null)?No(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=pn(e)?Ls:en.current,i.context=No(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(up(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zh.enqueueReplaceState(i,i.state,null),eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=pL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BA=typeof WeakMap=="function"?WeakMap:Map;function sS(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sh||(sh=!0,Ep=r),hp(t,e)},n}function oS(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hp(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tx.bind(null,t,e,n),e.then(t,t))}function Yy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var zA=Kr.ReactCurrentOwner,dn=!1;function rn(t,e,n,r){e.child=t===null?O1(e,null,n,r):Uo(e,t.child,n,r)}function Xy(t,e,n,r,i){n=n.render;var s=e.ref;return xo(e,i),r=Hg(t,e,n,r,s,i),n=qg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(st&&n&&Mg(e),e.flags|=1,rn(t,e,r,i),e.child)}function Jy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!nm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aS(t,e,s,r,i)):(t=Sc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(o,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function aS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,$r(t,e,i)}return dp(t,e,n,r,i)}function lS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(So,_n),_n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(So,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(So,_n),_n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(So,_n),_n|=r;return rn(t,e,i,n),e.child}function uS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,i){var s=pn(n)?Ls:en.current;return s=No(e,s),xo(e,i),n=Hg(t,e,n,r,s,i),r=qg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(st&&r&&Mg(e),e.flags|=1,rn(t,e,n,i),e.child)}function e_(t,e,n,r,i){if(pn(n)){var s=!0;Qc(e)}else s=!1;if(xo(e,i),e.stateNode===null)_c(t,e),iS(e,n,r),cp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=pn(n)?Ls:en.current,c=No(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ky(e,o,r,c),hi=!1;var m=e.memoizedState;o.state=m,eh(e,r,o,i),u=e.memoizedState,a!==r||m!==u||fn.current||hi?(typeof h=="function"&&(up(e,n,h,r),u=e.memoizedState),(a=hi||Gy(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=pn(n)?Ls:en.current,u=No(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Ky(e,o,r,u),hi=!1,m=e.memoizedState,o.state=m,eh(e,r,o,i);var k=e.memoizedState;a!==f||m!==k||fn.current||hi?(typeof v=="function"&&(up(e,n,v,r),k=e.memoizedState),(c=hi||Gy(e,n,c,r,m,k,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return fp(t,e,n,r,s,i)}function fp(t,e,n,r,i,s){uS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fy(e,n,!1),$r(t,e,s);r=e.stateNode,zA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&Fy(e,n,!0),e.child}function cS(t){var e=t.stateNode;e.pendingContext?Uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uy(t,e.context,!1),Bg(t,e.containerInfo)}function t_(t,e,n,r,i){return Vo(),Og(i),e.flags|=256,rn(t,e,n,r),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function hS(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ot,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hh(o,r,0,null),t=Ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gp(n),e.memoizedState=pp,t):Qg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $A(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=Ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pp,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qg(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hu(t,e,n,r){return r!==null&&Og(r),Uo(e,t.child,null,n),t=Qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $A(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ef(Error(Q(422))),Hu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hh({mode:"visible",children:r.children},i,0,null),s=Ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=gp(o),e.memoizedState=pp,s);if(!(e.mode&1))return Hu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=ef(s,r,void 0),Hu(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zr(t,i),Xn(r,t,i,-1))}return tm(),r=ef(Error(Q(421))),Hu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Li(i.nextSibling),In=e,st=!0,Gn=null,t!==null&&(Pn[Rn++]=Rr,Pn[Rn++]=br,Pn[Rn++]=As,Rr=t.id,br=t.overflow,As=e),e=Qg(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lp(t.return,e,n)}function tf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tf(e,!0,n,null,s);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WA(t,e,n){switch(e.tag){case 3:cS(e),Vo();break;case 5:U1(e);break;case 1:pn(e.type)&&Qc(e);break;case 4:Bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Xc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?hS(t,e,n):(Ze(ot,ot.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Ze(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,lS(t,e,n)}return $r(t,e,n)}var fS,mp,pS,gS;fS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};pS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(vr.current);var s=null;switch(n){case"input":i=Uf(t,i),r=Uf(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=Bf(t,i),r=Bf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gc)}$f(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&et("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Da(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HA(t,e,n){var r=e.pendingProps;switch(Dg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return pn(e.type)&&Kc(),Kt(e),null;case 3:return r=e.stateNode,Fo(),it(fn),it(en),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Cp(Gn),Gn=null))),mp(t,e),Kt(e),null;case 5:zg(e);var i=ms(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)pS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Kt(e),null}if(t=ms(vr.current),$u(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[Al]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Ha.length;i++)et(Ha[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":hy(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":fy(r,s),et("invalid",r)}$f(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":Du(r),dy(r,s,!0);break;case"textarea":Du(r),py(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Al]=r,fS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wf(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ha.length;i++)et(Ha[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":hy(t,r),i=Uf(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),et("invalid",t);break;case"textarea":fy(t,r),i=Bf(t,r),et("invalid",t);break;default:i=r}$f(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?qE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&WE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_l(t,u):typeof u=="number"&&_l(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&et("scroll",t):u!=null&&_g(t,s,u,o))}switch(n){case"input":Du(t),dy(t,r,!1);break;case"textarea":Du(t),py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?To(t,!!r.multiple,s,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)gS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ms(Pl.current),ms(vr.current),$u(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Kt(e),null;case 13:if(it(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&En!==null&&e.mode&1&&!(e.flags&128))M1(),Vo(),e.flags|=98560,s=!1;else if(s=$u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[dr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else Gn!==null&&(Cp(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?At===0&&(At=3):tm())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Fo(),mp(t,e),t===null&&kl(e.stateNode.containerInfo),Kt(e),null;case 10:return Ug(e.type._context),Kt(e),null;case 17:return pn(e.type)&&Kc(),Kt(e),null;case 19:if(it(ot),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Da(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=th(t),o!==null){for(e.flags|=128,Da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&vt()>Bo&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304)}else{if(!r)if(t=th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return Kt(e),null}else 2*vt()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,n=ot.current,Ze(ot,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function qA(t,e){switch(Dg(e),e.tag){case 1:return pn(e.type)&&Kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fo(),it(fn),it(en),$g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zg(e),null;case 13:if(it(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ot),null;case 4:return Fo(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var qu=!1,Zt=!1,GA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function vp(t,e,n){try{n()}catch(r){dt(t,e,r)}}var r_=!1;function KA(t,e){if(ep=Wc,t=w1(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:t,selectionRange:n},Wc=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,x=k.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:Hn(e.type,C),x);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(O){dt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return k=r_,r_=!1,k}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vp(e,n,s)}i=i.next}while(i!==r)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mS(t){var e=t.alternate;e!==null&&(t.alternate=null,mS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Al],delete e[ip],delete e[PA],delete e[RA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gc));else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var Vt=null,qn=!1;function si(t,e,n){for(n=n.child;n!==null;)yS(t,e,n),n=n.sibling}function yS(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:Zt||Eo(n,e);case 6:var r=Vt,i=qn;Vt=null,si(t,e,n),Vt=r,qn=i,Vt!==null&&(qn?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(qn?(t=Vt,n=n.stateNode,t.nodeType===8?Kd(t.parentNode,n):t.nodeType===1&&Kd(t,n),Il(t)):Kd(Vt,n.stateNode));break;case 4:r=Vt,i=qn,Vt=n.stateNode.containerInfo,qn=!0,si(t,e,n),Vt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vp(n,e,o),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!Zt&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,si(t,e,n),Zt=r):si(t,e,n);break;default:si(t,e,n)}}function s_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GA),e.forEach(function(r){var i=rx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,qn=!1;break e;case 3:Vt=a.stateNode.containerInfo,qn=!0;break e;case 4:Vt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Vt===null)throw Error(Q(160));yS(s,o,i),Vt=null,qn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),lr(t),r&4){try{ol(3,t,t.return),$h(3,t)}catch(C){dt(t,t.return,C)}try{ol(5,t,t.return)}catch(C){dt(t,t.return,C)}}break;case 1:Bn(e,t),lr(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(Bn(e,t),lr(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(C){dt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BE(i,s),Wf(a,o);var c=Wf(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?qE(i,f):h==="dangerouslySetInnerHTML"?WE(i,f):h==="children"?_l(i,f):_g(i,h,f,c)}switch(a){case"input":Ff(i,s);break;case"textarea":zE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?To(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?To(i,!!s.multiple,s.defaultValue,!0):To(i,!!s.multiple,s.multiple?[]:"",!1))}i[Al]=s}catch(C){dt(t,t.return,C)}}break;case 6:if(Bn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){dt(t,t.return,C)}}break;case 3:if(Bn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(C){dt(t,t.return,C)}break;case 4:Bn(e,t),lr(t);break;case 13:Bn(e,t),lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=vt())),r&4&&s_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||h,Bn(e,t),Zt=c):Bn(e,t),lr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(f=ie=h;ie!==null;){switch(m=ie,v=m.child,m.tag){case 0:case 11:case 14:case 15:ol(4,m,m.return);break;case 1:Eo(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){dt(r,n,C)}}break;case 5:Eo(m,m.return);break;case 22:if(m.memoizedState!==null){a_(f);continue}}v!==null?(v.return=m,ie=v):a_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=HE("display",o))}catch(C){dt(t,t.return,C)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){dt(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),lr(t),r&4&&s_(t);break;case 21:break;default:Bn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=i_(t);wp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i_(t);_p(t,a,o);break;default:throw Error(Q(161))}}catch(u){dt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QA(t,e,n){ie=t,wS(t)}function wS(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Zt;a=qu;var c=Zt;if(qu=o,(Zt=u)&&!c)for(ie=i;ie!==null;)o=ie,u=o.child,o.tag===22&&o.memoizedState!==null?l_(i):u!==null?(u.return=o,ie=u):l_(i);for(;s!==null;)ie=s,wS(s),s=s.sibling;ie=i,qu=a,Zt=c}o_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):o_(t)}}function o_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||$h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Il(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Zt||e.flags&512&&yp(e)}catch(m){dt(e,e.return,m)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function a_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function l_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(u){dt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){dt(e,i,u)}}var s=e.return;try{yp(e)}catch(u){dt(e,s,u)}break;case 5:var o=e.return;try{yp(e)}catch(u){dt(e,o,u)}}}catch(u){dt(e,e.return,u)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var YA=Math.ceil,ih=Kr.ReactCurrentDispatcher,Yg=Kr.ReactCurrentOwner,Dn=Kr.ReactCurrentBatchConfig,Ve=0,Ot=null,St=null,Bt=0,_n=0,So=Hi(0),At=0,Dl=null,Ps=0,Wh=0,Zg=0,al=null,hn=null,Xg=0,Bo=1/0,Ar=null,sh=!1,Ep=null,xi=null,Gu=!1,Ei=null,oh=0,ll=0,Sp=null,wc=-1,Ec=0;function on(){return Ve&6?vt():wc!==-1?wc:wc=vt()}function Pi(t){return t.mode&1?Ve&2&&Bt!==0?Bt&-Bt:MA.transition!==null?(Ec===0&&(Ec=i1()),Ec):(t=qe,t!==0||(t=window.event,t=t===void 0?16:h1(t.type)),t):1}function Xn(t,e,n,r){if(50<ll)throw ll=0,Sp=null,Error(Q(185));Xl(t,n,r),(!(Ve&2)||t!==Ot)&&(t===Ot&&(!(Ve&2)&&(Wh|=n),At===4&&pi(t,Bt)),gn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Bo=vt()+500,jh&&qi()))}function gn(t,e){var n=t.callbackNode;ML(t,e);var r=$c(t,t===Ot?Bt:0);if(r===0)n!==null&&vy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vy(n),e===1)t.tag===0?bA(u_.bind(null,t)):P1(u_.bind(null,t)),AA(function(){!(Ve&6)&&qi()}),n=null;else{switch(s1(r)){case 1:n=Cg;break;case 4:n=n1;break;case 16:n=zc;break;case 536870912:n=r1;break;default:n=zc}n=AS(n,ES.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ES(t,e){if(wc=-1,Ec=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=$c(t,t===Ot?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ah(t,r);else{e=r;var i=Ve;Ve|=2;var s=IS();(Ot!==t||Bt!==e)&&(Ar=null,Bo=vt()+500,Es(t,e));do try{JA();break}catch(a){SS(t,a)}while(!0);Vg(),ih.current=s,Ve=i,St!==null?e=0:(Ot=null,Bt=0,e=At)}if(e!==0){if(e===2&&(i=Qf(t),i!==0&&(r=i,e=Ip(t,i))),e===1)throw n=Dl,Es(t,0),pi(t,r),gn(t,vt()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZA(i)&&(e=ah(t,r),e===2&&(s=Qf(t),s!==0&&(r=s,e=Ip(t,s))),e===1))throw n=Dl,Es(t,0),pi(t,r),gn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ds(t,hn,Ar);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Xg+500-vt(),10<e)){if($c(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rp(ds.bind(null,t,hn,Ar),e);break}ds(t,hn,Ar);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YA(r/1960))-r,10<r){t.timeoutHandle=rp(ds.bind(null,t,hn,Ar),r);break}ds(t,hn,Ar);break;case 5:ds(t,hn,Ar);break;default:throw Error(Q(329))}}}return gn(t,vt()),t.callbackNode===n?ES.bind(null,t):null}function Ip(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=ah(t,e),t!==2&&(e=hn,hn=n,e!==null&&Cp(e)),t}function Cp(t){hn===null?hn=t:hn.push.apply(hn,t)}function ZA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Zg,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function u_(t){if(Ve&6)throw Error(Q(327));Po();var e=$c(t,0);if(!(e&1))return gn(t,vt()),null;var n=ah(t,e);if(t.tag!==0&&n===2){var r=Qf(t);r!==0&&(e=r,n=Ip(t,r))}if(n===1)throw n=Dl,Es(t,0),pi(t,e),gn(t,vt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,hn,Ar),gn(t,vt()),null}function Jg(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Bo=vt()+500,jh&&qi())}}function Rs(t){Ei!==null&&Ei.tag===0&&!(Ve&6)&&Po();var e=Ve;Ve|=1;var n=Dn.transition,r=qe;try{if(Dn.transition=null,qe=1,t)return t()}finally{qe=r,Dn.transition=n,Ve=e,!(Ve&6)&&qi()}}function em(){_n=So.current,it(So)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LA(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Dg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kc();break;case 3:Fo(),it(fn),it(en),$g();break;case 5:zg(r);break;case 4:Fo();break;case 13:it(ot);break;case 19:it(ot);break;case 10:Ug(r.type._context);break;case 22:case 23:em()}n=n.return}if(Ot=t,St=t=Ri(t.current,null),Bt=_n=e,At=0,Dl=null,Zg=Wh=Ps=0,hn=al=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gs=null}return t}function SS(t,e){do{var n=St;try{if(Vg(),vc.current=rh,nh){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(xs=0,Mt=Lt=at=null,sl=!1,Rl=0,Yg.current=null,n===null||n.return===null){At=1,Dl=e,St=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Bt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Yy(o);if(v!==null){v.flags&=-257,Zy(v,o,a,s,e),v.mode&1&&Qy(s,c,e),e=v,u=c;var k=e.updateQueue;if(k===null){var C=new Set;C.add(u),e.updateQueue=C}else k.add(u);break e}else{if(!(e&1)){Qy(s,c,e),tm();break e}u=Error(Q(426))}}else if(st&&a.mode&1){var x=Yy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zy(x,o,a,s,e),Og(jo(u,a));break e}}s=u=jo(u,a),At!==4&&(At=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=sS(s,u,e);$y(s,S);break e;case 1:a=u;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xi===null||!xi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=oS(s,a,e);$y(s,O);break e}}s=s.return}while(s!==null)}TS(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function IS(){var t=ih.current;return ih.current=rh,t===null?rh:t}function tm(){(At===0||At===3||At===2)&&(At=4),Ot===null||!(Ps&268435455)&&!(Wh&268435455)||pi(Ot,Bt)}function ah(t,e){var n=Ve;Ve|=2;var r=IS();(Ot!==t||Bt!==e)&&(Ar=null,Es(t,e));do try{XA();break}catch(i){SS(t,i)}while(!0);if(Vg(),Ve=n,ih.current=r,St!==null)throw Error(Q(261));return Ot=null,Bt=0,At}function XA(){for(;St!==null;)CS(St)}function JA(){for(;St!==null&&!CL();)CS(St)}function CS(t){var e=LS(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?TS(t):St=e,Yg.current=null}function TS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qA(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,St=null;return}}else if(n=HA(n,e,_n),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);At===0&&(At=5)}function ds(t,e,n){var r=qe,i=Dn.transition;try{Dn.transition=null,qe=1,ex(t,e,n,r)}finally{Dn.transition=i,qe=r}return null}function ex(t,e,n,r){do Po();while(Ei!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DL(t,s),t===Ot&&(St=Ot=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,AS(zc,function(){return Po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var o=qe;qe=1;var a=Ve;Ve|=4,Yg.current=null,KA(t,n),_S(n,t),wA(tp),Wc=!!ep,tp=ep=null,t.current=n,QA(n),TL(),Ve=a,qe=o,Dn.transition=s}else t.current=n;if(Gu&&(Gu=!1,Ei=t,oh=i),s=t.pendingLanes,s===0&&(xi=null),AL(n.stateNode),gn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sh)throw sh=!1,t=Ep,Ep=null,t;return oh&1&&t.tag!==0&&Po(),s=t.pendingLanes,s&1?t===Sp?ll++:(ll=0,Sp=t):ll=0,qi(),null}function Po(){if(Ei!==null){var t=s1(oh),e=Dn.transition,n=qe;try{if(Dn.transition=null,qe=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,oh=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ie=c;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:ol(8,h,s)}var f=h.child;if(f!==null)f.return=h,ie=f;else for(;ie!==null;){h=ie;var m=h.sibling,v=h.return;if(mS(h),h===c){ie=null;break}if(m!==null){m.return=v,ie=m;break}ie=v}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var x=C.sibling;C.sibling=null,C=x}while(C!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ie=S;break e}ie=s.return}}var _=t.current;for(ie=_;ie!==null;){o=ie;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ie=E;else e:for(o=_;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$h(9,a)}}catch(N){dt(a,a.return,N)}if(a===o){ie=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ie=O;break e}ie=a.return}}if(Ve=i,qi(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{qe=n,Dn.transition=e}}return!1}function c_(t,e,n){e=jo(n,e),e=sS(t,e,1),t=Ai(t,e,1),e=on(),t!==null&&(Xl(t,1,e),gn(t,e))}function dt(t,e,n){if(t.tag===3)c_(t,t,n);else for(;e!==null;){if(e.tag===3){c_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=jo(n,t),t=oS(e,t,1),e=Ai(e,t,1),t=on(),e!==null&&(Xl(e,1,t),gn(e,t));break}}e=e.return}}function tx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Bt&n)===n&&(At===4||At===3&&(Bt&130023424)===Bt&&500>vt()-Xg?Es(t,0):Zg|=n),gn(t,e)}function kS(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=on();t=zr(t,e),t!==null&&(Xl(t,e,n),gn(t,n))}function nx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kS(t,n)}function rx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),kS(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,WA(t,e,n);dn=!!(t.flags&131072)}else dn=!1,st&&e.flags&1048576&&R1(e,Zc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=No(e,en.current);xo(e,n),i=Hg(null,e,r,t,i,n);var s=qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,Qc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jg(e),i.updater=zh,e.stateNode=i,i._reactInternals=e,cp(e,r,t,n),e=fp(null,e,r,!0,s,n)):(e.tag=0,st&&s&&Mg(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sx(r),t=Hn(r,t),i){case 0:e=dp(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Xy(null,e,r,t,n);break e;case 14:e=Jy(null,e,r,Hn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),e_(t,e,r,i,n);case 3:e:{if(cS(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,V1(t,e),eh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jo(Error(Q(423)),e),e=t_(t,e,r,n,i);break e}else if(r!==i){i=jo(Error(Q(424)),e),e=t_(t,e,r,n,i);break e}else for(En=Li(e.stateNode.containerInfo.firstChild),In=e,st=!0,Gn=null,n=O1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=$r(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return U1(e),t===null&&ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,np(r,i)?o=null:s!==null&&np(r,s)&&(e.flags|=32),uS(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&ap(e),null;case 13:return hS(t,e,n);case 4:return Bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),Xy(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(Xc,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!fn.current){e=$r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),lp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=On(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=Hn(r,e.pendingProps),i=Hn(r.type,i),Jy(t,e,r,i,n);case 15:return aS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hn(r,i),_c(t,e),e.tag=1,pn(r)?(t=!0,Qc(e)):t=!1,xo(e,n),iS(e,r,i),cp(e,r,i,n),fp(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return lS(t,e,n)}throw Error(Q(156,e.tag))};function AS(t,e){return t1(t,e)}function ix(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new ix(t,e,n,r)}function nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sx(t){if(typeof t=="function")return nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eg)return 11;if(t===Sg)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")nm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return Ss(n.children,i,s,e);case wg:o=8,i|=8;break;case Df:return t=Mn(12,n,e,i|2),t.elementType=Df,t.lanes=s,t;case Of:return t=Mn(13,n,e,i),t.elementType=Of,t.lanes=s,t;case Nf:return t=Mn(19,n,e,i),t.elementType=Nf,t.lanes=s,t;case UE:return Hh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NE:o=10;break e;case VE:o=9;break e;case Eg:o=11;break e;case Sg:o=14;break e;case ci:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ss(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=UE,t.lanes=n,t.stateNode={isHidden:!1},t}function nf(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ox(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vd(0),this.expirationTimes=Vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rm(t,e,n,r,i,s,o,a,u){return t=new ox(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(s),t}function ax(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xS(t){if(!t)return Fi;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(pn(n))return x1(t,n,e)}return e}function PS(t,e,n,r,i,s,o,a,u){return t=rm(n,r,!0,t,i,s,o,a,u),t.context=xS(null),n=t.current,r=on(),i=Pi(n),s=Vr(r,i),s.callback=e??null,Ai(n,s,i),t.current.lanes=i,Xl(t,i,r),gn(t,r),t}function qh(t,e,n,r){var i=e.current,s=on(),o=Pi(i);return n=xS(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(i,e,o),t!==null&&(Xn(t,i,o,s),mc(t,i,o)),o}function lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function im(t,e){h_(t,e),(t=t.alternate)&&h_(t,e)}function lx(){return null}var RS=typeof reportError=="function"?reportError:function(t){console.error(t)};function sm(t){this._internalRoot=t}Gh.prototype.render=sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));qh(t,e,null,null)};Gh.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){qh(null,t,null,null)}),e[Br]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=l1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&c1(t)}};function om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d_(){}function ux(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=lh(o);s.call(c)}}var o=PS(e,r,t,0,null,!1,!1,"",d_);return t._reactRootContainer=o,t[Br]=o.current,kl(t.nodeType===8?t.parentNode:t),Rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=lh(u);a.call(c)}}var u=rm(t,0,!1,null,null,!1,!1,"",d_);return t._reactRootContainer=u,t[Br]=u.current,kl(t.nodeType===8?t.parentNode:t),Rs(function(){qh(e,u,n,r)}),u}function Qh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=lh(o);a.call(u)}}qh(e,o,t,i)}else o=ux(n,e,t,i,r);return lh(o)}o1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(Tg(e,n|1),gn(e,vt()),!(Ve&6)&&(Bo=vt()+500,qi()))}break;case 13:Rs(function(){var r=zr(t,1);if(r!==null){var i=on();Xn(r,t,1,i)}}),im(t,1)}};kg=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=on();Xn(e,t,134217728,n)}im(t,134217728)}};a1=function(t){if(t.tag===13){var e=Pi(t),n=zr(t,e);if(n!==null){var r=on();Xn(n,t,e,r)}im(t,e)}};l1=function(){return qe};u1=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};qf=function(t,e,n){switch(e){case"input":if(Ff(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fh(r);if(!i)throw Error(Q(90));jE(r),Ff(r,i)}}}break;case"textarea":zE(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};QE=Jg;YE=Rs;var cx={usingClientEntryPoint:!1,Events:[eu,mo,Fh,GE,KE,Jg]},Oa={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hx={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JE(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Oh=Ku.inject(hx),mr=Ku}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(e))throw Error(Q(200));return ax(t,e,null,n)};kn.createRoot=function(t,e){if(!om(t))throw Error(Q(299));var n=!1,r="",i=RS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rm(t,1,!1,null,null,n,!1,r,i),t[Br]=e.current,kl(t.nodeType===8?t.parentNode:t),new sm(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=JE(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Rs(t)};kn.hydrate=function(t,e,n){if(!Kh(e))throw Error(Q(200));return Qh(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!om(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PS(e,null,t,1,n??null,i,!1,s,o),t[Br]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gh(e)};kn.render=function(t,e,n){if(!Kh(e))throw Error(Q(200));return Qh(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Kh(t))throw Error(Q(40));return t._reactRootContainer?(Rs(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};kn.unstable_batchedUpdates=Jg;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Qh(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(t){console.error(t)}}bS(),bE.exports=kn;var Bs=bE.exports,MS,f_=Bs;MS=f_.createRoot,f_.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}var Si;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Si||(Si={}));const p_="popstate";function dx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uh(i)}return px(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fx(){return Math.random().toString(36).substr(2,8)}function g_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,n,r){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ra(e):e,{state:n,key:e&&e.key||r||fx()})}function uh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function px(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Si.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Ol({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Si.Pop;let x=h(),S=x==null?null:x-c;c=x,u&&u({action:a,location:C.location,delta:S})}function m(x,S){a=Si.Push;let _=Tp(C.location,x,S);c=h()+1;let E=g_(_,c),O=C.createHref(_);try{o.pushState(E,"",O)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(O)}s&&u&&u({action:a,location:C.location,delta:1})}function v(x,S){a=Si.Replace;let _=Tp(C.location,x,S);c=h();let E=g_(_,c),O=C.createHref(_);o.replaceState(E,"",O),s&&u&&u({action:a,location:C.location,delta:0})}function k(x){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:uh(x);return _=_.replace(/ $/,"%20"),yt(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let C={get action(){return a},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(p_,f),u=x,()=>{i.removeEventListener(p_,f),u=null}},createHref(x){return e(i,x)},createURL:k,encodeLocation(x){let S=k(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(x){return o.go(x)}};return C}var m_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m_||(m_={}));function gx(t,e,n){return n===void 0&&(n="/"),mx(t,e,n,!1)}function mx(t,e,n,r){let i=typeof e=="string"?ra(e):e,s=am(i.pathname||"/",n);if(s==null)return null;let o=OS(t);vx(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Ax(s);a=kx(o[u],c,r)}return a}function OS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(yt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=bi([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OS(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Cx(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of NS(s.path))i(s,o,u)}),e}function NS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NS(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function vx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yx=/^:[\w-]+$/,_x=3,wx=2,Ex=1,Sx=10,Ix=-2,v_=t=>t==="*";function Cx(t,e){let n=t.split("/"),r=n.length;return n.some(v_)&&(r+=Ix),e&&(r+=wx),n.filter(i=>!v_(i)).reduce((i,s)=>i+(yx.test(s)?_x:s===""?Ex:Sx),r)}function Tx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kx(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=y_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=y_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bi([s,f.pathname]),pathnameBase:bx(bi([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=bi([s,f.pathnameBase]))}return o}function y_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Lx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let C=a[f]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const k=a[f];return v&&!k?c[m]=void 0:c[m]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Lx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),DS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ax(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function am(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ra(t):t;return{pathname:n?n.startsWith("/")?n:Px(n,e):e,search:Mx(r),hash:Dx(i)}}function Px(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lm(t,e){let n=Rx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function um(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ra(t):(i=Ol({},t),yt(!i.pathname||!i.pathname.includes("?"),sf("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),sf("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),sf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=xx(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),bx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ox(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VS=["post","put","patch","delete"];new Set(VS);const Nx=["get",...VS];new Set(Nx);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}const cm=p.createContext(null),Vx=p.createContext(null),Gi=p.createContext(null),Yh=p.createContext(null),Qr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),US=p.createContext(null);function Ux(t,e){let{relative:n}=e===void 0?{}:e;ia()||yt(!1);let{basename:r,navigator:i}=p.useContext(Gi),{hash:s,pathname:o,search:a}=jS(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:bi([r,o])),i.createHref({pathname:u,search:a,hash:s})}function ia(){return p.useContext(Yh)!=null}function nu(){return ia()||yt(!1),p.useContext(Yh).location}function FS(t){p.useContext(Gi).static||p.useLayoutEffect(t)}function Zh(){let{isDataRoute:t}=p.useContext(Qr);return t?Jx():Fx()}function Fx(){ia()||yt(!1);let t=p.useContext(cm),{basename:e,future:n,navigator:r}=p.useContext(Gi),{matches:i}=p.useContext(Qr),{pathname:s}=nu(),o=JSON.stringify(lm(i,n.v7_relativeSplatPath)),a=p.useRef(!1);return FS(()=>{a.current=!0}),p.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=um(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}const jx=p.createContext(null);function Bx(t){let e=p.useContext(Qr).outlet;return e&&p.createElement(jx.Provider,{value:t},e)}function jS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Gi),{matches:i}=p.useContext(Qr),{pathname:s}=nu(),o=JSON.stringify(lm(i,r.v7_relativeSplatPath));return p.useMemo(()=>um(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zx(t,e){return $x(t,e)}function $x(t,e,n,r){ia()||yt(!1);let{navigator:i}=p.useContext(Gi),{matches:s}=p.useContext(Qr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=nu(),h;if(e){var f;let x=typeof e=="string"?ra(e):e;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||yt(!1),h=x}else h=c;let m=h.pathname||"/",v=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let k=gx(t,{pathname:v}),C=Kx(k&&k.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:bi([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:bi([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&C?p.createElement(Yh.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Si.Pop}},C):C}function Wx(){let t=Xx(),e=Ox(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,null)}const Hx=p.createElement(Wx,null);class qx extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Qr.Provider,{value:this.props.routeContext},p.createElement(US.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gx(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(cm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Qr.Provider,{value:e},r)}function Kx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||yt(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:v}=n,k=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||k){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let v,k=!1,C=null,x=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,C=f.route.errorElement||Hx,u&&(c<0&&m===0?(k=!0,x=null):c===m&&(k=!0,x=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),_=()=>{let E;return v?E=C:k?E=x:f.route.Component?E=p.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,p.createElement(Gx,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(qx,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var BS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BS||{}),ch=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ch||{});function Qx(t){let e=p.useContext(cm);return e||yt(!1),e}function Yx(t){let e=p.useContext(Vx);return e||yt(!1),e}function Zx(t){let e=p.useContext(Qr);return e||yt(!1),e}function zS(t){let e=Zx(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function Xx(){var t;let e=p.useContext(US),n=Yx(ch.UseRouteError),r=zS(ch.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Jx(){let{router:t}=Qx(BS.UseNavigateStable),e=zS(ch.UseNavigateStable),n=p.useRef(!1);return FS(()=>{n.current=!0}),p.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nl({fromRouteId:e},s)))},[t,e])}function eP(t){let{to:e,replace:n,state:r,relative:i}=t;ia()||yt(!1);let{future:s,static:o}=p.useContext(Gi),{matches:a}=p.useContext(Qr),{pathname:u}=nu(),c=Zh(),h=um(e,lm(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(h);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function tP(t){return Bx(t.context)}function Wn(t){yt(!1)}function nP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Si.Pop,navigator:s,static:o=!1,future:a}=t;ia()&&yt(!1);let u=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:u,navigator:s,static:o,future:Nl({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=ra(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:k="default"}=r,C=p.useMemo(()=>{let x=am(h,u);return x==null?null:{location:{pathname:x,search:f,hash:m,state:v,key:k},navigationType:i}},[u,h,f,m,v,k,i]);return C==null?null:p.createElement(Gi.Provider,{value:c},p.createElement(Yh.Provider,{children:n,value:C}))}function rP(t){let{children:e,location:n}=t;return zx(kp(e),n)}new Promise(()=>{});function kp(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let s=[...e,i];if(r.type===p.Fragment){n.push.apply(n,kp(r.props.children,s));return}r.type!==Wn&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}function iP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oP(t,e){return t.button===0&&(!e||e==="_self")&&!sP(t)}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lP="6";try{window.__reactRouterVersion=lP}catch{}const uP="startTransition",__=tL[uP];function cP(t){let{basename:e,children:n,future:r,window:i}=t,s=p.useRef();s.current==null&&(s.current=dx({window:i,v5Compat:!0}));let o=s.current,[a,u]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=p.useCallback(f=>{c&&__?__(()=>u(f)):u(f)},[u,c]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.createElement(nP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const hP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xh=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,m=iP(e,aP),{basename:v}=p.useContext(Gi),k,C=!1;if(typeof c=="string"&&dP.test(c)&&(k=c,hP))try{let E=new URL(window.location.href),O=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=am(O.pathname,v);O.origin===E.origin&&N!=null?c=N+O.search+O.hash:C=!0}catch{}let x=Ux(c,{relative:i}),S=fP(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:f});function _(E){r&&r(E),E.defaultPrevented||S(E)}return p.createElement("a",Lp({},m,{href:k||x,onClick:C||s?r:_,ref:n,target:u}))});var w_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w_||(w_={}));var E_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(E_||(E_={}));function fP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Zh(),c=nu(),h=jS(t,{relative:o});return p.useCallback(f=>{if(oP(f,n)){f.preventDefault();let m=r!==void 0?r:uh(c)===uh(h);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}var Jt=function(){return Jt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jt.apply(this,arguments)};function hm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var tt="-ms-",ul="-moz-",We="-webkit-",$S="comm",Jh="rule",dm="decl",pP="@import",WS="@keyframes",gP="@layer",HS=Math.abs,fm=String.fromCharCode,Ap=Object.assign;function mP(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function qS(t){return t.trim()}function xr(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function Ic(t,e,n){return t.indexOf(e,n)}function Dt(t,e){return t.charCodeAt(e)|0}function zo(t,e,n){return t.slice(e,n)}function hr(t){return t.length}function GS(t){return t.length}function qa(t,e){return e.push(t),t}function vP(t,e){return t.map(e).join("")}function S_(t,e){return t.filter(function(n){return!xr(n,e)})}var ed=1,$o=1,KS=0,Vn=0,Et=0,sa="";function td(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ed,column:$o,length:o,return:"",siblings:a}}function li(t,e){return Ap(td("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function no(t){for(;t.root;)t=li(t.root,{children:[t]});qa(t,t.siblings)}function yP(){return Et}function _P(){return Et=Vn>0?Dt(sa,--Vn):0,$o--,Et===10&&($o=1,ed--),Et}function Jn(){return Et=Vn<KS?Dt(sa,Vn++):0,$o++,Et===10&&($o=1,ed++),Et}function Is(){return Dt(sa,Vn)}function Cc(){return Vn}function nd(t,e){return zo(sa,t,e)}function xp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wP(t){return ed=$o=1,KS=hr(sa=t),Vn=0,[]}function EP(t){return sa="",t}function of(t){return qS(nd(Vn-1,Pp(t===91?t+2:t===40?t+1:t)))}function SP(t){for(;(Et=Is())&&Et<33;)Jn();return xp(t)>2||xp(Et)>3?"":" "}function IP(t,e){for(;--e&&Jn()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return nd(t,Cc()+(e<6&&Is()==32&&Jn()==32))}function Pp(t){for(;Jn();)switch(Et){case t:return Vn;case 34:case 39:t!==34&&t!==39&&Pp(Et);break;case 40:t===41&&Pp(t);break;case 92:Jn();break}return Vn}function CP(t,e){for(;Jn()&&t+Et!==57;)if(t+Et===84&&Is()===47)break;return"/*"+nd(e,Vn-1)+"*"+fm(t===47?t:Jn())}function TP(t){for(;!xp(Is());)Jn();return nd(t,Vn)}function kP(t){return EP(Tc("",null,null,null,[""],t=wP(t),0,[0],t))}function Tc(t,e,n,r,i,s,o,a,u){for(var c=0,h=0,f=o,m=0,v=0,k=0,C=1,x=1,S=1,_=0,E="",O=i,N=s,b=r,w=E;x;)switch(k=_,_=Jn()){case 40:if(k!=108&&Dt(w,f-1)==58){Ic(w+=Le(of(_),"&","&\f"),"&\f",HS(c?a[c-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:w+=of(_);break;case 9:case 10:case 13:case 32:w+=SP(k);break;case 92:w+=IP(Cc()-1,7);continue;case 47:switch(Is()){case 42:case 47:qa(LP(CP(Jn(),Cc()),e,n,u),u);break;default:w+="/"}break;case 123*C:a[c++]=hr(w)*S;case 125*C:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+h:S==-1&&(w=Le(w,/\f/g,"")),v>0&&hr(w)-f&&qa(v>32?C_(w+";",r,n,f-1,u):C_(Le(w," ","")+";",r,n,f-2,u),u);break;case 59:w+=";";default:if(qa(b=I_(w,e,n,c,h,i,a,E,O=[],N=[],f,s),s),_===123)if(h===0)Tc(w,e,b,b,O,s,f,a,N);else switch(m===99&&Dt(w,3)===110?100:m){case 100:case 108:case 109:case 115:Tc(t,b,b,r&&qa(I_(t,b,b,0,0,i,a,E,i,O=[],f,N),N),i,N,f,a,r?O:N);break;default:Tc(w,b,b,b,[""],N,0,a,N)}}c=h=v=0,C=S=1,E=w="",f=o;break;case 58:f=1+hr(w),v=k;default:if(C<1){if(_==123)--C;else if(_==125&&C++==0&&_P()==125)continue}switch(w+=fm(_),_*C){case 38:S=h>0?1:(w+="\f",-1);break;case 44:a[c++]=(hr(w)-1)*S,S=1;break;case 64:Is()===45&&(w+=of(Jn())),m=Is(),h=f=hr(E=w+=TP(Cc())),_++;break;case 45:k===45&&hr(w)==2&&(C=0)}}return s}function I_(t,e,n,r,i,s,o,a,u,c,h,f){for(var m=i-1,v=i===0?s:[""],k=GS(v),C=0,x=0,S=0;C<r;++C)for(var _=0,E=zo(t,m+1,m=HS(x=o[C])),O=t;_<k;++_)(O=qS(x>0?v[_]+" "+E:Le(E,/&\f/g,v[_])))&&(u[S++]=O);return td(t,e,n,i===0?Jh:a,u,c,h,f)}function LP(t,e,n,r){return td(t,e,n,$S,fm(yP()),zo(t,2,-2),0,r)}function C_(t,e,n,r,i){return td(t,e,n,dm,zo(t,0,r),zo(t,r+1,-1),r,i)}function QS(t,e,n){switch(mP(t,e)){case 5103:return We+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+t+t;case 4789:return ul+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return We+t+ul+t+tt+t+t;case 5936:switch(Dt(t,e+11)){case 114:return We+t+tt+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return We+t+tt+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return We+t+tt+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return We+t+tt+t+t;case 6165:return We+t+tt+"flex-"+t+t;case 5187:return We+t+Le(t,/(\w+).+(:[^]+)/,We+"box-$1$2"+tt+"flex-$1$2")+t;case 5443:return We+t+tt+"flex-item-"+Le(t,/flex-|-self/g,"")+(xr(t,/flex-|baseline/)?"":tt+"grid-row-"+Le(t,/flex-|-self/g,""))+t;case 4675:return We+t+tt+"flex-line-pack"+Le(t,/align-content|flex-|-self/g,"")+t;case 5548:return We+t+tt+Le(t,"shrink","negative")+t;case 5292:return We+t+tt+Le(t,"basis","preferred-size")+t;case 6060:return We+"box-"+Le(t,"-grow","")+We+t+tt+Le(t,"grow","positive")+t;case 4554:return We+Le(t,/([^-])(transform)/g,"$1"+We+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+tt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+t+t;case 4200:if(!xr(t,/flex-|baseline/))return tt+"grid-column-align"+zo(t,e)+t;break;case 2592:case 3360:return tt+Le(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,xr(r.props,/grid-\w+-end/)})?~Ic(t+(n=n[e].value),"span",0)?t:tt+Le(t,"-start","")+t+tt+"grid-row-span:"+(~Ic(n,"span",0)?xr(n,/\d+/):+xr(n,/\d+/)-+xr(t,/\d+/))+";":tt+Le(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return xr(r.props,/grid-\w+-start/)})?t:tt+Le(Le(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,We+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hr(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+ul+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ic(t,"stretch",0)?QS(Le(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Le(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,u,c){return tt+i+":"+s+c+(o?tt+i+"-span:"+(a?u:+u-+s)+c:"")+t});case 4949:if(Dt(t,e+6)===121)return Le(t,":",":"+We)+t;break;case 6444:switch(Dt(t,Dt(t,14)===45?18:11)){case 120:return Le(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+We+(Dt(t,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+tt+"$2box$3")+t;case 100:return Le(t,":",":"+tt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Le(t,"scroll-","scroll-snap-")+t}return t}function hh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function AP(t,e,n,r){switch(t.type){case gP:if(t.children.length)break;case pP:case dm:return t.return=t.return||t.value;case $S:return"";case WS:return t.return=t.value+"{"+hh(t.children,r)+"}";case Jh:if(!hr(t.value=t.props.join(",")))return""}return hr(n=hh(t.children,r))?t.return=t.value+"{"+n+"}":""}function xP(t){var e=GS(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function PP(t){return function(e){e.root||(e=e.return)&&t(e)}}function RP(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case dm:t.return=QS(t.value,t.length,n);return;case WS:return hh([li(t,{value:Le(t.value,"@","@"+We)})],r);case Jh:if(t.length)return vP(n=t.props,function(i){switch(xr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":no(li(t,{props:[Le(i,/:(read-\w+)/,":"+ul+"$1")]})),no(li(t,{props:[i]})),Ap(t,{props:S_(n,r)});break;case"::placeholder":no(li(t,{props:[Le(i,/:(plac\w+)/,":"+We+"input-$1")]})),no(li(t,{props:[Le(i,/:(plac\w+)/,":"+ul+"$1")]})),no(li(t,{props:[Le(i,/:(plac\w+)/,tt+"input-$1")]})),no(li(t,{props:[i]})),Ap(t,{props:S_(n,r)});break}return""})}}var bP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yn={},Wo=typeof process<"u"&&yn!==void 0&&(yn.REACT_APP_SC_ATTR||yn.SC_ATTR)||"data-styled",YS="active",ZS="data-styled-version",rd="6.1.13",pm=`/*!sc*/
`,dh=typeof window<"u"&&"HTMLElement"in window,MP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&yn!==void 0&&yn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&yn.REACT_APP_SC_DISABLE_SPEEDY!==""?yn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&yn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&yn!==void 0&&yn.SC_DISABLE_SPEEDY!==void 0&&yn.SC_DISABLE_SPEEDY!==""&&yn.SC_DISABLE_SPEEDY!=="false"&&yn.SC_DISABLE_SPEEDY),DP={},id=Object.freeze([]),Ho=Object.freeze({});function XS(t,e,n){return n===void 0&&(n=Ho),t.theme!==n.theme&&t.theme||e||n.theme}var JS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,NP=/(^-|-$)/g;function T_(t){return t.replace(OP,"-").replace(NP,"")}var VP=/(a)(d)/gi,Qu=52,k_=function(t){return String.fromCharCode(t+(t>25?39:97))};function Rp(t){var e,n="";for(e=Math.abs(t);e>Qu;e=e/Qu|0)n=k_(e%Qu)+n;return(k_(e%Qu)+n).replace(VP,"$1-$2")}var af,eI=5381,Io=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},tI=function(t){return Io(eI,t)};function nI(t){return Rp(tI(t)>>>0)}function UP(t){return t.displayName||t.name||"Component"}function lf(t){return typeof t=="string"&&!0}var rI=typeof Symbol=="function"&&Symbol.for,iI=rI?Symbol.for("react.memo"):60115,FP=rI?Symbol.for("react.forward_ref"):60112,jP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zP=((af={})[FP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},af[iI]=sI,af);function L_(t){return("type"in(e=t)&&e.type.$$typeof)===iI?sI:"$$typeof"in t?zP[t.$$typeof]:jP;var e}var $P=Object.defineProperty,WP=Object.getOwnPropertyNames,A_=Object.getOwnPropertySymbols,HP=Object.getOwnPropertyDescriptor,qP=Object.getPrototypeOf,x_=Object.prototype;function oI(t,e,n){if(typeof e!="string"){if(x_){var r=qP(e);r&&r!==x_&&oI(t,r,n)}var i=WP(e);A_&&(i=i.concat(A_(e)));for(var s=L_(t),o=L_(e),a=0;a<i.length;++a){var u=i[a];if(!(u in BP||n&&n[u]||o&&u in o||s&&u in s)){var c=HP(e,u);try{$P(t,u,c)}catch{}}}}return t}function qo(t){return typeof t=="function"}function gm(t){return typeof t=="object"&&"styledComponentId"in t}function vs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function bp(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Ul(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Mp(t,e,n){if(n===void 0&&(n=!1),!n&&!Ul(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Mp(t[r],e[r]);else if(Ul(e))for(var r in e)t[r]=Mp(t[r],e[r]);return t}function mm(t,e){Object.defineProperty(t,"toString",{value:e})}function ru(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var GP=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ru(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(pm);return n},t}(),kc=new Map,fh=new Map,Lc=1,Yu=function(t){if(kc.has(t))return kc.get(t);for(;fh.has(Lc);)Lc++;var e=Lc++;return kc.set(t,e),fh.set(e,t),e},KP=function(t,e){Lc=e+1,kc.set(t,e),fh.set(e,t)},QP="style[".concat(Wo,"][").concat(ZS,'="').concat(rd,'"]'),YP=new RegExp("^".concat(Wo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ZP=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},XP=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(pm),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var u=a.match(YP);if(u){var c=0|parseInt(u[1],10),h=u[2];c!==0&&(KP(h,c),ZP(t,h,u[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},P_=function(t){for(var e=document.querySelectorAll(QP),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Wo)!==YS&&(XP(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function JP(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var aI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var u=Array.from(a.querySelectorAll("style[".concat(Wo,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Wo,YS),r.setAttribute(ZS,rd);var o=JP();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},eR=function(){function t(e){this.element=aI(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ru(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),tR=function(){function t(e){this.element=aI(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),nR=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),R_=dh,rR={isServer:!dh,useCSSOMInjection:!MP},ph=function(){function t(e,n,r){e===void 0&&(e=Ho),n===void 0&&(n={});var i=this;this.options=Jt(Jt({},rR),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&dh&&R_&&(R_=!1,P_(this)),mm(this,function(){return function(s){for(var o=s.getTag(),a=o.length,u="",c=function(f){var m=function(S){return fh.get(S)}(f);if(m===void 0)return"continue";var v=s.names.get(m),k=o.getGroup(f);if(v===void 0||!v.size||k.length===0)return"continue";var C="".concat(Wo,".g").concat(f,'[id="').concat(m,'"]'),x="";v!==void 0&&v.forEach(function(S){S.length>0&&(x+="".concat(S,","))}),u+="".concat(k).concat(C,'{content:"').concat(x,'"}').concat(pm)},h=0;h<a;h++)c(h);return u}(i)})}return t.registerId=function(e){return Yu(e)},t.prototype.rehydrate=function(){!this.server&&dh&&P_(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Jt(Jt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new nR(i):r?new eR(i):new tR(i)}(this.options),new GP(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Yu(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Yu(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Yu(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),iR=/&/g,sR=/^\s*\/\/.*$/gm;function lI(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=lI(n.children,e)),n})}function oR(t){var e,n,r,i=Ho,s=i.options,o=s===void 0?Ho:s,a=i.plugins,u=a===void 0?id:a,c=function(m,v,k){return k.startsWith(n)&&k.endsWith(n)&&k.replaceAll(n,"").length>0?".".concat(e):m},h=u.slice();h.push(function(m){m.type===Jh&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(iR,n).replace(r,c))}),o.prefix&&h.push(RP),h.push(AP);var f=function(m,v,k,C){v===void 0&&(v=""),k===void 0&&(k=""),C===void 0&&(C="&"),e=C,n=v,r=new RegExp("\\".concat(n,"\\b"),"g");var x=m.replace(sR,""),S=kP(k||v?"".concat(k," ").concat(v," { ").concat(x," }"):x);o.namespace&&(S=lI(S,o.namespace));var _=[];return hh(S,xP(h.concat(PP(function(E){return _.push(E)})))),_};return f.hash=u.length?u.reduce(function(m,v){return v.name||ru(15),Io(m,v.name)},eI).toString():"",f}var aR=new ph,Dp=oR(),uI=ht.createContext({shouldForwardProp:void 0,styleSheet:aR,stylis:Dp});uI.Consumer;ht.createContext(void 0);function Op(){return p.useContext(uI)}var lR=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Dp);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,mm(this,function(){throw ru(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Dp),this.name+e.hash},t}(),uR=function(t){return t>="A"&&t<="Z"};function b_(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;uR(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var cI=function(t){return t==null||t===!1||t===""},hI=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!cI(s)&&(Array.isArray(s)&&s.isCss||qo(s)?r.push("".concat(b_(i),":"),s,";"):Ul(s)?r.push.apply(r,Vl(Vl(["".concat(i," {")],hI(s),!1),["}"],!1)):r.push("".concat(b_(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in bP||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Mi(t,e,n,r){if(cI(t))return[];if(gm(t))return[".".concat(t.styledComponentId)];if(qo(t)){if(!qo(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Mi(i,e,n,r)}var s;return t instanceof lR?n?(t.inject(n,r),[t.getName(r)]):[t]:Ul(t)?hI(t):Array.isArray(t)?Array.prototype.concat.apply(id,t.map(function(o){return Mi(o,e,n,r)})):[t.toString()]}function dI(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(qo(n)&&!gm(n))return!1}return!0}var cR=tI(rd),hR=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&dI(e),this.componentId=n,this.baseHash=Io(cR,n),this.baseStyle=r,ph.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=vs(i,this.staticRulesId);else{var s=bp(Mi(this.rules,e,n,r)),o=Rp(Io(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=vs(i,o),this.staticRulesId=o}else{for(var u=Io(this.baseHash,r.hash),c="",h=0;h<this.rules.length;h++){var f=this.rules[h];if(typeof f=="string")c+=f;else if(f){var m=bp(Mi(f,e,n,r));u=Io(u,m+h),c+=m}}if(c){var v=Rp(u>>>0);n.hasNameForId(this.componentId,v)||n.insertRules(this.componentId,v,r(c,".".concat(v),void 0,this.componentId)),i=vs(i,v)}}return i},t}(),vm=ht.createContext(void 0);vm.Consumer;var uf={};function dR(t,e,n){var r=gm(t),i=t,s=!lf(t),o=e.attrs,a=o===void 0?id:o,u=e.componentId,c=u===void 0?function(O,N){var b=typeof O!="string"?"sc":T_(O);uf[b]=(uf[b]||0)+1;var w="".concat(b,"-").concat(nI(rd+b+uf[b]));return N?"".concat(N,"-").concat(w):w}(e.displayName,e.parentComponentId):u,h=e.displayName,f=h===void 0?function(O){return lf(O)?"styled.".concat(O):"Styled(".concat(UP(O),")")}(t):h,m=e.displayName&&e.componentId?"".concat(T_(e.displayName),"-").concat(e.componentId):e.componentId||c,v=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,k=e.shouldForwardProp;if(r&&i.shouldForwardProp){var C=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;k=function(O,N){return C(O,N)&&x(O,N)}}else k=C}var S=new hR(n,m,r?i.componentStyle:void 0);function _(O,N){return function(b,w,y){var L=b.attrs,I=b.componentStyle,M=b.defaultProps,R=b.foldedComponentIds,A=b.styledComponentId,te=b.target,re=ht.useContext(vm),ce=Op(),X=b.shouldForwardProp||ce.shouldForwardProp,$=XS(w,re,M)||Ho,Y=function(Ie,B,_e){for(var Re,le=Jt(Jt({},B),{className:void 0,theme:_e}),Me=0;Me<Ie.length;Me+=1){var De=qo(Re=Ie[Me])?Re(le):Re;for(var ke in De)le[ke]=ke==="className"?vs(le[ke],De[ke]):ke==="style"?Jt(Jt({},le[ke]),De[ke]):De[ke]}return B.className&&(le.className=vs(le.className,B.className)),le}(L,w,$),J=Y.as||te,ne={};for(var se in Y)Y[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&Y.theme===$||(se==="forwardedAs"?ne.as=Y.forwardedAs:X&&!X(se,J)||(ne[se]=Y[se]));var de=function(Ie,B){var _e=Op(),Re=Ie.generateAndInjectStyles(B,_e.styleSheet,_e.stylis);return Re}(I,Y),ge=vs(R,A);return de&&(ge+=" "+de),Y.className&&(ge+=" "+Y.className),ne[lf(J)&&!JS.has(J)?"class":"className"]=ge,ne.ref=y,p.createElement(J,ne)}(E,O,N)}_.displayName=f;var E=ht.forwardRef(_);return E.attrs=v,E.componentStyle=S,E.displayName=f,E.shouldForwardProp=k,E.foldedComponentIds=r?vs(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=m,E.target=r?i.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(O){this._foldedDefaultProps=r?function(N){for(var b=[],w=1;w<arguments.length;w++)b[w-1]=arguments[w];for(var y=0,L=b;y<L.length;y++)Mp(N,L[y],!0);return N}({},i.defaultProps,O):O}}),mm(E,function(){return".".concat(E.styledComponentId)}),s&&oI(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function M_(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var D_=function(t){return Object.assign(t,{isCss:!0})};function fI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qo(t)||Ul(t))return D_(Mi(M_(id,Vl([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Mi(r):D_(Mi(M_(r,e)))}function Np(t,e,n){if(n===void 0&&(n=Ho),!e)throw ru(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,fI.apply(void 0,Vl([i],s,!1)))};return r.attrs=function(i){return Np(t,e,Jt(Jt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Np(t,e,Jt(Jt({},n),i))},r}var pI=function(t){return Np(dR,t)},W=pI;JS.forEach(function(t){W[t]=pI(t)});var fR=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=dI(e),ph.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(bp(Mi(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&ph.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function pR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=fI.apply(void 0,Vl([t],e,!1)),i="sc-global-".concat(nI(JSON.stringify(r))),s=new fR(r,i),o=function(u){var c=Op(),h=ht.useContext(vm),f=ht.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(f,u,c.styleSheet,h,c.stylis),ht.useLayoutEffect(function(){if(!c.styleSheet.server)return a(f,u,c.styleSheet,h,c.stylis),function(){return s.removeStyles(f,c.styleSheet)}},[f,u,c.styleSheet,h,c.stylis]),null};function a(u,c,h,f,m){if(s.isStatic)s.renderStyles(u,DP,h,m);else{var v=Jt(Jt({},c),{theme:XS(c,f,o.defaultProps)});s.renderStyles(u,v,h,m)}}return ht.memo(o)}const gR=pR`

html,
body,
div,
span,
applet,
object,
iframe,
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
pre,
a,
abbr,
acronym,
address,
big,
cite,
code,
del,
dfn,
em,
img,
ins,
kbd,
q,
s,
samp,
small,
strike,
strong,
sub,
sup,
tt,
var,
b,
u,
i,
center,
dl,
dt,
dd,
ol,
ul,
li,
fieldset,
form,
label,
legend,
table,
caption,
tbody,
tfoot,
thead,
tr,
th,
td,
article,
aside,
canvas,
details,
embed,
figure,
figcaption,
footer,
header,
hgroup,
menu,
nav,
output,
ruby,
section,
summary,
time,
mark,
audio,
video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section {
  display: block;
}
body {
  line-height: 1;
}
ol,
ul {
  list-style: none;
}
blockquote,
q {
  quotes: none;
}
blockquote:before,
blockquote:after,
q:before,
q:after {
  content: "";
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
img {
  max-width: 100%;
  height: 100%;
  object-fit: contain;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

:root {
    --primary-color: #F44336;
    --secondary-color: #fff;
}
html{

}
body {
  line-height: 1.5;
  display: block;
}
a {
  text-decoration: none;
}

`,mR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAgCAYAAAD9jPHNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARHSURBVHgB7ZvtdZswFIbf9vR/3A3UCeJOUDpB0gmiThBvEDqBuwHuBM4GJBPYmQA6gZ0JKDeGRpZBH6AP2vg55x5jWegK6ZWQLhiIQ1LbsrZNbbvaqg6j9LzJl8AdSUTfZ0bCayvQ3Wk6K5rzh3KNg2hi+D4zEobDiK4cWNaUZ8rMoe/c0vcZBzAMn3VUMwKbuO8zDmBw34GmHRnT9xlH+OpA8ZbSR+7Z9wZn/sJqW+PQ6HO4gcNvB7bGI/pOoYfhMJBoZ7dQ5LvFoQ844sFw2HlSfRc2J2YwG9U2FAjTiUVE3ySKGdSsNXUlMqlcV4PYBroOsd0Km5NzuJ2aOcJ0YGuJ4DsJ7PsaanL0dwp1WobTAcEQHrkeO5OT3jefTEjbYzxfEJbrnuMQXGl+nynSSVxcSv9WW4mw3HbUQzezHkGqb5WXYzxDA3ZDTZw188C+C6gp0D2q1x1lcYRnju7rMpqBWlwLqApsRc+1hDBdQ8v1ITJMQzwM6vbS8gETJ0kSXF1d4fn5Gff399hutwiF6Pvh4eHFOrCa6nEQD5fSvte2Qnhox8VwXI+sObZaykxuBprNZlWe55XM3d1dkBlovV6f+F4ul0NGqu52zhGHW6keKY43IIVNYZMTUJZlVR+LxcKrgEgoffSISEWO6YmH4bgeWZOe4H8QUH3rqFTsdruXGQoeBMQYq3RIvocKKEU8xDaiY9akJ7AU0HtMkJubG+XvdQeCcw4f1LObkzwG0C2EITx3OF33lBjIJAU0n+sDsZeXl/CBSbkm9TOAFt+0PmIIB8XIUuH7j9oeMIJ2F2a7k/AKzTA66lsNfGBS7sXFBUZQ4lU0bTDxK/wHD8nXUkq7aaxlL+XPmrRftXVufycpIBNoa+2D/d5FIF4JiYVEw5rvDGFENMfpbMcU+UkTvDmmz49dmXzdwkqMwCTWI+UpheNRCnh6erLNYxuYKnEqFgb/bztuMbxfetvUl4AeMYLHR/3pq9VK/PrkyrdUbicU0BT4DXtKdIuIHm/4uhuQCD41fluj527fBfsl5ac8nxtTIm4vaWGXCMYkM7lAjhFbadomF0XRu42mGJF0jvgANRnjm6wrgNlCAUbYxXLkZ14iDKdhhxzx4BgYB7Jt5KWmPBLZbkC5R/GYLhFRGv2mudCYvmVkAckDkHXUN0UcOAYKaEiD60gHlHnSkfUtpdpsNi+WpmlXEI93+F4E8p1CzwpqARG0wBX7INbrsnxoHVLYNfBPgzLlN9x8WKHwn0f0LZII56wV+eZ4ffU1QRwYXoVsFC19JxyL2zxaQM1wPFpK4bOEeYU28LMwLKHe+jL429lQ+3yGeTskzecWbl7Ye1O0I8v16GcGvpkH3zvEeWf5TcPgriNz2M0qzKHv0I8ezkhwDO9M3d9ifPtOcWYycBx2J7qXrajDM7hdVF5b+qb8/9yjnlC8wzSQF+x7hFtsxvT9z/MHdhEbjcNq25QAAAAASUVORK5CYII=";var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new yR;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const k=c<<6&192|f;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(t){const e=gI(t);return mI.encodeByteArray(e,!0)},gh=function(t){return _R(t).replace(/\./g,"")},vI=function(t){try{return mI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>wR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof O_>"u")return;const t=O_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vI(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return ER()||SR()||IR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yI=t=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_I=t=>{const e=yI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wI=()=>{var t;return(t=sd())===null||t===void 0?void 0:t.config},EI=t=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify(n)),gh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function kR(){var t;const e=(t=sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function DR(t,e){return t.replace(OR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OR=/\{\$([^}]+)}/g;function NR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(N_(s)&&N_(o)){if(!mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VR(t,e){const n=new UR(t,e);return n.subscribe.bind(n)}class UR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cf),i.error===void 0&&(i.error=cf),i.complete===void 0&&(i.complete=cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zR(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BR(t){return t===fs?void 0:t}function zR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const WR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},HR=Oe.INFO,qR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},GR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=HR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const KR=(t,e)=>e.some(n=>t instanceof n);let V_,U_;function QR(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YR(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const II=new WeakMap,Vp=new WeakMap,CI=new WeakMap,hf=new WeakMap,_m=new WeakMap;function ZR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&II.set(n,t)}).catch(()=>{}),_m.set(e,t),e}function XR(t){if(Vp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JR(t){Up=t(Up)}function eb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(df(this),e,...n);return CI.set(r,e.sort?e.sort():[e]),Di(r)}:YR().includes(t)?function(...e){return t.apply(df(this),e),Di(II.get(this))}:function(...e){return Di(t.apply(df(this),e))}}function tb(t){return typeof t=="function"?eb(t):(t instanceof IDBTransaction&&XR(t),KR(t,QR())?new Proxy(t,Up):t)}function Di(t){if(t instanceof IDBRequest)return ZR(t);if(hf.has(t))return hf.get(t);const e=tb(t);return e!==t&&(hf.set(t,e),_m.set(e,t)),e}const df=t=>_m.get(t);function nb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Di(o.result),u.oldVersion,u.newVersion,Di(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const rb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],ff=new Map;function F_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ib.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rb.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ff.set(e,s),s}JR(t=>({...t,get:(e,n,r)=>F_(e,n)||t.get(e,n,r),has:(e,n)=>!!F_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ob(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ob(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fp="@firebase/app",j_="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new ym("@firebase/app"),ab="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",db="@firebase/auth",fb="@firebase/auth-compat",pb="@firebase/database",gb="@firebase/database-compat",mb="@firebase/functions",vb="@firebase/functions-compat",yb="@firebase/installations",_b="@firebase/installations-compat",wb="@firebase/messaging",Eb="@firebase/messaging-compat",Sb="@firebase/performance",Ib="@firebase/performance-compat",Cb="@firebase/remote-config",Tb="@firebase/remote-config-compat",kb="@firebase/storage",Lb="@firebase/storage-compat",Ab="@firebase/firestore",xb="@firebase/vertexai-preview",Pb="@firebase/firestore-compat",Rb="firebase",bb="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",Mb={[Fp]:"fire-core",[ab]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[db]:"fire-auth",[fb]:"fire-auth-compat",[pb]:"fire-rtdb",[gb]:"fire-rtdb-compat",[mb]:"fire-fn",[vb]:"fire-fn-compat",[yb]:"fire-iid",[_b]:"fire-iid-compat",[wb]:"fire-fcm",[Eb]:"fire-fcm-compat",[Sb]:"fire-perf",[Ib]:"fire-perf-compat",[Cb]:"fire-rc",[Tb]:"fire-rc-compat",[kb]:"fire-gcs",[Lb]:"fire-gcs-compat",[Ab]:"fire-fst",[Pb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[Rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,Db=new Map,Bp=new Map;function B_(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bs(t){const e=t.name;if(Bp.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of vh.values())B_(n,t);for(const n of Db.values())B_(n,t);return!0}function od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new iu("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=bb;function TI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=wI()),!n)throw Oi.create("no-options");const s=vh.get(i);if(s){if(mh(n,s.options)&&mh(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const o=new $R(i);for(const u of Bp.values())o.addComponent(u);const a=new Nb(n,r,o);return vh.set(i,a),a}function wm(t=jp){const e=vh.get(t);if(!e&&t===jp&&wI())return TI();if(!e)throw Oi.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let i=(r=Mb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}bs(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebase-heartbeat-database",Ub=1,Fl="firebase-heartbeat-store";let pf=null;function kI(){return pf||(pf=nb(Vb,Ub,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),pf}async function Fb(t){try{const n=(await kI()).transaction(Fl),r=await n.objectStore(Fl).get(LI(t));return await n.done,r}catch(e){if(e instanceof rr)Wr.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function z_(t,e){try{const r=(await kI()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,LI(t)),await r.done}catch(n){if(n instanceof rr)Wr.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function LI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Bb=30*24*60*60*1e3;class zb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Bb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$_(),{heartbeatsToSend:r,unsentEntries:i}=$b(this._heartbeatsCache.heartbeats),s=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wr.warn(n),""}}}function $_(){return new Date().toISOString().substring(0,10)}function $b(t,e=jb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),W_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W_(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){bs(new ji("platform-logger",e=>new sb(e),"PRIVATE")),bs(new ji("heartbeat",e=>new zb(e),"PRIVATE")),yr(Fp,j_,t),yr(Fp,j_,"esm2017"),yr("fire-js","")}Hb("");var qb="firebase",Gb="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(qb,Gb,"app");function AI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kb=AI,xI=new iu("auth","Firebase",AI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new ym("@firebase/auth");function Qb(t,...e){yh.logLevel<=Oe.WARN&&yh.warn(`Auth (${zs}): ${t}`,...e)}function Ac(t,...e){yh.logLevel<=Oe.ERROR&&yh.error(`Auth (${zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Sm(t,...e)}function er(t,...e){return Sm(t,...e)}function Em(t,e,n){const r=Object.assign(Object.assign({},Kb()),{[e]:n});return new iu("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return Em(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),Em(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xI.create(t,...e)}function pe(t,e,...n){if(!t)throw Sm(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Hr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zb(){return H_()==="http:"||H_()==="https:"}function H_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zb()||LR()||"connection"in navigator)?navigator.onLine:!0}function Jb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=TR()||AR()}get(){return Xb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new ou(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qi(t,e,n,r,i={}){return RI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=su(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),PI.fetch()(bI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function RI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eM),e);try{const i=new rM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Zu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Em(t,h,c);Un(t,h)}}catch(i){if(i instanceof rr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function au(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Im(t.config,i):`${t.config.apiScheme}://${i}`}function nM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),tM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}function q_(t){return t!==void 0&&t.enterprise!==void 0}class iM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function sM(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function MI(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aM(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Cm(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cl(gf(i.auth_time)),issuedAtTime:cl(gf(i.iat)),expirationTime:cl(gf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function Cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const i=vI(n);return i?JSON.parse(i):(Ac("Failed to decode base64 JWT payload"),null)}catch(i){return Ac("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function G_(t){const e=Cm(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&lM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,MI(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DI(s.providerUserInfo):[],a=hM(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function cM(t){const e=Ct(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DI(t){return t.map(e=>{var{providerId:n}=e,r=hm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){const n=await RI(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fM(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ro;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aM(this,e)}reload(){return cM(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await jl(this,oM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:O,isAnonymous:N,providerData:b,stsTokenManager:w}=n;pe(E&&w,e,"internal-error");const y=Ro.fromJSON(this.name,w);pe(typeof E=="string",e,"internal-error"),oi(f,e.name),oi(m,e.name),pe(typeof O=="boolean",e,"internal-error"),pe(typeof N=="boolean",e,"internal-error"),oi(v,e.name),oi(k,e.name),oi(C,e.name),oi(x,e.name),oi(S,e.name),oi(_,e.name);const L=new Dr({uid:E,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:N,photoURL:k,phoneNumber:v,tenantId:C,stsTokenManager:y,createdAt:S,lastLoginAt:_});return b&&Array.isArray(b)&&(L.providerData=b.map(I=>Object.assign({},I))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ro;i.updateFromServerResponse(n);const s=new Dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _h(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ro;a.updateFromIdToken(r);const u=new Dr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function Or(t){Hr(t instanceof Function,"Expected a class definition");let e=K_.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OI.type="NONE";const Q_=OI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(Or(Q_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Or(Q_);const o=xc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=Dr._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new bo(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new bo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BI(e))return"Blackberry";if(zI(e))return"Webos";if(VI(e))return"Safari";if((e.includes("chrome/")||UI(e))&&!e.includes("edge/"))return"Chrome";if(jI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NI(t=tn()){return/firefox\//i.test(t)}function VI(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UI(t=tn()){return/crios\//i.test(t)}function FI(t=tn()){return/iemobile/i.test(t)}function jI(t=tn()){return/android/i.test(t)}function BI(t=tn()){return/blackberry/i.test(t)}function zI(t=tn()){return/webos/i.test(t)}function Tm(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pM(t=tn()){var e;return Tm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gM(){return xR()&&document.documentMode===10}function $I(t=tn()){return Tm(t)||jI(t)||zI(t)||BI(t)||/windows phone/i.test(t)||FI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e=[]){let n;switch(t){case"Browser":n=Y_(tn());break;case"Worker":n=`${Y_(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=6;class _M{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new mM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await MI(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Ur(this));const n=e?Ct(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vM(this),n=new _M(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Qb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return Ct(t)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VR(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EM(t){ad=t}function HI(t){return ad.loadJS(t)}function SM(){return ad.recaptchaEnterpriseScript}function IM(){return ad.gapiScript}function CM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TM="recaptcha-enterprise",kM="NO_RECAPTCHA";class LM{constructor(e){this.type=TM,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{sM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new iM(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;q_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(kM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&q_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=SM();u.length!==0&&(u+=a),HI(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function X_(t,e,n,r=!1){const i=new LM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await X_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await X_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){const n=od(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mh(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function xM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PM(t,e,n){const r=Yi(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qI(e),{host:o,port:a}=RM(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bM()}function qI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RM(t){const e=qI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:J_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:J_(o)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function MM(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function NM(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends km{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",DM);case"emailLink":return OM(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,r,"signUpPassword",MM);case"emailLink":return NM(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="http://localhost";class Ms extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ms(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:VM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FM(t){const e=Ga(Ka(t)).link,n=e?Ga(Ka(e)).deep_link_id:null,r=Ga(Ka(t)).deep_link_id;return(r?Ga(Ka(r)).link:null)||r||n||e||t}class Lm{constructor(e){var n,r,i,s,o,a;const u=Ga(Ka(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=UM((i=u.mode)!==null&&i!==void 0?i:null);pe(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FM(e);try{return new Lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lm.parseLink(n);return pe(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Am{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends lu{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends lu{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends lu{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){return au(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dr._fromIdTokenResponse(e,r,i),o=e0(r);return new Ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=e0(r);return new Ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function e0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wh(e,n,r,i)}}function GI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(t,s,e,r):s})}async function BM(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(Ur(r));const i="reauthenticate";try{const s=await jl(t,GI(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=Cm(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),Ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t,e,n=!1){if(Qn(t.app))return Promise.reject(Ur(t));const r="signIn",i=await GI(t,r,e),s=await Ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $M(t,e){return KI(Yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WM(t,e,n){if(Qn(t.app))return Promise.reject(Ur(t));const r=Yi(t),o=await Wp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jM).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QI(t),u}),a=await Ds._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function HM(t,e,n){return Qn(t.app)?Promise.reject(Ur(t)):$M(Ct(t),oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QI(t),r})}function qM(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function GM(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function YI(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function KM(t){return Ct(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=1e3,YM=10;class XI extends ZI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XI.type="LOCAL";const ZM=XI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI extends ZI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JI.type="SESSION";const eC=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ld(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await XM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=xm("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function eD(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rD(){return tC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebaseLocalStorageDb",iD=1,Sh="firebaseLocalStorage",rC="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function sD(){const t=indexedDB.deleteDatabase(nC);return new uu(t).toPromise()}function Hp(){const t=indexedDB.open(nC,iD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sh,{keyPath:rC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),await sD(),e(await Hp()))})})}async function t0(t,e,n){const r=ud(t,!0).put({[rC]:e,value:n});return new uu(r).toPromise()}async function oD(t,e){const n=ud(t,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function n0(t,e){const n=ud(t,!0).delete(e);return new uu(n).toPromise()}const aD=800,lD=3;class iC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new JM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await t0(e,Eh,"1"),await n0(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ud(i,!1).getAll();return new uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iC.type="LOCAL";const uD=iC;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e){return e?Or(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cD(t){return KI(t.auth,new Pm(t),t.bypassAuthState)}function hD(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),zM(n,new Pm(t),t.bypassAuthState)}async function dD(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),BM(n,new Pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cD;case"linkViaPopup":case"linkViaRedirect":return dD;case"reauthViaPopup":case"reauthViaRedirect":return hD;default:Un(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new ou(2e3,1e4);async function pD(t,e,n){if(Qn(t.app))return Promise.reject(er(t,"operation-not-supported-in-this-environment"));const r=Yi(t);Yb(t,e,Am);const i=sC(r,n);return new ys(r,"signInViaPopup",e,i).executeNotNull()}class ys extends oC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fD.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="pendingRedirect",Pc=new Map;class mD extends oC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await vD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vD(t,e){const n=wD(e),r=_D(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yD(t,e){Pc.set(t._key(),e)}function _D(t){return Or(t._redirectPersistence)}function wD(t){return xc(gD,t.config.apiKey,t.name)}async function ED(t,e,n=!1){if(Qn(t.app))return Promise.reject(Ur(t));const r=Yi(t),i=sC(r,e),o=await new mD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=10*60*1e3;class ID{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SD&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function AD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TD(t);for(const n of e)try{if(xD(n))return}catch{}Un(t,"unauthorized-domain")}function xD(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LD.test(n))return!1;if(kD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new ou(3e4,6e4);function i0(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RD(t){return new Promise((e,n)=>{var r,i,s;function o(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(er(t,"network-request-failed"))},timeout:PD.get()})}if(!((i=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_r().gapi)===null||s===void 0)&&s.load)o();else{const a=CM("iframefcb");return _r()[a]=()=>{gapi.load?o():n(er(t,"network-request-failed"))},HI(`${IM()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function bD(t){return Rc=Rc||RD(t),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new ou(5e3,15e3),DD="__/auth/iframe",OD="emulator/auth/iframe",ND={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UD(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Im(e,OD):`https://${t.config.authDomain}/${DD}`,r={apiKey:e.apiKey,appName:t.name,v:zs},i=VD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function FD(t){const e=await bD(t),n=_r().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:UD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ND,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),a=_r().setTimeout(()=>{s(o)},MD.get());function u(){_r().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,zD=600,$D="_blank",WD="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HD(t,e,n,r=BD,i=zD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},jD),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tn().toLowerCase();n&&(a=UI(c)?$D:n),NI(c)&&(e=e||WD,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[v,k])=>`${m}${v}=${k},`,"");if(pM(c)&&a!=="_self")return qD(e||"",a),new s0(null);const f=window.open(e||"",a,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new s0(f)}function qD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="__/auth/handler",KD="emulator/auth/handler",QD=encodeURIComponent("fac");async function o0(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zs,eventId:i};if(e instanceof Am){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof lu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${QD}=${encodeURIComponent(u)}`:"";return`${YD(t)}?${su(a).slice(1)}${c}`}function YD({config:t}){return t.emulator?Im(t,KD):`https://${t.authDomain}/${GD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class ZD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eC,this._completeRedirectFn=ED,this._overrideRedirectResult=yD}async _openPopup(e,n,r,i){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await o0(e,n,r,zp(),i);return HD(e,o,xm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await o0(e,n,r,zp(),i);return eD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FD(e),r=new ID(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mf,{type:mf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mf];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $I()||VI()||Tm()}}const XD=ZD;var a0="@firebase/auth",l0="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(t){bs(new ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WI(t)},c=new wM(r,i,s,u);return xM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bs(new ji("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new JD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(a0,l0,eO(t)),yr(a0,l0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=EI("authIdTokenMaxAge")||nO;let u0=null;const iO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rO)return;const i=n==null?void 0:n.token;u0!==i&&(u0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sO(t=wm()){const e=od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AM(t,{popupRedirectResolver:XD,persistence:[uD,ZM,eC]}),r=EI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=iO(s.toString());GM(n,o,()=>o(n.currentUser)),qM(n,a=>o(a))}}const i=yI("auth");return i&&PM(n,`http://${i}`),n}function oO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,lC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,y){function L(){}L.prototype=y.prototype,w.D=y.prototype,w.prototype=new L,w.prototype.constructor=w,w.C=function(I,M,R){for(var A=Array(arguments.length-2),te=2;te<arguments.length;te++)A[te-2]=arguments[te];return y.prototype[M].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,L){L||(L=0);var I=Array(16);if(typeof y=="string")for(var M=0;16>M;++M)I[M]=y.charCodeAt(L++)|y.charCodeAt(L++)<<8|y.charCodeAt(L++)<<16|y.charCodeAt(L++)<<24;else for(M=0;16>M;++M)I[M]=y[L++]|y[L++]<<8|y[L++]<<16|y[L++]<<24;y=w.g[0],L=w.g[1],M=w.g[2];var R=w.g[3],A=y+(R^L&(M^R))+I[0]+3614090360&4294967295;y=L+(A<<7&4294967295|A>>>25),A=R+(M^y&(L^M))+I[1]+3905402710&4294967295,R=y+(A<<12&4294967295|A>>>20),A=M+(L^R&(y^L))+I[2]+606105819&4294967295,M=R+(A<<17&4294967295|A>>>15),A=L+(y^M&(R^y))+I[3]+3250441966&4294967295,L=M+(A<<22&4294967295|A>>>10),A=y+(R^L&(M^R))+I[4]+4118548399&4294967295,y=L+(A<<7&4294967295|A>>>25),A=R+(M^y&(L^M))+I[5]+1200080426&4294967295,R=y+(A<<12&4294967295|A>>>20),A=M+(L^R&(y^L))+I[6]+2821735955&4294967295,M=R+(A<<17&4294967295|A>>>15),A=L+(y^M&(R^y))+I[7]+4249261313&4294967295,L=M+(A<<22&4294967295|A>>>10),A=y+(R^L&(M^R))+I[8]+1770035416&4294967295,y=L+(A<<7&4294967295|A>>>25),A=R+(M^y&(L^M))+I[9]+2336552879&4294967295,R=y+(A<<12&4294967295|A>>>20),A=M+(L^R&(y^L))+I[10]+4294925233&4294967295,M=R+(A<<17&4294967295|A>>>15),A=L+(y^M&(R^y))+I[11]+2304563134&4294967295,L=M+(A<<22&4294967295|A>>>10),A=y+(R^L&(M^R))+I[12]+1804603682&4294967295,y=L+(A<<7&4294967295|A>>>25),A=R+(M^y&(L^M))+I[13]+4254626195&4294967295,R=y+(A<<12&4294967295|A>>>20),A=M+(L^R&(y^L))+I[14]+2792965006&4294967295,M=R+(A<<17&4294967295|A>>>15),A=L+(y^M&(R^y))+I[15]+1236535329&4294967295,L=M+(A<<22&4294967295|A>>>10),A=y+(M^R&(L^M))+I[1]+4129170786&4294967295,y=L+(A<<5&4294967295|A>>>27),A=R+(L^M&(y^L))+I[6]+3225465664&4294967295,R=y+(A<<9&4294967295|A>>>23),A=M+(y^L&(R^y))+I[11]+643717713&4294967295,M=R+(A<<14&4294967295|A>>>18),A=L+(R^y&(M^R))+I[0]+3921069994&4294967295,L=M+(A<<20&4294967295|A>>>12),A=y+(M^R&(L^M))+I[5]+3593408605&4294967295,y=L+(A<<5&4294967295|A>>>27),A=R+(L^M&(y^L))+I[10]+38016083&4294967295,R=y+(A<<9&4294967295|A>>>23),A=M+(y^L&(R^y))+I[15]+3634488961&4294967295,M=R+(A<<14&4294967295|A>>>18),A=L+(R^y&(M^R))+I[4]+3889429448&4294967295,L=M+(A<<20&4294967295|A>>>12),A=y+(M^R&(L^M))+I[9]+568446438&4294967295,y=L+(A<<5&4294967295|A>>>27),A=R+(L^M&(y^L))+I[14]+3275163606&4294967295,R=y+(A<<9&4294967295|A>>>23),A=M+(y^L&(R^y))+I[3]+4107603335&4294967295,M=R+(A<<14&4294967295|A>>>18),A=L+(R^y&(M^R))+I[8]+1163531501&4294967295,L=M+(A<<20&4294967295|A>>>12),A=y+(M^R&(L^M))+I[13]+2850285829&4294967295,y=L+(A<<5&4294967295|A>>>27),A=R+(L^M&(y^L))+I[2]+4243563512&4294967295,R=y+(A<<9&4294967295|A>>>23),A=M+(y^L&(R^y))+I[7]+1735328473&4294967295,M=R+(A<<14&4294967295|A>>>18),A=L+(R^y&(M^R))+I[12]+2368359562&4294967295,L=M+(A<<20&4294967295|A>>>12),A=y+(L^M^R)+I[5]+4294588738&4294967295,y=L+(A<<4&4294967295|A>>>28),A=R+(y^L^M)+I[8]+2272392833&4294967295,R=y+(A<<11&4294967295|A>>>21),A=M+(R^y^L)+I[11]+1839030562&4294967295,M=R+(A<<16&4294967295|A>>>16),A=L+(M^R^y)+I[14]+4259657740&4294967295,L=M+(A<<23&4294967295|A>>>9),A=y+(L^M^R)+I[1]+2763975236&4294967295,y=L+(A<<4&4294967295|A>>>28),A=R+(y^L^M)+I[4]+1272893353&4294967295,R=y+(A<<11&4294967295|A>>>21),A=M+(R^y^L)+I[7]+4139469664&4294967295,M=R+(A<<16&4294967295|A>>>16),A=L+(M^R^y)+I[10]+3200236656&4294967295,L=M+(A<<23&4294967295|A>>>9),A=y+(L^M^R)+I[13]+681279174&4294967295,y=L+(A<<4&4294967295|A>>>28),A=R+(y^L^M)+I[0]+3936430074&4294967295,R=y+(A<<11&4294967295|A>>>21),A=M+(R^y^L)+I[3]+3572445317&4294967295,M=R+(A<<16&4294967295|A>>>16),A=L+(M^R^y)+I[6]+76029189&4294967295,L=M+(A<<23&4294967295|A>>>9),A=y+(L^M^R)+I[9]+3654602809&4294967295,y=L+(A<<4&4294967295|A>>>28),A=R+(y^L^M)+I[12]+3873151461&4294967295,R=y+(A<<11&4294967295|A>>>21),A=M+(R^y^L)+I[15]+530742520&4294967295,M=R+(A<<16&4294967295|A>>>16),A=L+(M^R^y)+I[2]+3299628645&4294967295,L=M+(A<<23&4294967295|A>>>9),A=y+(M^(L|~R))+I[0]+4096336452&4294967295,y=L+(A<<6&4294967295|A>>>26),A=R+(L^(y|~M))+I[7]+1126891415&4294967295,R=y+(A<<10&4294967295|A>>>22),A=M+(y^(R|~L))+I[14]+2878612391&4294967295,M=R+(A<<15&4294967295|A>>>17),A=L+(R^(M|~y))+I[5]+4237533241&4294967295,L=M+(A<<21&4294967295|A>>>11),A=y+(M^(L|~R))+I[12]+1700485571&4294967295,y=L+(A<<6&4294967295|A>>>26),A=R+(L^(y|~M))+I[3]+2399980690&4294967295,R=y+(A<<10&4294967295|A>>>22),A=M+(y^(R|~L))+I[10]+4293915773&4294967295,M=R+(A<<15&4294967295|A>>>17),A=L+(R^(M|~y))+I[1]+2240044497&4294967295,L=M+(A<<21&4294967295|A>>>11),A=y+(M^(L|~R))+I[8]+1873313359&4294967295,y=L+(A<<6&4294967295|A>>>26),A=R+(L^(y|~M))+I[15]+4264355552&4294967295,R=y+(A<<10&4294967295|A>>>22),A=M+(y^(R|~L))+I[6]+2734768916&4294967295,M=R+(A<<15&4294967295|A>>>17),A=L+(R^(M|~y))+I[13]+1309151649&4294967295,L=M+(A<<21&4294967295|A>>>11),A=y+(M^(L|~R))+I[4]+4149444226&4294967295,y=L+(A<<6&4294967295|A>>>26),A=R+(L^(y|~M))+I[11]+3174756917&4294967295,R=y+(A<<10&4294967295|A>>>22),A=M+(y^(R|~L))+I[2]+718787259&4294967295,M=R+(A<<15&4294967295|A>>>17),A=L+(R^(M|~y))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+M&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var L=y-this.blockSize,I=this.B,M=this.h,R=0;R<y;){if(M==0)for(;R<=L;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<y;)if(I[M++]=w.charCodeAt(R++),M==this.blockSize){i(this,I),M=0;break}}else for(;R<y;)if(I[M++]=w[R++],M==this.blockSize){i(this,I),M=0;break}}this.h=M,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var L=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=L&255,L/=256;for(this.u(w),w=Array(16),y=L=0;4>y;++y)for(var I=0;32>I;I+=8)w[L++]=this.g[y]>>>I&255;return w};function s(w,y){var L=a;return Object.prototype.hasOwnProperty.call(L,w)?L[w]:L[w]=y(w)}function o(w,y){this.h=y;for(var L=[],I=!0,M=w.length-1;0<=M;M--){var R=w[M]|0;I&&R==y||(L[M]=R,I=!1)}this.g=L}var a={};function u(w){return-128<=w&&128>w?s(w,function(y){return new o([y|0],0>y?-1:0)}):new o([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return x(c(-w));for(var y=[],L=1,I=0;w>=L;I++)y[I]=w/L|0,L*=4294967296;return new o(y,0)}function h(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return x(h(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=c(Math.pow(y,8)),I=f,M=0;M<w.length;M+=8){var R=Math.min(8,w.length-M),A=parseInt(w.substring(M,M+R),y);8>R?(R=c(Math.pow(y,R)),I=I.j(R).add(c(A))):(I=I.j(L),I=I.add(c(A)))}return I}var f=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-x(this).m();for(var w=0,y=1,L=0;L<this.g.length;L++){var I=this.i(L);w+=(0<=I?I:4294967296+I)*y,y*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(C(this))return"-"+x(this).toString(w);for(var y=c(Math.pow(w,6)),L=this,I="";;){var M=O(L,y).g;L=S(L,M.j(y));var R=((0<L.g.length?L.g[0]:L.h)>>>0).toString(w);if(L=M,k(L))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function C(w){return w.h==-1}t.l=function(w){return w=S(this,w),C(w)?-1:k(w)?0:1};function x(w){for(var y=w.g.length,L=[],I=0;I<y;I++)L[I]=~w.g[I];return new o(L,~w.h).add(m)}t.abs=function(){return C(this)?x(this):this},t.add=function(w){for(var y=Math.max(this.g.length,w.g.length),L=[],I=0,M=0;M<=y;M++){var R=I+(this.i(M)&65535)+(w.i(M)&65535),A=(R>>>16)+(this.i(M)>>>16)+(w.i(M)>>>16);I=A>>>16,R&=65535,A&=65535,L[M]=A<<16|R}return new o(L,L[L.length-1]&-2147483648?-1:0)};function S(w,y){return w.add(x(y))}t.j=function(w){if(k(this)||k(w))return f;if(C(this))return C(w)?x(this).j(x(w)):x(x(this).j(w));if(C(w))return x(this.j(x(w)));if(0>this.l(v)&&0>w.l(v))return c(this.m()*w.m());for(var y=this.g.length+w.g.length,L=[],I=0;I<2*y;I++)L[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<w.g.length;M++){var R=this.i(I)>>>16,A=this.i(I)&65535,te=w.i(M)>>>16,re=w.i(M)&65535;L[2*I+2*M]+=A*re,_(L,2*I+2*M),L[2*I+2*M+1]+=R*re,_(L,2*I+2*M+1),L[2*I+2*M+1]+=A*te,_(L,2*I+2*M+1),L[2*I+2*M+2]+=R*te,_(L,2*I+2*M+2)}for(I=0;I<y;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=y;I<2*y;I++)L[I]=0;return new o(L,0)};function _(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function E(w,y){this.g=w,this.h=y}function O(w,y){if(k(y))throw Error("division by zero");if(k(w))return new E(f,f);if(C(w))return y=O(x(w),y),new E(x(y.g),x(y.h));if(C(y))return y=O(w,x(y)),new E(x(y.g),y.h);if(30<w.g.length){if(C(w)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var L=m,I=y;0>=I.l(w);)L=N(L),I=N(I);var M=b(L,1),R=b(I,1);for(I=b(I,2),L=b(L,2);!k(I);){var A=R.add(I);0>=A.l(w)&&(M=M.add(L),R=A),I=b(I,1),L=b(L,1)}return y=S(w,M.j(y)),new E(M,y)}for(M=f;0<=w.l(y);){for(L=Math.max(1,Math.floor(w.m()/y.m())),I=Math.ceil(Math.log(L)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=c(L),A=R.j(y);C(A)||0<A.l(w);)L-=I,R=c(L),A=R.j(y);k(R)&&(R=m),M=M.add(R),w=S(w,A)}return new E(M,w)}t.A=function(w){return O(this,w).h},t.and=function(w){for(var y=Math.max(this.g.length,w.g.length),L=[],I=0;I<y;I++)L[I]=this.i(I)&w.i(I);return new o(L,this.h&w.h)},t.or=function(w){for(var y=Math.max(this.g.length,w.g.length),L=[],I=0;I<y;I++)L[I]=this.i(I)|w.i(I);return new o(L,this.h|w.h)},t.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),L=[],I=0;I<y;I++)L[I]=this.i(I)^w.i(I);return new o(L,this.h^w.h)};function N(w){for(var y=w.g.length+1,L=[],I=0;I<y;I++)L[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(L,w.h)}function b(w,y){var L=y>>5;y%=32;for(var I=w.g.length-L,M=[],R=0;R<I;R++)M[R]=0<y?w.i(R+L)>>>y|w.i(R+L+1)<<32-y:w.i(R+L);return new o(M,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Cs=o}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uC,cC,Qa,hC,bc,qp,dC,fC,pC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var F=l[T];if(!(F in g))break e;g=g[F]}l=l[l.length-1],T=g[l],d=d(T),d!=T&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var g=0,T=!1,F={next:function(){if(!T&&g<l.length){var j=g++;return{value:d(j,l[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,g){return l.call.apply(l.bind,arguments)}function f(l,d,g){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function m(l,d,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function v(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function k(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(T,F,j){for(var ee=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ee[Ke-2]=arguments[Ke];return d.prototype[F].apply(T,ee)}}function C(l){const d=l.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=l[T];return g}return[]}function x(l,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(u(T)){const F=l.length||0,j=T.length||0;l.length=F+j;for(let ee=0;ee<j;ee++)l[F+ee]=T[ee]}else l.push(T)}}class S{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function b(l,d,g){for(const T in l)d.call(g,l[T],T,l)}function w(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function y(l){const d={};for(const g in l)d[g]=l[g];return d}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,d){let g,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(g in T)l[g]=T[g];for(let j=0;j<L.length;j++)g=L[j],Object.prototype.hasOwnProperty.call(T,g)&&(l[g]=T[g])}}function M(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function R(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Y;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class te{constructor(){this.h=this.g=null}add(d,g){const T=re.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new S(()=>new ce,l=>l.reset());class ce{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let X,$=!1,Y=new te,J=()=>{const l=a.Promise.resolve(void 0);X=()=>{l.then(ne)}};var ne=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){R(g)}var d=re;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return l}();function Ie(l,d){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(N){e:{try{O(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:B[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}k(Ie,de);var B={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Re=0;function le(l,d,g,T,F){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=F,this.key=++Re,this.da=this.fa=!1}function Me(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function De(l){this.src=l,this.g={},this.h=0}De.prototype.add=function(l,d,g,T,F){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=Be(l,d,T,F);return-1<ee?(d=l[ee],g||(d.fa=!1)):(d=new le(d,this.src,j,!!T,F),d.fa=g,l.push(d)),d};function ke(l,d){var g=d.type;if(g in l.g){var T=l.g[g],F=Array.prototype.indexOf.call(T,d,void 0),j;(j=0<=F)&&Array.prototype.splice.call(T,F,1),j&&(Me(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Be(l,d,g,T){for(var F=0;F<l.length;++F){var j=l[F];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==T)return F}return-1}var He="closure_lm_"+(1e6*Math.random()|0),$e={};function Ge(l,d,g,T,F){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Ge(l,d[j],g,T,F);return null}return g=ye(g),l&&l[_e]?l.K(d,g,c(T)?!!T.capture:!!T,F):Xe(l,d,g,!1,T,F)}function Xe(l,d,g,T,F,j){if(!d)throw Error("Invalid event type");var ee=c(F)?!!F.capture:!!F,Ke=G(l);if(Ke||(l[He]=Ke=new De(l)),g=Ke.add(d,g,T,ee,j),g.proxy)return g;if(T=D(),g.proxy=T,T.src=l,T.listener=g,l.addEventListener)ge||(F=ee),F===void 0&&(F=!1),l.addEventListener(d.toString(),T,F);else if(l.attachEvent)l.attachEvent(Z(d.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function D(){function l(g){return d.call(l.src,l.listener,g)}const d=z;return l}function V(l,d,g,T,F){if(Array.isArray(d))for(var j=0;j<d.length;j++)V(l,d[j],g,T,F);else T=c(T)?!!T.capture:!!T,g=ye(g),l&&l[_e]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],g=Be(j,g,T,F),-1<g&&(Me(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=G(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Be(d,g,T,F)),(g=-1<l?d[l]:null)&&U(g))}function U(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[_e])ke(d.i,l);else{var g=l.type,T=l.proxy;d.removeEventListener?d.removeEventListener(g,T,l.capture):d.detachEvent?d.detachEvent(Z(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=G(d))?(ke(g,l),g.h==0&&(g.src=null,d[He]=null)):Me(l)}}}function Z(l){return l in $e?$e[l]:$e[l]="on"+l}function z(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var g=l.listener,T=l.ha||l.src;l.fa&&U(l),l=g.call(T,d)}return l}function G(l){return l=l[He],l instanceof De?l:null}var H="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(l){return typeof l=="function"?l:(l[H]||(l[H]=function(d){return l.handleEvent(d)}),l[H])}function Ce(){se.call(this),this.i=new De(this),this.M=this,this.F=null}k(Ce,se),Ce.prototype[_e]=!0,Ce.prototype.removeEventListener=function(l,d,g,T){V(this,l,d,g,T)};function we(l,d){var g,T=l.F;if(T)for(g=[];T;T=T.F)g.push(T);if(l=l.M,T=d.type||d,typeof d=="string")d=new de(d,l);else if(d instanceof de)d.target=d.target||l;else{var F=d;d=new de(T,l),I(d,F)}if(F=!0,g)for(var j=g.length-1;0<=j;j--){var ee=d.g=g[j];F=Pt(ee,T,!0,d)&&F}if(ee=d.g=l,F=Pt(ee,T,!0,d)&&F,F=Pt(ee,T,!1,d)&&F,g)for(j=0;j<g.length;j++)ee=d.g=g[j],F=Pt(ee,T,!1,d)&&F}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],T=0;T<g.length;T++)Me(g[T]);delete l.g[d],l.h--}}this.F=null},Ce.prototype.K=function(l,d,g,T){return this.i.add(String(l),d,!1,g,T)},Ce.prototype.L=function(l,d,g,T){return this.i.add(String(l),d,!0,g,T)};function Pt(l,d,g,T){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,j=0;j<d.length;++j){var ee=d[j];if(ee&&!ee.da&&ee.capture==g){var Ke=ee.listener,Nt=ee.ha||ee.src;ee.fa&&ke(l.i,ee),F=Ke.call(Nt,T)!==!1&&F}}return F&&!T.defaultPrevented}function ze(l,d,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Fn(l){l.g=ze(()=>{l.g=null,l.i&&(l.i=!1,Fn(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Yr extends se{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(l){se.call(this),this.h=l,this.g={}}k(ir,se);var sr=[];function Xi(l){b(l.g,function(d,g){this.g.hasOwnProperty(g)&&U(d)},l),l.g={}}ir.prototype.N=function(){ir.aa.N.call(this),Xi(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=a.JSON.stringify,vu=a.JSON.parse,yu=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Hs(){}Hs.prototype.h=null;function Ji(l){return l.h||(l.h=l.i())}function da(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){de.call(this,"d")}k(Xr,de);function qs(){de.call(this,"c")}k(qs,de);var or={},es=null;function ts(){return es=es||new Ce}or.La="serverreachability";function fa(l){de.call(this,or.La,l)}k(fa,de);function ar(l){const d=ts();we(d,new fa(d))}or.STAT_EVENT="statevent";function pa(l,d){de.call(this,or.STAT_EVENT,l),this.stat=d}k(pa,de);function Rt(l){const d=ts();we(d,new pa(d,l))}or.Ma="timingevent";function ns(l,d){de.call(this,or.Ma,l),this.size=d}k(ns,de);function Jr(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function Gs(l,d,g,T,F,j){l.info(function(){if(l.g)if(j)for(var ee="",Ke=j.split("&"),Nt=0;Nt<Ke.length;Nt++){var Ue=Ke[Nt].split("=");if(1<Ue.length){var Ht=Ue[0];Ue=Ue[1];var qt=Ht.split("_");ee=2<=qt.length&&qt[1]=="type"?ee+(Ht+"="+Ue+"&"):ee+(Ht+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+d+`
`+g+`
`+ee})}function _u(l,d,g,T,F,j,ee){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+d+`
`+g+`
`+j+" "+ee})}function Cr(l,d,g,T){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+wu(l,g)+(T?" "+T:"")})}function Ks(l,d){l.info(function(){return"TIMEOUT: "+d})}ei.prototype.info=function(){};function wu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var T=g[l];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return Ir(g)}catch{return d}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qs;function is(){}k(is,Hs),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},Qs=new is;function mn(l,d,g,T){this.j=l,this.i=d,this.l=g,this.R=T||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}var va={},ti={};function Ys(l,d,g){l.L=1,l.v=Cu(Tr(d)),l.m=g,l.P=!0,ya(l,null)}function ya(l,d){l.F=Date.now(),Zs(l),l.A=Tr(l.v);var g=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),Vv(g.i,"t",T),l.C=0,g=l.j.J,l.h=new ma,l.g=ty(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Yr(m(l.Y,l,l.g),l.O)),d=l.U,g=l.g,T=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(sr[0]=F.toString()),F=sr);for(var j=0;j<F.length;j++){var ee=Ge(g,F[j],T||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ar(),Gs(l.i,l.u,l.A,l.l,l.R,l.m)}mn.prototype.ca=function(l){l=l.target;const d=this.M;d&&kr(l)==3?d.j():this.Y(l)},mn.prototype.Y=function(l){try{if(l==this.g)e:{const qt=kr(this.g);var d=this.g.Ba();const eo=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Wv(this.g)))){this.J||qt!=4||d==7||(d==8||0>=eo?ar(3):ar(2)),me(this);var g=this.g.Z();this.X=g;t:if(ss(this)){var T=Wv(this.g);l="";var F=T.length,j=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),_a(this);var ee="";break t}this.h.i=new a.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(T[d],{stream:!(j&&d==F-1)});T.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,_u(this.i,this.u,this.A,this.l,this.R,qt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Nt=this.g;if((Ke=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var Ue=Ke;break t}}Ue=null}if(g=Ue)Cr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cd(this,g);else{this.o=!1,this.s=3,Rt(12),os(this),_a(this);break e}}if(this.P){g=!0;let jn;for(;!this.J&&this.C<ee.length;)if(jn=Eu(this,ee),jn==ti){qt==4&&(this.s=4,Rt(14),g=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==va){this.s=4,Rt(15),Cr(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else Cr(this.i,this.l,jn,null),Cd(this,jn);if(ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ee.length!=0||this.h.h||(this.s=1,Rt(16),g=!1),this.o=this.o&&g,!g)Cr(this.i,this.l,ee,"[Invalid Chunked Response]"),os(this),_a(this);else if(0<ee.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Pd(Ht),Ht.M=!0,Rt(11))}}else Cr(this.i,this.l,ee,null),Cd(this,ee);qt==4&&os(this),this.o&&!this.J&&(qt==4?Zv(this.j,this):(this.o=!1,Zs(this)))}else Nk(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),os(this),_a(this)}}}catch{}finally{}};function ss(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Eu(l,d){var g=l.C,T=d.indexOf(`
`,g);return T==-1?ti:(g=Number(d.substring(g,T)),isNaN(g)?va:(T+=1,T+g>d.length?ti:(d=d.slice(T,T+g),l.C=T+g,d)))}mn.prototype.cancel=function(){this.J=!0,os(this)};function Zs(l){l.S=Date.now()+l.I,ni(l,l.I)}function ni(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Jr(m(l.ba,l),d)}function me(l){l.B&&(a.clearTimeout(l.B),l.B=null)}mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ks(this.i,this.A),this.L!=2&&(ar(),Rt(17)),os(this),this.s=2,_a(this)):ni(this,this.S-l)};function _a(l){l.j.G==0||l.J||Zv(l.j,l)}function os(l){me(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Xi(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Cd(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Td(g.h,l))){if(!l.K&&Td(g.h,l)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)xu(g),Lu(g);else break e;xd(g),Rt(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=Jr(m(g.Za,g),6e3));if(1>=Av(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ls(g,11)}else if((l.K||g.g==l)&&xu(g),!_(d))for(F=g.Da.g.parse(d),d=0;d<F.length;d++){let Ue=F[d];if(g.T=Ue[0],Ue=Ue[1],g.G==2)if(Ue[0]=="c"){g.K=Ue[1],g.ia=Ue[2];const Ht=Ue[3];Ht!=null&&(g.la=Ht,g.j.info("VER="+g.la));const qt=Ue[4];qt!=null&&(g.Aa=qt,g.j.info("SVER="+g.Aa));const eo=Ue[5];eo!=null&&typeof eo=="number"&&0<eo&&(T=1.5*eo,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const jn=l.g;if(jn){const Ru=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var j=T.h;j.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(kd(j,j.h),j.h=null))}if(T.D){const Rd=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rd&&(T.ya=Rd,Je(T.I,T.D,Rd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var ee=l;if(T.qa=ey(T,T.J?T.ia:null,T.W),ee.K){xv(T.h,ee);var Ke=ee,Nt=T.L;Nt&&(Ke.I=Nt),Ke.B&&(me(Ke),Zs(Ke)),T.g=ee}else Qv(T);0<g.i.length&&Au(g)}else Ue[0]!="stop"&&Ue[0]!="close"||ls(g,7);else g.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ls(g,7):Ad(g):Ue[0]!="noop"&&g.l&&g.l.ta(Ue),g.v=0)}}ar(4)}catch{}}var wk=class{constructor(l,d){this.g=l,this.map=d}};function kv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Av(l){return l.h?1:l.g?l.g.size:0}function Td(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function kd(l,d){l.g?l.g.add(d):l.h=d}function xv(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}kv.prototype.cancel=function(){if(this.i=Pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Pv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return C(l.i)}function Ek(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],g=l.length,T=0;T<g;T++)d.push(l[T]);return d}d=[],g=0;for(T in l)d[g++]=l[T];return d}function Sk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const T in l)d[g++]=T;return d}}}function Rv(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Sk(l),T=Ek(l),F=T.length,j=0;j<F;j++)d.call(void 0,T[j],g&&g[j],l)}var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ik(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var T=l[g].indexOf("="),F=null;if(0<=T){var j=l[g].substring(0,T);F=l[g].substring(T+1)}else j=l[g];d(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function as(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof as){this.h=l.h,Su(this,l.j),this.o=l.o,this.g=l.g,Iu(this,l.s),this.l=l.l;var d=l.i,g=new Sa;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Mv(this,g),this.m=l.m}else l&&(d=String(l).match(bv))?(this.h=!1,Su(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Iu(this,d[4]),this.l=wa(d[5]||"",!0),Mv(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}as.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ea(d,Dv,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ea(d,Dv,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ea(g,g.charAt(0)=="/"?kk:Tk,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ea(g,Ak)),l.join("")};function Tr(l){return new as(l)}function Su(l,d,g){l.j=g?wa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Iu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Mv(l,d,g){d instanceof Sa?(l.i=d,xk(l.i,l.h)):(g||(d=Ea(d,Lk)),l.i=new Sa(d,l.h))}function Je(l,d,g){l.i.set(d,g)}function Cu(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ea(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ck),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ck(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Dv=/[#\/\?@]/g,Tk=/[#\?:]/g,kk=/[#\?]/g,Lk=/[#\?@]/g,Ak=/#/g;function Sa(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ri(l){l.g||(l.g=new Map,l.h=0,l.i&&Ik(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Sa.prototype,t.add=function(l,d){ri(this),this.i=null,l=Xs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function Ov(l,d){ri(l),d=Xs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Nv(l,d){return ri(l),d=Xs(l,d),l.g.has(d)}t.forEach=function(l,d){ri(this),this.g.forEach(function(g,T){g.forEach(function(F){l.call(d,F,T,this)},this)},this)},t.na=function(){ri(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const F=l[T];for(let j=0;j<F.length;j++)g.push(d[T])}return g},t.V=function(l){ri(this);let d=[];if(typeof l=="string")Nv(this,l)&&(d=d.concat(this.g.get(Xs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},t.set=function(l,d){return ri(this),this.i=null,l=Xs(this,l),Nv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Vv(l,d,g){Ov(l,d),0<g.length&&(l.i=null,l.g.set(Xs(l,d),C(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const j=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var F=j;ee[T]!==""&&(F+="="+encodeURIComponent(String(ee[T]))),l.push(F)}}return this.i=l.join("&")};function Xs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function xk(l,d){d&&!l.j&&(ri(l),l.i=null,l.g.forEach(function(g,T){var F=T.toLowerCase();T!=F&&(Ov(this,T),Vv(this,F,g))},l)),l.j=d}function Pk(l,d){const g=new ei;if(a.Image){const T=new Image;T.onload=v(ii,g,"TestLoadImage: loaded",!0,d,T),T.onerror=v(ii,g,"TestLoadImage: error",!1,d,T),T.onabort=v(ii,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=v(ii,g,"TestLoadImage: timeout",!1,d,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else d(!1)}function Rk(l,d){const g=new ei,T=new AbortController,F=setTimeout(()=>{T.abort(),ii(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:T.signal}).then(j=>{clearTimeout(F),j.ok?ii(g,"TestPingServer: ok",!0,d):ii(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),ii(g,"TestPingServer: error",!1,d)})}function ii(l,d,g,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(g)}catch{}}function bk(){this.g=new yu}function Mk(l,d,g){const T=g||"";try{Rv(l,function(F,j){let ee=F;c(F)&&(ee=Ir(F)),d.push(T+j+"="+encodeURIComponent(ee))})}catch(F){throw d.push(T+"type="+encodeURIComponent("_badmap")),F}}function Ia(l){this.l=l.Ub||null,this.j=l.eb||!1}k(Ia,Hs),Ia.prototype.g=function(){return new Tu(this.l,this.j)},Ia.prototype.i=function(l){return function(){return l}}({});function Tu(l,d){Ce.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Tu,Ce),t=Tu.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Ta(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ca(this):Ta(this),this.readyState==3&&Uv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ca(this))},t.Qa=function(l){this.g&&(this.response=l,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ta(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Ta(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Fv(l){let d="";return b(l,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function Ld(l,d,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=Fv(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Je(l,d,g))}function ct(l){Ce.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ct,Ce);var Dk=/^https?$/i,Ok=["POST","PUT"];t=ct.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qs.g(),this.v=this.o?Ji(this.o):Ji(Qs),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){jv(this,j);return}if(l=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)g.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),F=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ok,d,void 0))||T||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of g)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$v(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){jv(this,j)}};function jv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Bv(l),ku(l)}function Bv(l){l.A||(l.A=!0,we(l,"complete"),we(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,we(this,"complete"),we(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zv(this):this.bb())},t.bb=function(){zv(this)};function zv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||kr(l)!=4||l.Z()!=2)){if(l.u&&kr(l)==4)ze(l.Ea,0,l);else if(we(l,"readystatechange"),kr(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var T;if(T=ee===0){var F=String(l.D).match(bv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),T=!Dk.test(F?F.toLowerCase():"")}g=T}if(g)we(l,"complete"),we(l,"success");else{l.m=6;try{var j=2<kr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Bv(l)}}finally{ku(l)}}}}function ku(l,d){if(l.g){$v(l);const g=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||we(l,"ready");try{g.onreadystatechange=T}catch{}}}function $v(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function kr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),vu(d)}};function Wv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Nk(l){const d={};l=(l.g&&2<=kr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(_(l[T]))continue;var g=M(l[T]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[F]||[];d[F]=j,j.push(g)}w(d,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Hv(l){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,l),this.cb=ka("retryDelaySeedMs",1e4,l),this.Wa=ka("forwardChannelMaxRetries",2,l),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new kv(l&&l.concurrentRequestLimit),this.Da=new bk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hv.prototype,t.la=8,t.G=1,t.connect=function(l,d,g,T){Rt(0),this.W=l,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=ey(this,null,this.W),Au(this)};function Ad(l){if(qv(l),l.G==3){var d=l.U++,g=Tr(l.I);if(Je(g,"SID",l.K),Je(g,"RID",d),Je(g,"TYPE","terminate"),La(l,g),d=new mn(l,l.j,d),d.L=2,d.v=Cu(Tr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.v,g=!0),g||(d.g=ty(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zs(d)}Jv(l)}function Lu(l){l.g&&(Pd(l),l.g.cancel(),l.g=null)}function qv(l){Lu(l),l.u&&(a.clearTimeout(l.u),l.u=null),xu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Au(l){if(!Lv(l.h)&&!l.s){l.s=!0;var d=l.Ga;X||J(),$||(X(),$=!0),Y.add(d,l),l.B=0}}function Vk(l,d){return Av(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Jr(m(l.Ga,l,d),Xv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new mn(this,this.j,l);let j=this.o;if(this.S&&(j?(j=y(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Kv(this,F,d),g=Tr(this.I),Je(g,"RID",l),Je(g,"CVER",22),this.D&&Je(g,"X-HTTP-Session-Id",this.D),La(this,g),j&&(this.O?d="headers="+encodeURIComponent(String(Fv(j)))+"&"+d:this.m&&Ld(g,this.m,j)),kd(this.h,F),this.Ua&&Je(g,"TYPE","init"),this.P?(Je(g,"$req",d),Je(g,"SID","null"),F.T=!0,Ys(F,g,null)):Ys(F,g,d),this.G=2}}else this.G==3&&(l?Gv(this,l):this.i.length==0||Lv(this.h)||Gv(this))};function Gv(l,d){var g;d?g=d.l:g=l.U++;const T=Tr(l.I);Je(T,"SID",l.K),Je(T,"RID",g),Je(T,"AID",l.T),La(l,T),l.m&&l.o&&Ld(T,l.m,l.o),g=new mn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Kv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),kd(l.h,g),Ys(g,T,d)}function La(l,d){l.H&&b(l.H,function(g,T){Je(d,T,g)}),l.l&&Rv({},function(g,T){Je(d,T,g)})}function Kv(l,d,g){g=Math.min(l.i.length,g);var T=l.l?m(l.l.Na,l.l,l):null;e:{var F=l.i;let j=-1;for(;;){const ee=["count="+g];j==-1?0<g?(j=F[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let Ke=!0;for(let Nt=0;Nt<g;Nt++){let Ue=F[Nt].g;const Ht=F[Nt].map;if(Ue-=j,0>Ue)j=Math.max(0,F[Nt].g-100),Ke=!1;else try{Mk(Ht,ee,"req"+Ue+"_")}catch{T&&T(Ht)}}if(Ke){T=ee.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,T}function Qv(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;X||J(),$||(X(),$=!0),Y.add(d,l),l.v=0}}function xd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Jr(m(l.Fa,l),Xv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Yv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Jr(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Lu(this),Yv(this))};function Pd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Yv(l){l.g=new mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Tr(l.qa);Je(d,"RID","rpc"),Je(d,"SID",l.K),Je(d,"AID",l.T),Je(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(d,"TO",l.ja),Je(d,"TYPE","xmlhttp"),La(l,d),l.m&&l.o&&Ld(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Cu(Tr(d)),g.m=null,g.P=!0,ya(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Lu(this),xd(this),Rt(19))};function xu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Zv(l,d){var g=null;if(l.g==d){xu(l),Pd(l),l.g=null;var T=2}else if(Td(l.h,d))g=d.D,xv(l.h,d),T=1;else return;if(l.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;T=ts(),we(T,new ns(T,g)),Au(l)}else Qv(l);else if(F=d.s,F==3||F==0&&0<d.X||!(T==1&&Vk(l,d)||T==2&&xd(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),F){case 1:ls(l,5);break;case 4:ls(l,10);break;case 3:ls(l,6);break;default:ls(l,2)}}}function Xv(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function ls(l,d){if(l.j.info("Error code "+d),d==2){var g=m(l.fb,l),T=l.Xa;const F=!T;T=new as(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Su(T,"https"),Cu(T),F?Pk(T.toString(),g):Rk(T.toString(),g)}else Rt(2);l.G=0,l.l&&l.l.sa(d),Jv(l),qv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Jv(l){if(l.G=0,l.ka=[],l.l){const d=Pv(l.h);(d.length!=0||l.i.length!=0)&&(x(l.ka,d),x(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function ey(l,d,g){var T=g instanceof as?Tr(g):new as(g);if(T.g!="")d&&(T.g=d+"."+T.g),Iu(T,T.s);else{var F=a.location;T=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var j=new as(null);T&&Su(j,T),d&&(j.g=d),F&&Iu(j,F),g&&(j.l=g),T=j}return g=l.D,d=l.ya,g&&d&&Je(T,g,d),Je(T,"VER",l.la),La(l,T),T}function ty(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ct(new Ia({eb:g})):new ct(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ny(){}t=ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(l,d){return new vn(l,d)};function vn(l,d){Ce.call(this),this.g=new Hv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Js(this)}k(vn,Ce),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ad(this.g)},vn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ir(l),l=g);d.i.push(new wk(d.Ya++,l)),d.G==3&&Au(d)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,vn.aa.N.call(this)};function ry(l){Xr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}k(ry,Xr);function iy(){qs.call(this),this.status=1}k(iy,qs);function Js(l){this.g=l}k(Js,ny),Js.prototype.ua=function(){we(this.g,"a")},Js.prototype.ta=function(l){we(this.g,new ry(l))},Js.prototype.sa=function(l){we(this.g,new iy)},Js.prototype.ra=function(){we(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,pC=function(){return new Pu},fC=function(){return ts()},dC=or,qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,bc=rs,ga.COMPLETE="complete",hC=ga,da.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Qa=da,cC=Ia,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,uC=ct}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const h0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new ym("@firebase/firestore");function Na(){return Os.logLevel}function ue(t,...e){if(Os.logLevel<=Oe.DEBUG){const n=e.map(Rm);Os.debug(`Firestore (${aa}): ${t}`,...n)}}function qr(t,...e){if(Os.logLevel<=Oe.ERROR){const n=e.map(Rm);Os.error(`Firestore (${aa}): ${t}`,...n)}}function Go(t,...e){if(Os.logLevel<=Oe.WARN){const n=e.map(Rm);Os.warn(`Firestore (${aa}): ${t}`,...n)}}function Rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Qe(t,e){t||ve()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class lO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uO{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new gC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Yt(e)}}class cO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new dO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new xt(0,0))}static max(){return new Ee(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends zl{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const gO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends zl{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return gO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new oe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}function mO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Bi(i,fe.empty(),e)}function vO(t){return new Bi(t.readTime,t.key,-1)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(Ee.min(),fe.empty(),-1)}static max(){return new Bi(Ee.max(),fe.empty(),-1)}}function yO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==_O)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function EO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bm.oe=-1;function cd(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function SO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new zt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yC("Invalid base64 string: "+s):s}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=IO.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dm(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?Dm(e):e}function $l(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:kO(t)?9007199254740991:TO(t)?10:11:ve()}function Sr(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=zi(i.timestampValue),a=zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ns(i.bytesValue).isEqual(Ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mt(i.doubleValue),a=mt(s.doubleValue);return o===a?Ih(o)===Ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d0(o)!==d0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Sr(o[u],a[u])))return!1;return!0}(t,e);default:return ve()}}function Hl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mt(s.integerValue||s.doubleValue),u=mt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0($l(t),$l(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ns(s),u=Ns(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=je(a[c],u[c]);if(h!==0)return h}return je(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(mt(s.latitude),mt(o.latitude));return a!==0?a:je(mt(s.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},m=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,k=(u=m.value)===null||u===void 0?void 0:u.arrayValue,C=je(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:g0(v,k)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ec.mapValue&&o===ec.mapValue)return 0;if(s===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=je(u[f],h[f]);if(m!==0)return m;const v=Qo(a[u[f]],c[h[f]]);if(v!==0)return v}return je(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=zi(t),r=zi(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function g0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Qo(n[i],r[i]);if(s)return s}return je(n.length,r.length)}function Yo(t){return Gp(t)}function Gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Gp(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function m0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kp(t){return!!t&&"integerValue"in t}function Om(t){return!!t&&"arrayValue"in t}function v0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mc(t){return!!t&&"mapValue"in t}function TO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){la(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(hl(this.value))}}function _C(t){const e=[];return la(t.fields,(n,r)=>{const i=new jt([n]);if(Mc(r)){const s=_C(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,Ee.min(),Ee.min(),Ee.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ee.min(),Ee.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ee.min(),Ee.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function _0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function LO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class It extends wC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xO(e,n,r):n==="array-contains"?new bO(e,r):n==="in"?new MO(e,r):n==="not-in"?new DO(e,r):n==="array-contains-any"?new OO(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PO(e,r):new RO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends wC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return EC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EC(t){return t.op==="and"}function SC(t){return AO(t)&&EC(t)}function AO(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Qp(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(SC(t))return t.filters.map(e=>Qp(e)).join(",");{const e=t.filters.map(n=>Qp(n)).join(",");return`${t.op}(${e})`}}function IC(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&IC(o,i.filters[a]),!0):!1}(t,e):void ve()}function CC(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(CC).join(" ,")+"}"}(t):"Filter"}class xO extends It{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PO extends It{constructor(e,n){super(e,"in",n),this.keys=TC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RO extends It{constructor(e,n){super(e,"not-in",n),this.keys=TC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class bO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Om(n)&&Hl(n.arrayValue,this.value)}}class MO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class DO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class OO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function E0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NO(t,e,n,r,i,s,o)}function Nm(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.ue=n}return e.ue}function Vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w0(t.startAt,e.startAt)&&w0(t.endAt,e.endAt)}function Yp(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VO(t,e,n,r,i,s,o,a){return new ua(t,e,n,r,i,s,o,a)}function Um(t){return new ua(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kC(t){return t.collectionGroup!==null}function dl(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zt(jt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ql(s,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new ql(jt.keyField(),r))}return e.ce}function wr(t){const e=Se(t);return e.le||(e.le=UO(e,dl(t))),e.le}function UO(t,e){if(t.limitType==="F")return E0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ql(i.field,s)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return E0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e){const n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xp(t,e,n){return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return Vm(wr(t),wr(e))&&t.limitType===e.limitType}function LC(t){return`${Nm(wr(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CC(i)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yo(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=_0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,a,u){const c=_0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,dl(r),i))}(t,e)}function FO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AC(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const s=jO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jO(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Qo(u,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new ut(fe.comparator);function Gr(){return BO}const xC=new ut(fe.comparator);function Ya(...t){let e=xC;for(const n of t)e=e.insert(n.key,n);return e}function PC(t){let e=xC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return fl()}function RC(){return fl()}function fl(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const zO=new ut(fe.comparator),$O=new zt(fe.comparator);function be(...t){let e=$O;for(const n of t)e=e.add(n);return e}const WO=new zt(je);function HO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function bC(t){return{integerValue:""+t}}function qO(t,e){return SO(e)?bC(e):Fm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function GO(t,e,n){return t instanceof Gl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mm(s)&&(s=Dm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Kl?DC(t,e):t instanceof Ql?OC(t,e):function(i,s){const o=MC(i,s),a=I0(o)+I0(i.Pe);return Kp(o)&&Kp(i.Pe)?bC(a):Fm(i.serializer,a)}(t,e)}function KO(t,e,n){return t instanceof Kl?DC(t,e):t instanceof Ql?OC(t,e):n}function MC(t,e){return t instanceof Th?function(r){return Kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gl extends fd{}class Kl extends fd{constructor(e){super(),this.elements=e}}function DC(t,e){const n=NC(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends fd{constructor(e){super(),this.elements=e}}function OC(t,e){let n=NC(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class Th extends fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I0(t){return mt(t.integerValue||t.doubleValue)}function NC(t){return Om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.field=e,this.transform=n}}function YO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kl&&i instanceof Kl||r instanceof Ql&&i instanceof Ql?Ko(r.elements,i.elements,Sr):r instanceof Th&&i instanceof Th?Sr(r.Pe,i.Pe):r instanceof Gl&&i instanceof Gl}(t.transform,e.transform)}class ZO{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function VC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FC(t.key,Fr.none()):new du(t.key,t.data,Fr.none());{const n=t.data,r=bn.empty();let i=new zt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $s(t.key,r,new Yn(i.toArray()),Fr.none())}}function XO(t,e,n){t instanceof du?function(i,s,o){const a=i.value.clone(),u=T0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(i,s,o){if(!Dc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=T0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(UC(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof du?function(s,o,a,u){if(!Dc(s.precondition,o))return a;const c=s.value.clone(),h=k0(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(s,o,a,u){if(!Dc(s.precondition,o))return a;const c=k0(s.fieldTransforms,u,o),h=o.data;return h.setAll(UC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Dc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MC(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function C0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ko(r,i,(s,o)=>YO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends pd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T0(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KO(o,a,n[i]))}return r}function k0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GO(s,o,e))}return r}class FC extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eN extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=VC(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>C0(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>C0(n,r))}}class jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return zO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ne;function iN(t){switch(t){default:return ve();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function jC(t){if(t===void 0)return qr("GRPC error has no .code"),q.UNKNOWN;switch(t){case wt.OK:return q.OK;case wt.CANCELLED:return q.CANCELLED;case wt.UNKNOWN:return q.UNKNOWN;case wt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case wt.INTERNAL:return q.INTERNAL;case wt.UNAVAILABLE:return q.UNAVAILABLE;case wt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case wt.NOT_FOUND:return q.NOT_FOUND;case wt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case wt.ABORTED:return q.ABORTED;case wt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case wt.DATA_LOSS:return q.DATA_LOSS;default:return ve()}}(Ne=wt||(wt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Cs([4294967295,4294967295],0);function L0(t){const e=sN().encode(t),n=new lC;return n.update(e),new Uint8Array(n.digest())}function A0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([i,s],0)]}class Bm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Za(`Invalid padding: ${n}`);if(r<0)throw new Za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Za(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Cs.fromNumber(r)));return i.compare(oN)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=L0(e),[r,i]=A0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Bm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=L0(e),[r,i]=A0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gd(Ee.min(),i,new ut(je),Gr(),be())}}class fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class BC{constructor(e,n){this.targetId=e,this.me=n}}class zC{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class x0{constructor(){this.fe=0,this.ge=R0(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new fu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=R0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=P0(),this.Qe=new ut(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Yp(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,Xt.newNoDocument(o,Ee.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ns(r).toUint8Array()}catch(u){if(u instanceof yC)return Go("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bm(o,i,s)}catch(u){return Go(u instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Yp(a.target)){const u=new fe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Xt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=be();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new gd(e,n,this.Qe,this.ke,r);return this.ke=Gr(),this.qe=P0(),this.Qe=new ut(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new x0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zt(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new x0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function P0(){return new ut(fe.comparator)}function R0(){return new ut(fe.comparator)}const lN={asc:"ASCENDING",desc:"DESCENDING"},uN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cN={and:"AND",or:"OR"};class hN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||cd(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dN(t,e){return kh(t,e.toTimestamp())}function Er(t){return Qe(!!t),Ee.fromTimestamp(function(n){const r=zi(n);return new xt(r.seconds,r.nanos)}(t))}function zm(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WC(t){const e=rt.fromString(t);return Qe(QC(e)),e}function tg(t,e){return zm(t.databaseId,e.path)}function vf(t,e){const n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(qC(n))}function HC(t,e){return zm(t.databaseId,e)}function fN(t){const e=WC(t);return e.length===4?rt.emptyPath():qC(e)}function ng(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qC(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b0(t,e,n){return{name:tg(t,e),fields:n.value.mapValue.fields}}function pN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Qe(h===void 0||typeof h=="string"),Wt.fromBase64String(h||"")):(Qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?q.UNKNOWN:jC(c.code);return new oe(h,c.message||"")}(o);n=new zC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vf(t,r.document.name),s=Er(r.document.updateTime),o=r.document.createTime?Er(r.document.createTime):Ee.min(),a=new bn({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Oc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vf(t,r.document),s=r.readTime?Er(r.readTime):Ee.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vf(t,r.document),s=r.removedTargetIds||[];n=new Oc([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rN(i,s),a=r.targetId;n=new BC(a,o)}}return n}function gN(t,e){let n;if(e instanceof du)n={update:b0(t,e.key,e.value)};else if(e instanceof FC)n={delete:tg(t,e.key)};else if(e instanceof $s)n={update:b0(t,e.key,e.data),updateMask:CN(e.fieldMask)};else{if(!(e instanceof eN))return ve();n={verify:tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function mN(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Er(i.updateTime):Er(s);return o.isEqual(Ee.min())&&(o=Er(s)),new ZO(o,i.transformResults||[])}(n,e))):[]}function vN(t,e){return{documents:[HC(t,e.path)]}}function yN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HC(t,i);const s=function(c){if(c.length!==0)return KC(nr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ao(m.field),direction:EN(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function _N(t){let e=fN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=GC(f);return m instanceof nr&&SC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(k){return new ql(lo(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,cd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,v=f.values||[];return new Ch(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new Ch(v,m)}(n.endAt)),VO(e,i,o,s,a,"F",u,c)}function wN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(n.unaryFilter.field);return It.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return It.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return It.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>GC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function EN(t){return lN[t]}function SN(t){return uN[t]}function IN(t){return cN[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return jt.fromServerFormat(t.fieldPath)}function KC(t){return t instanceof It?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(v0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(v0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:SN(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>KC(i));return r.length===1?r[0]:{compositeFilter:{op:IN(n.op),filters:r}}}(t):ve()}function CN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,i,s=Ee.min(),o=Ee.min(),a=Wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.ct=e}}function kN(t){const e=_N({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.un=new AN}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Bi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class AN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zt(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zo(0)}static kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pl(r.mutation,i,Yn.empty(),xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=fl(),a=function(){return fl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof $s)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),pl(h.mutation,c,h.mutation.getFieldMask(),xt.now())):o.set(c.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new PN(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fl();let i=new ut((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Yn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=RC();h.forEach(m=>{if(!s.has(m)){const v=VC(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(_s());let a=-1,u=s;return o.next(c=>K.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,be())).next(h=>({batchId:a,changes:PC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,u=>{const c=function(f,m){return new ua(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let a=Ya();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&pl(h.mutation,c,Yn.empty(),xt.now()),dd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Er(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:kN(i.bundledQuery),readTime:Er(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.overlays=new ut(fe.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),s=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=_s(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=_s(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nN(n,r));let s=this.Ir.get(n);s===void 0&&(s=be(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.Tr=new zt(bt.Er),this.dr=new zt(bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new rt([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new rt([])),r=new bt(n,e),i=new bt(n,e+1);let s=be();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zt(bt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(je);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new bt(new fe(s),0);let a=new zt(je);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new bt(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Mr=e,this.docs=function(){return new ut(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,a=new fe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yO(vO(h),r)<=0||(i.has(h.key)||dd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VN(this)}getSize(e){return K.resolve(this.size)}}class VN extends xN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.Nr=new ca(n=>Nm(n),Vm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $m,this.targetCount=0,this.kr=Zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bm(0),this.Kr=!1,this.Kr=!0,this.$r=new DN,this.referenceDelegate=e(this),this.Ur=new UN(this),this.indexManager=new LN,this.remoteDocumentCache=function(i){return new NN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TN(n),this.Gr=new bN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ON(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new jN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jN extends wO{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Jr=new $m,this.Yr=null}static Zr(e){return new Wm(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PR()?8:EO(tn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BN;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Na()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Na()<=Oe.DEBUG&&ue("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Na()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):K.resolve())}Yi(e,n){if(S0(n))return K.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xp(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Xp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return S0(n)||i.isEqual(Ee.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(Na()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.rs(e,o,n,mO(i,-1)).next(a=>a))})}ts(e,n){let r=new zt(AC(e));return n.forEach((i,s)=>{dd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Na()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(je),this._s=new ca(s=>Nm(s),Vm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function WN(t,e,n,r){return new $N(t,e,n,r)}async function YC(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=be();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function HN(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let v=K.resolve();return m.forEach(k=>{v=v.next(()=>h.getEntry(u,k)).next(C=>{const x=c.docVersions.get(k);Qe(x!==null),C.version.compareTo(x)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZC(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qN(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),function(C,x,S){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Gr(),c=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(GN(s,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(Ee.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function GN(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function KN(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QN(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function rg(t,e,n){const r=Se(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hu(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function M0(t,e,n){const r=Se(t);let i=Ee.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=Se(u),m=f._s.get(h);return m!==void 0?K.resolve(f.os.get(m)):f.Ur.getTargetData(c,h)}(r,o,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ee.min(),n?s:be())).next(a=>(YN(r,FO(e),a),{documents:a,Ts:s})))}function YN(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class D0{constructor(){this.activeTargetIds=HO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZN{constructor(){this.so=new D0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new D0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function yf(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class tV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=yf(),u=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(h=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Go("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=JN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=yf();return new Promise((o,a)=>{const u=new uC;u.setWithCredentials(!0),u.listenOnce(hC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bc.NO_ERROR:const h=u.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case bc.TIMEOUT:ue(Qt,`RPC '${e}' ${s} timed out`),a(new oe(q.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const f=u.getStatus();if(ue(Qt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const k=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(S)>=0?S:q.UNKNOWN}(v.status);a(new oe(k,v.message))}else a(new oe(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new oe(q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ue(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=yf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pC(),a=fC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new cC({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");ue(Qt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,v=!1;const k=new eV({Io:x=>{v?ue(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(ue(Qt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ue(Qt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),C=(x,S,_)=>{x.listen(S,E=>{try{_(E)}catch(O){setTimeout(()=>{throw O},0)}})};return C(f,Qa.EventType.OPEN,()=>{v||(ue(Qt,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),C(f,Qa.EventType.CLOSE,()=>{v||(v=!0,ue(Qt,`RPC '${e}' stream ${i} transport closed`),k.So())}),C(f,Qa.EventType.ERROR,x=>{v||(v=!0,Go(Qt,`RPC '${e}' stream ${i} transport errored:`,x),k.So(new oe(q.UNAVAILABLE,"The operation could not be completed")))}),C(f,Qa.EventType.MESSAGE,x=>{var S;if(!v){const _=x.data[0];Qe(!!_);const E=_,O=E.error||((S=E[0])===null||S===void 0?void 0:S.error);if(O){ue(Qt,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let b=function(L){const I=wt[L];if(I!==void 0)return jC(I)}(N),w=O.message;b===void 0&&(b=q.INTERNAL,w="Unknown error status: "+N+" with message "+O.message),v=!0,k.So(new oe(b,w)),f.close()}else ue(Qt,`RPC '${e}' stream ${i} received:`,_),k.bo(_)}}),C(a,dC.STAT_EVENT,x=>{x.stat===qp.PROXY?ue(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===qp.NOPROXY&&ue(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return new hN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nV extends JC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=pN(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Er(o.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ng(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Yp(u)?{documents:vN(s,u)}:{query:yN(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$C(s,o.resumeToken);const c=Jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=kh(s,o.snapshotVersion.toTimestamp());const c=Jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.a_(n)}}class rV extends JC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mN(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ng(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,eg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,eg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Se(u);c.L_.add(4),await pu(c),c.q_.set("Unknown"),c.L_.delete(4),await vd(c)}(this))})}),this.q_=new sV(r,i)}}async function vd(t){if(Ws(t))for(const e of t.B_)await e(!0)}async function pu(t){for(const e of t.B_)await e(!1)}function eT(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qm(n)?Km(n):ha(n).r_()&&Gm(n,e))}function qm(t,e){const n=Se(t),r=ha(n);n.N_.delete(e),r.r_()&&tT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ws(n)&&n.q_.set("Unknown"))}function Gm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).A_(e)}function tT(t,e){t.Q_.xe(e),ha(t).R_(e)}function Km(t){t.Q_=new aN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.q_.v_()}function Qm(t){return Ws(t)&&!ha(t).n_()&&t.N_.size>0}function Ws(t){return Se(t).L_.size===0}function nT(t){t.Q_=void 0}async function aV(t){t.q_.set("Online")}async function lV(t){t.N_.forEach((e,n)=>{Gm(t,e)})}async function uV(t,e){nT(t),Qm(t)?(t.q_.M_(e),Km(t)):t.q_.set("Unknown")}async function cV(t,e,n){if(t.q_.set("Online"),e instanceof zC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(t,r)}else if(e instanceof Oc?t.Q_.Ke(e):e instanceof BC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(Wt.EMPTY_BYTE_STRING,h.snapshotVersion)),tT(s,u);const f=new Ii(h.target,u,c,h.sequenceNumber);Gm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Lh(t,r)}}async function Lh(t,e,n){if(!hu(e))throw e;t.L_.add(1),await pu(t),t.q_.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await vd(t)})}function rT(t,e){return e().catch(n=>Lh(t,n,e))}async function yd(t){const e=Se(t),n=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hV(e);)try{const i=await KN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dV(e,i)}catch(i){await Lh(e,i)}iT(e)&&sT(e)}function hV(t){return Ws(t)&&t.O_.length<10}function dV(t,e){t.O_.push(e);const n=$i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function iT(t){return Ws(t)&&!$i(t).n_()&&t.O_.length>0}function sT(t){$i(t).start()}async function fV(t){$i(t).p_()}async function pV(t){const e=$i(t);for(const n of t.O_)e.m_(n.mutations)}async function gV(t,e,n){const r=t.O_.shift(),i=jm.from(r,e,n);await rT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yd(t)}async function mV(t,e){e&&$i(t).V_&&await async function(r,i){if(function(o){return iN(o)&&o!==q.ABORTED}(i.code)){const s=r.O_.shift();$i(r).s_(),await rT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yd(r)}}(t,e),iT(t)&&sT(t)}async function N0(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n.L_.add(3),await pu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await vd(n)}async function vV(t,e){const n=Se(t);e?(n.L_.delete(2),await vd(n)):e||(n.L_.add(2),await pu(n),n.q_.set("Unknown"))}function ha(t){return t.K_||(t.K_=function(n,r,i){const s=Se(n);return s.w_(),new nV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:aV.bind(null,t),Ro:lV.bind(null,t),mo:uV.bind(null,t),d_:cV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Qm(t)?Km(t):t.q_.set("Unknown")):(await t.K_.stop(),nT(t))})),t.K_}function $i(t){return t.U_||(t.U_=function(n,r,i){const s=Se(n);return s.w_(),new rV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fV.bind(null,t),mo:mV.bind(null,t),f_:pV.bind(null,t),g_:gV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await yd(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ym(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(t,e){if(qr("AsyncQueue",`${e}: ${t}`),hu(t))return new oe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.W_=new ut(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xo(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _V{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),s=i.queries;i.queries=U0(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new oe(q.ABORTED,"Firestore shutting down"))}}function U0(){return new ca(t=>LC(t),hd)}async function oT(t,e){const n=Se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new yV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Zm(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Xm(n)}async function aT(t,e){const n=Se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wV(t,e){const n=Se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Xm(n)}function EV(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Xm(t){t.Y_.forEach(e=>{e.next()})}var ig,F0;(F0=ig||(ig={})).ea="default",F0.Cache="cache";class lT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class SV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=AC(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new V0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),v=dd(this.query,f)?f:null,k=!!m&&this.mutatedKeys.has(m.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;m&&v?m.data.isEqual(v.data)?k!==C&&(r.track({type:3,doc:v}),x=!0):this.ga(m,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),x=!0):m&&!v&&(r.track({type:1,doc:m}),x=!0,(u||c)&&(a=!0)),x&&(v?(o=o.add(v),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(v,k){const C=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return C(v)-C(k)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Xo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new V0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uT(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CV{constructor(e){this.key=e,this.va=!1}}class TV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ca(a=>LC(a),hd),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(fe.comparator),this.Na=new Map,this.La=new $m,this.Ba={},this.ka=new Map,this.qa=Zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kV(t,e,n=!0){const r=mT(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await hT(r,e,n,!0),i}async function LV(t,e){const n=mT(t);await hT(n,e,!0,!1)}async function hT(t,e,n,r){const i=await QN(t.localStore,wr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await AV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&eT(t.remoteStore,i),a}async function AV(t,e,n,r,i){t.Ka=(f,m,v)=>async function(C,x,S,_){let E=x.view.ma(S);E.ns&&(E=await M0(C.localStore,x.query,!1).then(({documents:w})=>x.view.ma(w,E)));const O=_&&_.targetChanges.get(x.targetId),N=_&&_.targetMismatches.get(x.targetId)!=null,b=x.view.applyChanges(E,C.isPrimaryClient,O,N);return B0(C,x.targetId,b.wa),b.snapshot}(t,f,m,v);const s=await M0(t.localStore,e,!0),o=new SV(e,s.Ts),a=o.ma(s.documents),u=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);B0(t,n,c.wa);const h=new IV(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function xV(t,e,n){const r=Se(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!hd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qm(r.remoteStore,i.targetId),sg(r,i.targetId)}).catch(cu)):(sg(r,i.targetId),await rg(r.localStore,i.targetId,!0))}async function PV(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qm(n.remoteStore,r.targetId))}async function RV(t,e,n){const r=UV(t);try{const i=await function(o,a){const u=Se(o),c=xt.now(),h=a.reduce((v,k)=>v.add(k.key),be());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let k=Gr(),C=be();return u.cs.getEntries(v,h).next(x=>{k=x,k.forEach((S,_)=>{_.isValidDocument()||(C=C.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,k)).next(x=>{f=x;const S=[];for(const _ of a){const E=JO(_,f.get(_.key).overlayedDocument);E!=null&&S.push(new $s(_.key,E,_C(E.value.mapValue),Fr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,S,a)}).next(x=>{m=x;const S=x.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(v,x.batchId,S)})}).then(()=>({batchId:m.batchId,changes:PC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new ut(je)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await gu(r,i.changes),await yd(r.remoteStore)}catch(i){const s=Zm(i,"Failed to persist write");n.reject(s)}}async function dT(t,e){const n=Se(t);try{const r=await qN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qe(o.va):i.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),await gu(n,r,e)}catch(r){await cu(r)}}function j0(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Se(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&Xm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bV(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ut(fe.comparator);o=o.insert(s,Xt.newNoDocument(s,Ee.min()));const a=be().add(s),u=new gd(Ee.min(),new Map,new ut(je),o,a);await dT(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Jm(r)}else await rg(r.localStore,e,!1).then(()=>sg(r,e,n)).catch(cu)}async function MV(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await HN(n.localStore,e);pT(n,r,null),fT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await cu(i)}}async function DV(t,e,n){const r=Se(t);try{const i=await function(o,a){const u=Se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Qe(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);pT(r,e,n),fT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await cu(i)}}function fT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pT(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||gT(t,r)})}function gT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(qm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jm(t))}function B0(t,e,n){for(const r of n)r instanceof uT?(t.La.addReference(r.key,e),OV(t,r)):r instanceof cT?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gT(t,r.key)):ve()}function OV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Jm(t))}function Jm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new CV(n)),t.Oa=t.Oa.insert(n,r),eT(t.remoteStore,new Ii(wr(Um(n.path)),r,"TargetPurposeLimboResolution",bm.oe))}}async function gu(t,e,n){const r=Se(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Hm.Wi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const h=Se(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(c,m=>K.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>K.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!hu(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=h.os.get(m),k=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(k);h.os=h.os.insert(m,C)}}}(r.localStore,s))}async function NV(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await YC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new oe(q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.hs)}}function VV(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function mT(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.Ca.d_=wV.bind(null,e.eventManager),e.Ca.$a=EV.bind(null,e.eventManager),e}function UV(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DV.bind(null,e),e}class z0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WN(this.persistence,new zN,e.initialUser,this.serializer)}createPersistence(e){return new FN(Wm.Zr,this.serializer)}createSharedClientState(e){return new ZN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NV.bind(null,this.syncEngine),await vV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _V}()}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=function(s){return new tV(s)}(e.databaseInfo);return function(s,o,a,u){return new iV(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new oV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>j0(this.syncEngine,n,0),function(){return O0.D()?new O0:new XN}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new TV(i,s,o,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Se(i);ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=mC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zV(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N0(e.remoteStore,i)),t._onlineComponents=e}function BV(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BV(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new z0)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await wf(t,new z0);return t._offlineComponents}async function yT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await $0(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await $0(t,new FV))),t._onlineComponents}function $V(t){return yT(t).then(e=>e.syncEngine)}async function og(t){const e=await yT(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=xV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PV.bind(null,e.syncEngine),n}function WV(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new vT({next:m=>{o.enqueueAndForget(()=>aT(s,f)),m.fromCache&&u.source==="server"?c.reject(new oe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new lT(a,h,{includeMetadataChanges:!0,_a:!0});return oT(s,f)}(await og(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e,n){if(!n)throw new oe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HV(t,e,n,r){if(e===!0&&r===!0)throw new oe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H0(t){if(!fe.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q0(t){if(fe.isDocumentKey(t))throw new oe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(t);throw new oe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aO;switch(r.type){case"firstParty":return new hO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W0.get(n);r&&(ue("ComponentProvider","Removing Datastore"),W0.delete(n),r.terminate())}(this),Promise.resolve()}}function qV(t,e,n,r={}){var i;const s=(t=Ts(t,wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Yt.MOCK_USER;else{a=SI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yt(c)}t._authCredentials=new lO(new gC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Vi extends Zi{constructor(e,n,r){super(e,n,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new fe(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function zn(t,e,...n){if(t=Ct(t),wT("collection","path",e),t instanceof wd){const r=rt.fromString(e,...n);return q0(r),new Vi(t,null,r)}{if(!(t instanceof Cn||t instanceof Vi))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return q0(r),new Vi(t.firestore,null,r)}}function GV(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=mC.newId()),wT("doc","path",e),t instanceof wd){const r=rt.fromString(e,...n);return H0(r),new Cn(t,null,new fe(r))}{if(!(t instanceof Cn||t instanceof Vi))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return H0(r),new Cn(t.firestore,t instanceof Vi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new XC(this,"async_queue_retry"),this.Eu=()=>{const n=_f();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=_f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ni;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Ym.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function K0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yl extends wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new KV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ET(this),this._firestoreClient.terminate()}}function QV(t,e){const n=typeof t=="object"?t:wm(),r=typeof t=="string"?t:"(default)",i=od(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_I("firestore");s&&qV(i,...s)}return i}function ev(t){return t._firestoreClient||ET(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ET(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new CO(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_T(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(Wt.fromBase64String(e))}catch(n){throw new oe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=/^__.*__$/;class ZV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function ST(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class sv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ah(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ST(this.wu)&&YV.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class XV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}Nu(e,n,r,i=!1){return new sv({wu:e,methodName:n,Ou:r,path:jt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(t){const e=t._freezeSettings(),n=md(t._databaseId);return new XV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JV(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);kT("Data must be an object, but it was:",o,r);const a=CT(r,o);let u,c;if(s.merge)u=new Yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=t2(e,f,n);if(!o.contains(m))throw new oe(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);r2(h,m)||h.push(m)}u=new Yn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new ZV(new bn(a),u,c)}class ov extends nv{_toFieldTransform(e){return new QO(e.path,new Gl)}isEqual(e){return e instanceof ov}}function e2(t,e,n,r=!1){return av(n,t.Nu(r?4:3,e))}function av(t,e){if(TT(t=Ct(t)))return kT("Unsupported field value:",e,t),CT(t,e);if(t instanceof nv)return function(r,i){if(!ST(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=av(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xt.fromDate(r);return{timestampValue:kh(i.serializer,s)}}if(r instanceof xt){const s=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,s)}}if(r instanceof rv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jo)return{bytesValue:$C(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof iv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Fm(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${_d(r)}`)}(t,e)}function CT(t,e){const n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,i)=>{const s=av(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof rv||t instanceof Jo||t instanceof Cn||t instanceof nv||t instanceof iv)}function kT(t,e,n){if(!TT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_d(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function t2(t,e,n){if((e=Ct(e))instanceof tv)return e._internalPath;if(typeof e=="string")return LT(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const n2=new RegExp("[~\\*/\\[\\]]");function LT(t,e,n){if(e.search(n2)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tv(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new oe(q.INVALID_ARGUMENT,a+t+u)}function r2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ed("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i2 extends AT{data(){return super.data()}}function Ed(t,e){return typeof e=="string"?LT(t,e):e instanceof tv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class PT extends lv{}function ai(t,e,...n){let r=[];e instanceof lv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof uv).length,a=s.filter(u=>u instanceof Sd).length;if(o>1||o>0&&a>0)throw new oe(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sd extends PT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sd(e,n,r)}_apply(e){const n=this._parse(e);return RT(e._query,n),new Zi(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=IT(e.firestore);return function(s,o,a,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new oe(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Z0(f,h);const v=[];for(const k of f)v.push(Y0(u,s,k));m={arrayValue:{values:v}}}else m=Y0(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Z0(f,h),m=e2(a,o,f,h==="in"||h==="not-in");return It.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function us(t,e,n){const r=e,i=Ed("where",t);return Sd._create(i,r,n)}class uv extends lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)RT(o,u),o=Zp(o,u)}(e._query,n),new Zi(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends PT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new oe(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(s,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ua(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Q0(t,e="asc"){const n=e,r=Ed("orderBy",t);return cv._create(r,n)}function Y0(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new oe(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&n.indexOf("/")!==-1)throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!fe.isDocumentKey(r))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(t,new fe(r))}if(n instanceof Cn)return m0(t,n._key);throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function Z0(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RT(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class s2{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>mt(o.doubleValue));return new iv(s)}convertGeoPoint(e){return new rv(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=zi(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Qe(QC(r));const i=new Wl(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bT extends AT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nc extends bT{data(e={}){return super.data(e)}}class MT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nc(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:a2(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class hv extends s2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function ro(t){t=Ts(t,Zi);const e=Ts(t.firestore,Yl),n=ev(e),r=new hv(e);return xT(t._query),WV(n,t._query).then(i=>new MT(e,r,t,i))}function Ef(t,e){const n=Ts(t.firestore,Yl),r=GV(t),i=o2(t.converter,e);return l2(n,[JV(IT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}function X0(t,...e){var n,r,i;t=Ct(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||K0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K0(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,h;if(t instanceof Cn)c=Ts(t.firestore,Yl),h=Um(t._key.path),u={next:f=>{e[o]&&e[o](u2(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ts(t,Zi);c=Ts(f.firestore,Yl),h=f._query;const m=new hv(c);u={next:v=>{e[o]&&e[o](new MT(c,m,f,v))},error:e[o+1],complete:e[o+2]},xT(t._query)}return function(m,v,k,C){const x=new vT(C),S=new lT(v,x,k);return m.asyncQueue.enqueueAndForget(async()=>oT(await og(m),S)),()=>{x.za(),m.asyncQueue.enqueueAndForget(async()=>aT(await og(m),S))}}(ev(c),h,a,u)}function l2(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>RV(await $V(r),i,s)),s.promise}(ev(t),e)}function u2(t,e,n){const r=n.docs.get(e._key),i=new hv(t);return new bT(t,i,e._key,r,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}function J0(){return new ov("serverTimestamp")}(function(e,n=!0){(function(i){aa=i})(zs),bs(new ji("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Yl(new uO(r.getProvider("auth-internal")),new fO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yr(h0,"4.7.1",e),yr(h0,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebasestorage.googleapis.com",OT="storageBucket",c2=2*60*1e3,h2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends rr{constructor(e,n,r=0){super(Sf(e),`Firebase Storage: ${n} (${Sf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Sf(t){return"storage/"+t}function dv(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function d2(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function f2(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function g2(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m2(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function v2(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y2(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function _2(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function w2(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E2(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OT+"' property when initializing the app?")}function S2(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I2(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C2(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ag(t){return new pt(ft.INVALID_ARGUMENT,t)}function NT(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function T2(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gl(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Va(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw w2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),k={bucket:1,path:3},C=n===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",S=new RegExp(`^https?://${C}/${i}/${x}`,"i"),E=[{regex:a,indices:u,postModify:s},{regex:v,indices:k,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<E.length;O++){const N=E[O],b=N.regex.exec(e);if(b){const w=b[N.indices.bucket];let y=b[N.indices.path];y||(y=""),r=new Sn(w,y),N.postModify(r);break}}if(r==null)throw _2(e);return r}}class k2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(v,u())},x)}function m(){s&&clearTimeout(s)}function v(x,...S){if(c){m();return}if(x){m(),h.call(null,x,...S);return}if(u()||o){m(),h.call(null,x,...S);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let k=!1;function C(x){k||(k=!0,m(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function A2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return t!==void 0}function P2(t){return typeof t=="object"&&!Array.isArray(t)}function fv(t){return typeof t=="string"||t instanceof String}function ew(t){return pv()&&t instanceof Blob}function pv(){return typeof Blob<"u"}function tw(t,e,n,r){if(r<e)throw ag(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ag(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ks||(ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,s,o,a,u,c,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,k)=>{this.resolve_=v,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ks.NO_ERROR,u=s.getStatus();if(!a||R2(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ks.ABORT;r(!1,new nc(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new nc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());x2(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=dv();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?NT():y2();o(u)}else{const u=v2();o(u)}};this.canceled_?n(!1,new nc(!1,null,!0)):this.backoffId_=L2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function M2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function D2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V2(t,e,n,r,i,s,o=!0){const a=VT(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return O2(c,e),M2(c,n),D2(c,s),N2(c,r),new b2(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F2(...t){const e=U2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pv())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){if(typeof atob>"u")throw C2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class If{constructor(e,n){this.data=e,this.contentType=n||null}}function z2(t,e){switch(t){case pr.RAW:return new If(UT(e));case pr.BASE64:case pr.BASE64URL:return new If(FT(t,e));case pr.DATA_URL:return new If(W2(e),H2(e))}throw dv()}function UT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $2(t){let e;try{e=decodeURIComponent(t)}catch{throw gl(pr.DATA_URL,"Malformed data URL.")}return UT(e)}function FT(t,e){switch(t){case pr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw gl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw gl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=B2(e)}catch(i){throw i.message.includes("polyfill")?i:gl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=q2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function W2(t){const e=new jT(t);return e.base64?FT(pr.BASE64,e.rest):$2(e.rest)}function H2(t){return new jT(t).contentType}function q2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){let r=0,i="";ew(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ew(this.data_)){const r=this.data_,i=j2(r,e,n);return i===null?null:new yi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yi(r,!0)}}static getBlob(...e){if(pv()){const n=e.map(r=>r instanceof yi?r.data_:r);return new yi(F2.apply(null,n))}else{const n=e.map(o=>fv(o)?z2(pr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new yi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){let e;try{e=JSON.parse(t)}catch{return null}return P2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function K2(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){return e}class nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Q2}}let rc=null;function Y2(t){return!fv(t)||t.length<2?t:zT(t)}function $T(){if(rc)return rc;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(s,o){return Y2(o)}const n=new nn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new nn("size");return i.xform=r,t.push(i),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),rc=t,rc}function Z2(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Sn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function X2(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Z2(r,t),r}function WT(t,e,n){const r=BT(e);return r===null?null:X2(t,r,n)}function J2(t,e,n,r){const i=BT(e);if(i===null||!fv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),v=gv(m,n,r),k=VT({alt:"media",token:c});return v+k})[0]}function eU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class HT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){if(!t)throw dv()}function tU(t,e){function n(r,i){const s=WT(t,i,e);return qT(s!==null),s}return n}function nU(t,e){function n(r,i){const s=WT(t,i,e);return qT(s!==null),J2(s,i,t.host,t._protocol)}return n}function GT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=g2():i=p2():n.getStatus()===402?i=f2(t.bucket):n.getStatus()===403?i=m2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rU(t){const e=GT(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=d2(t.path)),s.serverResponse=i.serverResponse,s}return n}function iU(t,e,n){const r=e.fullServerUrl(),i=gv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new HT(i,s,nU(t,n),o);return a.errorHandler=rU(e),a}function sU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sU(null,e)),r}function aU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let O=0;O<2;O++)E=E+Math.random().toString().slice(2);return E}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=oU(e,r,i),h=eU(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",v=yi.getBlob(f,r,m);if(v===null)throw S2();const k={name:c.fullPath},C=gv(s,t.host,t._protocol),x="POST",S=t.maxUploadRetryTime,_=new HT(C,x,tU(t,n),S);return _.urlParams=k,_.headers=o,_.body=v.uploadData(),_.errorHandler=GT(e),_}class lU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uU extends lU{initXhr(){this.xhr_.responseType="text"}}function KT(){return new uU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Us(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zT(this._location.path)}get storage(){return this._service}get parent(){const e=G2(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new Us(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T2(e)}}function cU(t,e,n){t._throwIfRoot("uploadBytes");const r=aU(t.storage,t._location,$T(),new yi(e,!0),n);return t.storage.makeRequestWithTokens(r,KT).then(i=>({metadata:i,ref:t}))}function hU(t){t._throwIfRoot("getDownloadURL");const e=iU(t.storage,t._location,$T());return t.storage.makeRequestWithTokens(e,KT).then(n=>{if(n===null)throw I2();return n})}function dU(t,e){const n=K2(t._location.path,e),r=new Sn(t._location.bucket,n);return new Us(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){return/^[A-Za-z]+:\/\//.test(t)}function pU(t,e){return new Us(t,e)}function QT(t,e){if(t instanceof mv){const n=t;if(n._bucket==null)throw E2();const r=new Us(n,n._bucket);return e!=null?QT(r,e):r}else return e!==void 0?dU(t,e):t}function gU(t,e){if(e&&fU(e)){if(t instanceof mv)return pU(t,e);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}else return QT(t,e)}function nw(t,e){const n=e==null?void 0:e[OT];return n==null?null:Sn.makeFromBucketSpec(n,t)}function mU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SI(i,t.app.options.projectId))}class mv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c2,this._maxUploadRetryTime=h2,this._requests=new Set,i!=null?this._bucket=Sn.makeFromBucketSpec(i,this._host):this._bucket=nw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=nw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Us(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new k2(NT());{const o=V2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rw="@firebase/storage",iw="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="storage";function vU(t,e,n){return t=Ct(t),cU(t,e,n)}function yU(t){return t=Ct(t),hU(t)}function _U(t,e){return t=Ct(t),gU(t,e)}function wU(t=wm(),e){t=Ct(t);const r=od(t,YT).getImmediate({identifier:e}),i=_I("storage");return i&&EU(r,...i),r}function EU(t,e,n,r={}){mU(t,e,n,r)}function SU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new mv(n,r,i,e,zs)}function IU(){bs(new ji(YT,SU,"PUBLIC").setMultipleInstances(!0)),yr(rw,iw,""),yr(rw,iw,"esm2017")}IU();const CU={apiKey:"AIzaSyDIhZaGrGf8t_OH6i-GLiXlqmoUdXcHE4g",authDomain:"look-for-18287.firebaseapp.com",projectId:"look-for-18287",storageBucket:"look-for-18287.appspot.com",messagingSenderId:"82998813518",appId:"1:82998813518:web:900b551de81ef3928cb41f",measurementId:"G-NWZ20S0HYQ"},vv=TI(CU),uo=sO(vv),$n=QV(vv),TU=wU(vv),kU=new fr,Ft={async findUser(t){const e=ai(zn($n,"users"),us("userName","==",t));return(await ro(e)).docs},async getUser(t){if(t){const e=ai(zn($n,"users"),us("UID","==",t));return(await ro(e)).docs[0].data().userName}},async userSignUp(t,e){try{return await WM(uo,t,e)}catch(n){return n instanceof Error?n.message:(console.error("Unexpected error:",n),"An unexpected error occurred.")}},async userLogIn(t,e){try{return(await HM(uo,t,e)).user}catch(n){return n instanceof Error?n.message:(console.error("Unexpected error:",n),"An unexpected error occurred.")}},async userLogInGoogle(){try{return{user:(await pD(uo,kU)).user}}catch(t){if(t instanceof rr){const e=t.code,n=t.message,r=fr.credentialFromError(t);console.log(e),console.log(n),console.log(r)}else console.error("Unexpected error:",t)}},userLogOut(){KM(uo).then(()=>(console.log("登出成功"),"登出成功")).catch(t=>t)},async getLoginState(){return new Promise(t=>{YI(uo,e=>{console.log(e),t(e==null?void 0:e.uid)})})},async uploadImage(t){const e=_U(TU,`images/${t.name}`),n=await vU(e,t);console.log(t);const r=await yU(n.ref);return console.log(r),r},async setUser(t,e){await Ef(zn($n,"users"),{userName:t,UID:e})},async setViewPost(t,e,n){n&&await Ef(zn($n,"viewPosts"),{content:t.content||"",concert:t.concert,image:e,note:t.note||"",row:parseInt(t.row),seat:parseInt(t.seat),section:t.section,createdTime:J0(),userUID:n})},async setComment(t,e,n,r){await Ef(zn($n,`viewPosts/${t}/comments`),{content:e,createdTime:J0(),userUID:n,userName:r})},async getSections(){const t=ai(zn($n,"sections"),Q0("sectionName")),e=await ro(t),n=[];return e.forEach(r=>{n.push(r.data())}),n},async getRows(t){const e=ai(zn($n,"sections"),us("sectionName","==",t)),n=await ro(e);let r;return n.forEach(i=>{r=i.get("row")}),r},async getViewPosts(t,e,n,r){const i=ai(zn($n,"viewPosts"),us("section","==",t),us("row","==",e),us("seat","==",n));return X0(i,o=>{const a=[];o.forEach(u=>{a.push({id:u.id,...u.data()})}),console.log(a),r(a)})},async getViewComments(t,e){const n=ai(zn($n,`viewPosts/${t}/comments`),Q0("createdTime"));return X0(n,i=>{const s=[];i.forEach(o=>{s.push({id:o.id,...o.data()})}),console.log(s),e(s)})},async getConcerts(){const t=ai(zn($n,"concerts")),e=await ro(t);e.forEach(n=>{console.log(n)}),console.log(e)},async getMerchPost(t){const e=ai(zn($n,"merchPost"),us("concertId","==",t)),n=await ro(e);n.forEach(r=>{console.log(r)}),console.log(n)}},LU=W.header`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 60px;
  padding: 0 48px;
`,AU=W.div`
  width: 140px;
`,xU=W.img``,PU=W.ul`
  display: flex;
  align-items: center;
`,Cf=W(Xh)`
  font-size: 20px;
  padding: 20px 24px;
  color: #000000;
`,RU=W.button`
  font-size: 20px;
  padding: 20px 24px;
  color: #000000;
  background: none;
`;function bU(){const[t,e]=p.useState(!1);p.useEffect(()=>{YI(uo,r=>{e(!!r)})},[]);const n=()=>{Ft.userLogOut()};return P.jsxs(LU,{children:[P.jsx(AU,{children:P.jsx(xU,{src:mR})}),P.jsxs(PU,{children:[P.jsx("li",{children:P.jsx(Cf,{to:"/view",children:"場地"})}),P.jsx("li",{children:P.jsx(Cf,{to:"/concertlist",children:"演唱會資訊"})}),P.jsx("li",{children:t?P.jsx(RU,{onClick:n,children:"登出"}):P.jsx(Cf,{to:"/login",children:"登入"})})]})]})}function MU(){return P.jsxs(P.Fragment,{children:[P.jsx(gR,{}),P.jsx(bU,{}),P.jsx(tP,{})]})}function DU(){return P.jsx(P.Fragment,{})}function OU(){return P.jsx(P.Fragment,{})}function NU(){return P.jsx(P.Fragment,{})}function VU(){return P.jsx(P.Fragment,{})}var mu=t=>t.type==="checkbox",Co=t=>t instanceof Date,sn=t=>t==null;const ZT=t=>typeof t=="object";var Tt=t=>!sn(t)&&!Array.isArray(t)&&ZT(t)&&!Co(t),UU=t=>Tt(t)&&t.target?mu(t.target)?t.target.checked:t.target.value:t,FU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jU=(t,e)=>t.has(FU(e)),BU=t=>{const e=t.constructor&&t.constructor.prototype;return Tt(e)&&e.hasOwnProperty("isPrototypeOf")},yv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(yv&&(t instanceof Blob||t instanceof FileList))&&(n||Tt(t)))if(e=n?[]:{},!n&&!BU(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=An(t[r]));else return t;return e}var Id=t=>Array.isArray(t)?t.filter(Boolean):[],gt=t=>t===void 0,ae=(t,e,n)=>{if(!e||!Tt(t))return n;const r=Id(e.split(/[,[\].]+?/)).reduce((i,s)=>sn(i)?i:i[s],t);return gt(r)||r===t?gt(t[e])?n:t[e]:r},cr=t=>typeof t=="boolean",_v=t=>/^\w*$/.test(t),XT=t=>Id(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,n)=>{let r=-1;const i=_v(e)?[e]:XT(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let u=n;if(r!==o){const c=t[a];u=Tt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=u,t=t[a]}return t};const sw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ht.createContext(null);var zU=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Kn.all&&(e._proxyFormState[o]=!r||Kn.all),t[o]}});return i},cn=t=>Tt(t)&&!Object.keys(t).length,$U=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return cn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Kn.all)},Vc=t=>Array.isArray(t)?t:[t];function WU(t){const e=ht.useRef(t);e.current=t,ht.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var gr=t=>typeof t=="string",HU=(t,e,n,r,i)=>gr(t)?(r&&e.watch.add(t),ae(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ae(n,s))):(r&&(e.watchAll=!0),n),qU=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ow=t=>({isOnSubmit:!t||t===Kn.onSubmit,isOnBlur:t===Kn.onBlur,isOnChange:t===Kn.onChange,isOnAll:t===Kn.all,isOnTouch:t===Kn.onTouched}),aw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ml=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ae(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ml(a,e))break}else if(Tt(a)&&ml(a,e))break}}};var GU=(t,e,n)=>{const r=Vc(ae(t,n));return nt(r,"root",e[n]),nt(t,n,r),t},wv=t=>t.type==="file",Nr=t=>typeof t=="function",xh=t=>{if(!yv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Uc=t=>gr(t),Ev=t=>t.type==="radio",Ph=t=>t instanceof RegExp;const lw={value:!1,isValid:!1},uw={value:!0,isValid:!0};var JT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!gt(t[0].attributes.value)?gt(t[0].value)||t[0].value===""?uw:{value:t[0].value,isValid:!0}:uw:lw}return lw};const cw={isValid:!1,value:null};var ek=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,cw):cw;function hw(t,e,n="validate"){if(Uc(t)||Array.isArray(t)&&t.every(Uc)||cr(t)&&!t)return{type:n,message:Uc(t)?t:"",ref:e}}var io=t=>Tt(t)&&!Ph(t)?t:{value:t,message:""},dw=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:u,minLength:c,min:h,max:f,pattern:m,validate:v,name:k,valueAsNumber:C,mount:x,disabled:S}=t._f,_=ae(e,k);if(!x||S)return{};const E=o?o[0]:s,O=R=>{r&&E.reportValidity&&(E.setCustomValidity(cr(R)?"":R||""),E.reportValidity())},N={},b=Ev(s),w=mu(s),y=b||w,L=(C||wv(s))&&gt(s.value)&&gt(_)||xh(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,I=qU.bind(null,k,n,N),M=(R,A,te,re=Lr.maxLength,ce=Lr.minLength)=>{const X=R?A:te;N[k]={type:R?re:ce,message:X,ref:s,...I(R?re:ce,X)}};if(i?!Array.isArray(_)||!_.length:a&&(!y&&(L||sn(_))||cr(_)&&!_||w&&!JT(o).isValid||b&&!ek(o).isValid)){const{value:R,message:A}=Uc(a)?{value:!!a,message:a}:io(a);if(R&&(N[k]={type:Lr.required,message:A,ref:E,...I(Lr.required,A)},!n))return O(A),N}if(!L&&(!sn(h)||!sn(f))){let R,A;const te=io(f),re=io(h);if(!sn(_)&&!isNaN(_)){const ce=s.valueAsNumber||_&&+_;sn(te.value)||(R=ce>te.value),sn(re.value)||(A=ce<re.value)}else{const ce=s.valueAsDate||new Date(_),X=J=>new Date(new Date().toDateString()+" "+J),$=s.type=="time",Y=s.type=="week";gr(te.value)&&_&&(R=$?X(_)>X(te.value):Y?_>te.value:ce>new Date(te.value)),gr(re.value)&&_&&(A=$?X(_)<X(re.value):Y?_<re.value:ce<new Date(re.value))}if((R||A)&&(M(!!R,te.message,re.message,Lr.max,Lr.min),!n))return O(N[k].message),N}if((u||c)&&!L&&(gr(_)||i&&Array.isArray(_))){const R=io(u),A=io(c),te=!sn(R.value)&&_.length>+R.value,re=!sn(A.value)&&_.length<+A.value;if((te||re)&&(M(te,R.message,A.message),!n))return O(N[k].message),N}if(m&&!L&&gr(_)){const{value:R,message:A}=io(m);if(Ph(R)&&!_.match(R)&&(N[k]={type:Lr.pattern,message:A,ref:s,...I(Lr.pattern,A)},!n))return O(A),N}if(v){if(Nr(v)){const R=await v(_,e),A=hw(R,E);if(A&&(N[k]={...A,...I(Lr.validate,A.message)},!n))return O(A.message),N}else if(Tt(v)){let R={};for(const A in v){if(!cn(R)&&!n)break;const te=hw(await v[A](_,e),E,A);te&&(R={...te,...I(A,te.message)},O(te.message),n&&(N[k]=R))}if(!cn(R)&&(N[k]={ref:E,...R},!n))return N}}return O(!0),N};function KU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=gt(t)?r++:t[e[r++]];return t}function QU(t){for(const e in t)if(t.hasOwnProperty(e)&&!gt(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:_v(e)?[e]:XT(e),r=n.length===1?t:KU(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Tt(r)&&cn(r)||Array.isArray(r)&&QU(r))&&kt(t,n.slice(0,-1)),t}var Tf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Rh=t=>sn(t)||!ZT(t);function _i(t,e){if(Rh(t)||Rh(e))return t===e;if(Co(t)&&Co(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Co(s)&&Co(o)||Tt(s)&&Tt(o)||Array.isArray(s)&&Array.isArray(o)?!_i(s,o):s!==o)return!1}}return!0}var tk=t=>t.type==="select-multiple",YU=t=>Ev(t)||mu(t),kf=t=>xh(t)&&t.isConnected,nk=t=>{for(const e in t)if(Nr(t[e]))return!0;return!1};function bh(t,e={}){const n=Array.isArray(t);if(Tt(t)||n)for(const r in t)Array.isArray(t[r])||Tt(t[r])&&!nk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bh(t[r],e[r])):sn(t[r])||(e[r]=!0);return e}function rk(t,e,n){const r=Array.isArray(t);if(Tt(t)||r)for(const i in t)Array.isArray(t[i])||Tt(t[i])&&!nk(t[i])?gt(e)||Rh(n[i])?n[i]=Array.isArray(t[i])?bh(t[i],[]):{...bh(t[i])}:rk(t[i],sn(e)?{}:e[i],n[i]):n[i]=!_i(t[i],e[i]);return n}var ic=(t,e)=>rk(t,e,bh(e)),ik=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>gt(t)?t:e?t===""?NaN:t&&+t:n&&gr(t)?new Date(t):r?r(t):t;function Lf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return wv(e)?e.files:Ev(e)?ek(t.refs).value:tk(e)?[...e.selectedOptions].map(({value:n})=>n):mu(e)?JT(t.refs).value:ik(gt(e.value)?t.ref.value:e.value,t)}var ZU=(t,e,n,r)=>{const i={};for(const s of t){const o=ae(e,s);o&&nt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ua=t=>gt(t)?t:Ph(t)?t.source:Tt(t)?Ph(t.value)?t.value.source:t.value:t;const fw="AsyncFunction";var XU=t=>(!t||!t.validate)&&!!(Nr(t.validate)&&t.validate.constructor.name===fw||Tt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fw)),JU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function pw(t,e,n){const r=ae(t,n);if(r||_v(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ae(e,s),a=ae(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var eF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,tF=(t,e)=>!Id(ae(t,e)).length&&kt(t,e);const nF={mode:Kn.onSubmit,reValidateMode:Kn.onChange,shouldFocusError:!0};function rF(t={}){let e={...nF,...t},n={submitCount:0,isDirty:!1,isLoading:Nr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Tt(e.defaultValues)||Tt(e.values)?An(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:An(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Tf(),array:Tf(),state:Tf()},m=ow(e.mode),v=ow(e.reValidateMode),k=e.criteriaMode===Kn.all,C=D=>V=>{clearTimeout(c),c=setTimeout(D,V)},x=async D=>{if(h.isValid||D){const V=e.resolver?cn((await y()).errors):await I(r,!0);V!==n.isValid&&f.state.next({isValid:V})}},S=(D,V)=>{(h.isValidating||h.validatingFields)&&((D||Array.from(a.mount)).forEach(U=>{U&&(V?nt(n.validatingFields,U,V):kt(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},_=(D,V=[],U,Z,z=!0,G=!0)=>{if(Z&&U){if(o.action=!0,G&&Array.isArray(ae(r,D))){const H=U(ae(r,D),Z.argA,Z.argB);z&&nt(r,D,H)}if(G&&Array.isArray(ae(n.errors,D))){const H=U(ae(n.errors,D),Z.argA,Z.argB);z&&nt(n.errors,D,H),tF(n.errors,D)}if(h.touchedFields&&G&&Array.isArray(ae(n.touchedFields,D))){const H=U(ae(n.touchedFields,D),Z.argA,Z.argB);z&&nt(n.touchedFields,D,H)}h.dirtyFields&&(n.dirtyFields=ic(i,s)),f.state.next({name:D,isDirty:R(D,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else nt(s,D,V)},E=(D,V)=>{nt(n.errors,D,V),f.state.next({errors:n.errors})},O=D=>{n.errors=D,f.state.next({errors:n.errors,isValid:!1})},N=(D,V,U,Z)=>{const z=ae(r,D);if(z){const G=ae(s,D,gt(U)?ae(i,D):U);gt(G)||Z&&Z.defaultChecked||V?nt(s,D,V?G:Lf(z._f)):re(D,G),o.mount&&x()}},b=(D,V,U,Z,z)=>{let G=!1,H=!1;const ye={name:D},Ce=!!(ae(r,D)&&ae(r,D)._f&&ae(r,D)._f.disabled);if(!U||Z){h.isDirty&&(H=n.isDirty,n.isDirty=ye.isDirty=R(),G=H!==ye.isDirty);const we=Ce||_i(ae(i,D),V);H=!!(!Ce&&ae(n.dirtyFields,D)),we||Ce?kt(n.dirtyFields,D):nt(n.dirtyFields,D,!0),ye.dirtyFields=n.dirtyFields,G=G||h.dirtyFields&&H!==!we}if(U){const we=ae(n.touchedFields,D);we||(nt(n.touchedFields,D,U),ye.touchedFields=n.touchedFields,G=G||h.touchedFields&&we!==U)}return G&&z&&f.state.next(ye),G?ye:{}},w=(D,V,U,Z)=>{const z=ae(n.errors,D),G=h.isValid&&cr(V)&&n.isValid!==V;if(t.delayError&&U?(u=C(()=>E(D,U)),u(t.delayError)):(clearTimeout(c),u=null,U?nt(n.errors,D,U):kt(n.errors,D)),(U?!_i(z,U):z)||!cn(Z)||G){const H={...Z,...G&&cr(V)?{isValid:V}:{},errors:n.errors,name:D};n={...n,...H},f.state.next(H)}},y=async D=>{S(D,!0);const V=await e.resolver(s,e.context,ZU(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(D),V},L=async D=>{const{errors:V}=await y(D);if(D)for(const U of D){const Z=ae(V,U);Z?nt(n.errors,U,Z):kt(n.errors,U)}else n.errors=V;return V},I=async(D,V,U={valid:!0})=>{for(const Z in D){const z=D[Z];if(z){const{_f:G,...H}=z;if(G){const ye=a.array.has(G.name),Ce=z._f&&XU(z._f);Ce&&h.validatingFields&&S([Z],!0);const we=await dw(z,s,k,e.shouldUseNativeValidation&&!V,ye);if(Ce&&h.validatingFields&&S([Z]),we[G.name]&&(U.valid=!1,V))break;!V&&(ae(we,G.name)?ye?GU(n.errors,we,G.name):nt(n.errors,G.name,we[G.name]):kt(n.errors,G.name))}!cn(H)&&await I(H,V,U)}}return U.valid},M=()=>{for(const D of a.unMount){const V=ae(r,D);V&&(V._f.refs?V._f.refs.every(U=>!kf(U)):!kf(V._f.ref))&&B(D)}a.unMount=new Set},R=(D,V)=>(D&&V&&nt(s,D,V),!_i(ne(),i)),A=(D,V,U)=>HU(D,a,{...o.mount?s:gt(V)?i:gr(D)?{[D]:V}:V},U,V),te=D=>Id(ae(o.mount?s:i,D,t.shouldUnregister?ae(i,D,[]):[])),re=(D,V,U={})=>{const Z=ae(r,D);let z=V;if(Z){const G=Z._f;G&&(!G.disabled&&nt(s,D,ik(V,G)),z=xh(G.ref)&&sn(V)?"":V,tk(G.ref)?[...G.ref.options].forEach(H=>H.selected=z.includes(H.value)):G.refs?mu(G.ref)?G.refs.length>1?G.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(z)?!!z.find(ye=>ye===H.value):z===H.value)):G.refs[0]&&(G.refs[0].checked=!!z):G.refs.forEach(H=>H.checked=H.value===z):wv(G.ref)?G.ref.value="":(G.ref.value=z,G.ref.type||f.values.next({name:D,values:{...s}})))}(U.shouldDirty||U.shouldTouch)&&b(D,z,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&J(D)},ce=(D,V,U)=>{for(const Z in V){const z=V[Z],G=`${D}.${Z}`,H=ae(r,G);(a.array.has(D)||!Rh(z)||H&&!H._f)&&!Co(z)?ce(G,z,U):re(G,z,U)}},X=(D,V,U={})=>{const Z=ae(r,D),z=a.array.has(D),G=An(V);nt(s,D,G),z?(f.array.next({name:D,values:{...s}}),(h.isDirty||h.dirtyFields)&&U.shouldDirty&&f.state.next({name:D,dirtyFields:ic(i,s),isDirty:R(D,G)})):Z&&!Z._f&&!sn(G)?ce(D,G,U):re(D,G,U),aw(D,a)&&f.state.next({...n}),f.values.next({name:o.mount?D:void 0,values:{...s}})},$=async D=>{o.mount=!0;const V=D.target;let U=V.name,Z=!0;const z=ae(r,U),G=()=>V.type?Lf(z._f):UU(D),H=ye=>{Z=Number.isNaN(ye)||_i(ye,ae(s,U,ye))};if(z){let ye,Ce;const we=G(),Pt=D.type===sw.BLUR||D.type===sw.FOCUS_OUT,ze=!JU(z._f)&&!e.resolver&&!ae(n.errors,U)&&!z._f.deps||eF(Pt,ae(n.touchedFields,U),n.isSubmitted,v,m),Fn=aw(U,a,Pt);nt(s,U,we),Pt?(z._f.onBlur&&z._f.onBlur(D),u&&u(0)):z._f.onChange&&z._f.onChange(D);const Yr=b(U,we,Pt,!1),ir=!cn(Yr)||Fn;if(!Pt&&f.values.next({name:U,type:D.type,values:{...s}}),ze)return h.isValid&&(t.mode==="onBlur"?Pt&&x():x()),ir&&f.state.next({name:U,...Fn?{}:Yr});if(!Pt&&Fn&&f.state.next({...n}),e.resolver){const{errors:sr}=await y([U]);if(H(we),Z){const Xi=pw(n.errors,r,U),Ir=pw(sr,r,Xi.name||U);ye=Ir.error,U=Ir.name,Ce=cn(sr)}}else S([U],!0),ye=(await dw(z,s,k,e.shouldUseNativeValidation))[U],S([U]),H(we),Z&&(ye?Ce=!1:h.isValid&&(Ce=await I(r,!0)));Z&&(z._f.deps&&J(z._f.deps),w(U,Ce,ye,Yr))}},Y=(D,V)=>{if(ae(n.errors,V)&&D.focus)return D.focus(),1},J=async(D,V={})=>{let U,Z;const z=Vc(D);if(e.resolver){const G=await L(gt(D)?D:z);U=cn(G),Z=D?!z.some(H=>ae(G,H)):U}else D?(Z=(await Promise.all(z.map(async G=>{const H=ae(r,G);return await I(H&&H._f?{[G]:H}:H)}))).every(Boolean),!(!Z&&!n.isValid)&&x()):Z=U=await I(r);return f.state.next({...!gr(D)||h.isValid&&U!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:U}:{},errors:n.errors}),V.shouldFocus&&!Z&&ml(r,Y,D?z:a.mount),Z},ne=D=>{const V={...o.mount?s:i};return gt(D)?V:gr(D)?ae(V,D):D.map(U=>ae(V,U))},se=(D,V)=>({invalid:!!ae((V||n).errors,D),isDirty:!!ae((V||n).dirtyFields,D),error:ae((V||n).errors,D),isValidating:!!ae(n.validatingFields,D),isTouched:!!ae((V||n).touchedFields,D)}),de=D=>{D&&Vc(D).forEach(V=>kt(n.errors,V)),f.state.next({errors:D?n.errors:{}})},ge=(D,V,U)=>{const Z=(ae(r,D,{_f:{}})._f||{}).ref,z=ae(n.errors,D)||{},{ref:G,message:H,type:ye,...Ce}=z;nt(n.errors,D,{...Ce,...V,ref:Z}),f.state.next({name:D,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&Z&&Z.focus&&Z.focus()},Ie=(D,V)=>Nr(D)?f.values.subscribe({next:U=>D(A(void 0,V),U)}):A(D,V,!0),B=(D,V={})=>{for(const U of D?Vc(D):a.mount)a.mount.delete(U),a.array.delete(U),V.keepValue||(kt(r,U),kt(s,U)),!V.keepError&&kt(n.errors,U),!V.keepDirty&&kt(n.dirtyFields,U),!V.keepTouched&&kt(n.touchedFields,U),!V.keepIsValidating&&kt(n.validatingFields,U),!e.shouldUnregister&&!V.keepDefaultValue&&kt(i,U);f.values.next({values:{...s}}),f.state.next({...n,...V.keepDirty?{isDirty:R()}:{}}),!V.keepIsValid&&x()},_e=({disabled:D,name:V,field:U,fields:Z,value:z})=>{if(cr(D)&&o.mount||D){const G=D?void 0:gt(z)?Lf(U?U._f:ae(Z,V)._f):z;nt(s,V,G),b(V,G,!1,!1,!0)}},Re=(D,V={})=>{let U=ae(r,D);const Z=cr(V.disabled)||cr(t.disabled);return nt(r,D,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:D}},name:D,mount:!0,...V}}),a.mount.add(D),U?_e({field:U,disabled:cr(V.disabled)?V.disabled:t.disabled,name:D,value:V.value}):N(D,!0,V.value),{...Z?{disabled:V.disabled||t.disabled}:{},...e.progressive?{required:!!V.required,min:Ua(V.min),max:Ua(V.max),minLength:Ua(V.minLength),maxLength:Ua(V.maxLength),pattern:Ua(V.pattern)}:{},name:D,onChange:$,onBlur:$,ref:z=>{if(z){Re(D,V),U=ae(r,D);const G=gt(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,H=YU(G),ye=U._f.refs||[];if(H?ye.find(Ce=>Ce===G):G===U._f.ref)return;nt(r,D,{_f:{...U._f,...H?{refs:[...ye.filter(kf),G,...Array.isArray(ae(i,D))?[{}]:[]],ref:{type:G.type,name:D}}:{ref:G}}}),N(D,!1,void 0,G)}else U=ae(r,D,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(jU(a.array,D)&&o.action)&&a.unMount.add(D)}}},le=()=>e.shouldFocusError&&ml(r,Y,a.mount),Me=D=>{cr(D)&&(f.state.next({disabled:D}),ml(r,(V,U)=>{const Z=ae(r,U);Z&&(V.disabled=Z._f.disabled||D,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(z=>{z.disabled=Z._f.disabled||D}))},0,!1))},De=(D,V)=>async U=>{let Z;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let z=An(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:H}=await y();n.errors=G,z=H}else await I(r);if(kt(n.errors,"root"),cn(n.errors)){f.state.next({errors:{}});try{await D(z,U)}catch(G){Z=G}}else V&&await V({...n.errors},U),le(),setTimeout(le);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},ke=(D,V={})=>{ae(r,D)&&(gt(V.defaultValue)?X(D,An(ae(i,D))):(X(D,V.defaultValue),nt(i,D,An(V.defaultValue))),V.keepTouched||kt(n.touchedFields,D),V.keepDirty||(kt(n.dirtyFields,D),n.isDirty=V.defaultValue?R(D,An(ae(i,D))):R()),V.keepError||(kt(n.errors,D),h.isValid&&x()),f.state.next({...n}))},Be=(D,V={})=>{const U=D?An(D):i,Z=An(U),z=cn(D),G=z?i:Z;if(V.keepDefaultValues||(i=U),!V.keepValues){if(V.keepDirtyValues)for(const H of a.mount)ae(n.dirtyFields,H)?nt(G,H,ae(s,H)):X(H,ae(G,H));else{if(yv&&gt(D))for(const H of a.mount){const ye=ae(r,H);if(ye&&ye._f){const Ce=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(xh(Ce)){const we=Ce.closest("form");if(we){we.reset();break}}}}r={}}s=t.shouldUnregister?V.keepDefaultValues?An(i):{}:An(G),f.array.next({values:{...G}}),f.values.next({values:{...G}})}a={mount:V.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:z?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!_i(D,i)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:z?{}:V.keepDirtyValues?V.keepDefaultValues&&s?ic(i,s):n.dirtyFields:V.keepDefaultValues&&D?ic(i,D):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},He=(D,V)=>Be(Nr(D)?D(s):D,V);return{control:{register:Re,unregister:B,getFieldState:se,handleSubmit:De,setError:ge,_executeSchema:y,_getWatch:A,_getDirty:R,_updateValid:x,_removeUnmounted:M,_updateFieldArray:_,_updateDisabledField:_e,_getFieldArray:te,_reset:Be,_resetDefaultValues:()=>Nr(e.defaultValues)&&e.defaultValues().then(D=>{He(D,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:Me,_subjects:f,_proxyFormState:h,_setErrors:O,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(D){o=D},get _defaultValues(){return i},get _names(){return a},set _names(D){a=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:J,register:Re,handleSubmit:De,watch:Ie,setValue:X,getValues:ne,reset:He,resetField:ke,clearErrors:de,unregister:B,setError:ge,setFocus:(D,V={})=>{const U=ae(r,D),Z=U&&U._f;if(Z){const z=Z.refs?Z.refs[0]:Z.ref;z.focus&&(z.focus(),V.shouldSelect&&z.select())}},getFieldState:se}}function Sv(t={}){const e=ht.useRef(),n=ht.useRef(),[r,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:Nr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Nr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...rF(t),formState:r});const s=e.current.control;return s._options=t,WU({subject:s._subjects.state,next:o=>{$U(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),ht.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ht.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ht.useEffect(()=>{t.values&&!_i(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ht.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ht.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ht.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=zU(r,s),e.current}const iF=W.div`
  width: 100%;
  flex-direction: column;
  row-gap: 15px;
  display: flex;
  display: ${t=>t.isLogin?"none":"flex"};
`,Ja=W.input`
  border-radius: 30px;
  background: #ededed;
  border: none;
  padding: 10px 20px;
  display: block;
  width: 100%;
  font-size: 16px;
  line-height: 1.5;
`,sc=W.label`
  font-size: 16px;
  line-height: 1.5;
  color: #000;
`,oc=W.span`
  font-size: 16px;
  line-height: 1.5;
  color: #dc3131;
`,sF=W(Ja)`
  margin-top: 30px;
`;function oF({isLogin:t,setIsLogin:e}){const{register:n,handleSubmit:r,formState:{errors:i}}=Sv(),s=async o=>{if((await Ft.findUser(o.name)).length>=1){alert("用戶名已存在");return}if(o.password!==o.checkPassword){alert("請再次確認密碼");return}const u=await Ft.userSignUp(o.email,o.password);if(console.log(u),u==="Firebase: Error (auth/email-already-in-use)."){alert("電子郵件已被使用");return}u instanceof Object&&(await Ft.setUser(o.name,u.user.uid),e(!0),alert("註冊成功"))};return P.jsxs(iF,{isLogin:t,children:[P.jsxs(sc,{children:["電子信箱",P.jsx(oc,{children:"*"}),P.jsx(Ja,{type:"email",placeholder:"請輸入電子信箱",...n("email",{required:"請輸入電子信箱"})}),i.email&&P.jsx("span",{children:i.email.message})]}),P.jsxs(sc,{children:["名稱",P.jsx(oc,{children:"*"}),P.jsx(Ja,{type:"text",placeholder:"請輸入名稱",...n("name",{required:"請輸入名稱"})}),i.name&&P.jsx("span",{children:i.name.message})]}),P.jsxs(sc,{children:["設定密碼",P.jsx(oc,{children:"*"}),P.jsx(Ja,{type:"password",placeholder:"請輸入密碼",...n("password",{required:"請輸密碼"})}),i.password&&P.jsx("span",{children:i.password.message})]}),P.jsxs(sc,{children:["確認密碼",P.jsx(oc,{children:"*"}),P.jsx(Ja,{type:"password",placeholder:"請再次輸入密碼",...n("checkPassword",{required:"請確認密碼"})}),i.checkPassword&&P.jsx("span",{children:i.checkPassword.message})]}),P.jsx(sF,{type:"button",value:"註冊",onClick:r(s)})]})}const aF=W.div`
  width: 100%;
  display: ${t=>t.isLogin?"flex":"none"};
  flex-direction: column;
  row-gap: 25px;
  margin-top: 68px;
`,lg=W.input`
  border-radius: 30px;
  background: #ededed;
  border: none;
  padding: 10px 20px;
  display: block;
  width: 100%;
  font-size: 16px;
  line-height: 1.5;
`,lF=W(lg)`
  margin-top: 20px;
`;function uF({isLogin:t}){const e=Zh(),{register:n,handleSubmit:r,formState:{errors:i}}=Sv(),s=async o=>{const a=await Ft.userLogIn(o.email,o.password);if(console.log(a),a==="Firebase: Error (auth/invalid-credential)."){alert("帳號或密碼有誤");return}else if(a==="Firebase: Error (auth/invalid-email)."){alert("無效的 mail");return}e("/")};return P.jsxs(aF,{isLogin:t,children:[P.jsx(lg,{type:"email",placeholder:"請輸入電子信箱",defaultValue:"",...n("email",{required:"請輸入電子信箱"})}),i.email&&P.jsx("span",{children:i.email.message}),P.jsx(lg,{type:"password",placeholder:"請輸入密碼",defaultValue:"",...n("password",{required:"請輸入密碼"})}),P.jsx(lF,{type:"button",value:"登入",onClick:r(s)}),i.password&&P.jsx("span",{children:i.password.message})]})}const cF=W.div`
  padding: 40px 80px;
`,hF=W.div`
  width: 530px;
  height: 670px;
  display: flex;
  flex-direction: column;
  padding: 32px 56px;
  background: #fff;
  box-shadow: 2px 4px 10px rgba(0, 0, 0, 0.25);
  margin-left: auto;
  border-radius: 20px;
  row-gap: 25px;
`,dF=W.div`
  width: 100%;
  display: flex;
`,gw=W.button`
  display: block;
  flex-grow: 1;
`,fF=W.div`
  display: flex;
  align-items: center;
`,pF=W.p`
  font-size: 20px;
  line-height: 1.5;
  color: #767676;
  margin: 0 8px;
`,mw=W.div`
  height: 1px;
  width: 100%;
  background: #d2d2d2;
  flex-grow: 1;
`,gF=W.button``;function mF(){const[t,e]=p.useState(!0),n=Zh(),r=async()=>{const i=await Ft.userLogInGoogle();i!=null&&i.user&&n("/")};return P.jsx(cF,{children:P.jsxs(hF,{children:[P.jsxs(dF,{children:[P.jsx(gw,{onClick:()=>e(!0),children:"Log In"}),P.jsx(gw,{onClick:()=>e(!1),children:"Sign Up"})]}),t?P.jsx(uF,{isLogin:t}):P.jsx(oF,{isLogin:t,setIsLogin:e}),P.jsxs(fF,{children:[P.jsx(mw,{}),P.jsx(pF,{children:"or"}),P.jsx(mw,{})]}),P.jsx(gF,{onClick:r,children:"Login with Google"})]})})}const vF=W.div`
  padding: 60px;
`,yF=W.h4`
  font-size: 32px;
  font-weight: 600;
`,_F=W.div`
  display: flex;
  column-gap: 10px;
  justify-content: center;
`,wF=W.div`
  display: flex;
  column-gap: 10px;
  margin-bottom: 20px;
  justify-content: center;
`,EF=W.div`
  display: flex;
  column-gap: 10px;
  justify-content: center;
`,sk=W.div`
  clip-path: polygon(30% 0%, 100% 0%, 100% 100%, 25% 100%, 0% 80%);
  width: 248px;
  height: 158px;
  background: #c2c2c2;
`,SF=W(sk)`
  transform: scaleX(-1);
`,un=W.div`
  width: 90px;
  height: 110px;
  background: rgb(105, 240, 174);
`;function IF({handlerSection:t}){return P.jsxs(vF,{onClick:e=>{console.log(e);const n=e.target;(n.dataset.section!==void 0||n.dataset.section!==void 0)&&t(n.dataset.section)},children:[P.jsx(yF,{children:"區域選擇"}),P.jsxs(_F,{children:[P.jsx(sk,{"data-section":"2A"}),P.jsx(SF,{"data-section":"2A"})]}),P.jsxs(wF,{children:[P.jsx(un,{"data-section":"2A",children:"2A"}),P.jsx(un,{"data-section":"2B",children:"2B"}),P.jsx(un,{"data-section":"2C",children:"2C"}),P.jsx(un,{"data-section":"2D",children:"2D"}),P.jsx(un,{"data-section":"2E",children:"2E"}),P.jsx(un,{"data-section":"2F",children:"2F"}),P.jsx(un,{"data-section":"2G",children:"2G"})]}),P.jsxs(EF,{children:[P.jsx(un,{"data-section":"3A",children:"3A"}),P.jsx(un,{"data-section":"3B",children:"3B"}),P.jsx(un,{"data-section":"3C",children:"3C"}),P.jsx(un,{"data-section":"3D",children:"3D"}),P.jsx(un,{"data-section":"3E",children:"3E"}),P.jsx(un,{"data-section":"3F",children:"3F"}),P.jsx(un,{"data-section":"3G",children:"3G"})]})]})}const CF=W.h4``,TF=W.div`
  display: ${t=>t.isSelectSection?"block":"none"};
  padding: 0 100px;
`,kF=W.button`
  display: block;
  width: 100%;
  margin-bottom: 10px;
`;function LF({state:t,dispatch:e}){return P.jsxs(TF,{isSelectSection:t.isSelectSection,children:[P.jsxs(CF,{children:[t.section,"區"]}),Array.from({length:t.rowSeats.length}).map((n,r)=>P.jsxs(kF,{onClick:()=>{e({type:"selectRow",payload:{row:r,isSelectRow:!0}})},children:[r+1,"排"]},r))]})}const vw="/assets/avatar-Bbyf2qid.jpg",AF=W.div`
  grid-column: span 2;
  margin-top: 80px;
  padding: 0 100px;
  margin-bottom: 80px;
  display: ${t=>t.rowSelect?"block":"none"};
`,xF=W.div`
  display: flex;
  column-gap: 10px;
  justify-content: center;
`,PF=W.h4`
  font-size: 32px;
  font-weight: 600;
`,RF=W.button`
  width: 40px;
  height: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid ${t=>t.selected?"#328c48":"transparent"};
`,bF=W.div`
  border-radius: 10px;
  display: flex;
  column-gap: 35px;
  padding: 15px 20px;
  box-shadow: 3px 3px 3px #d2d2d2;
  height: 520px;
`,yw=W.div`
  display: flex;
  align-items: center;
  margin-bottom: 20px;
  column-gap: 10px;
`,MF=W.div`
  width: 50%;
  text-align: center;
`,DF=W.img`
  border-radius: 10px;
`,OF=W.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
`,NF=W.p``,_w=W.p``,VF=W.p`
  margin-bottom: 20px;
`,UF=W.img`
  border-radius: 20px;
  width: 40px;
  height: 40px;
`,FF=W.div`
  height: 80%;
  overflow-y: scroll;
`,jF=W.div``,BF=W.img`
  width: 30px;
  height: 30px;
  border-radius: 20px;
`,zF=W.p``,$F=W.p``,WF=W.div`
  margin-top: auto;
  display: flex;
  padding: 0 5px;
`,HF=W.input`
  margin-top: auto;
  padding: 10px 5px;
  flex-grow: 1;
`,qF=W.button``,GF=W.p`
  font-size: 24px;
  text-align: center;
  margin: 40px 0;
`;function KF({state:t,handlerSeat:e,handlerComment:n,dispatch:r}){return P.jsxs(AF,{rowSelect:t.isSelectRow,children:[P.jsx(xF,{children:Array.from({length:t.rowSeats[t.row]}).map((i,s)=>P.jsx(RF,{selected:t.seat===s,onClick:()=>{e(s)},children:s+1},s))}),P.jsx(PF,{children:" 視角分享"}),t.viewPosts&&t.viewPosts.length!==0?t.viewPosts.map((i,s)=>P.jsxs(bF,{children:[P.jsx(MF,{children:P.jsx(DF,{src:i.image})}),P.jsxs(OF,{children:[P.jsxs(yw,{children:[P.jsx(UF,{src:vw}),P.jsx(NF,{children:i.userName})]}),P.jsx(_w,{children:i.concert}),P.jsx(_w,{children:i.note}),P.jsx(VF,{children:i.content}),P.jsx(FF,{children:i.comment&&i.comment.map((o,a)=>P.jsxs(jF,{children:[P.jsxs(yw,{children:[P.jsx(BF,{src:vw}),P.jsx(zF,{children:o.userName})]}),P.jsx($F,{children:o.content})]},a))}),P.jsxs(WF,{children:[P.jsx(HF,{type:"text",placeholder:"留言...",value:t.comment[i.id],onChange:o=>r({type:"setComment",payload:{id:i.id,commentText:o.target.value}})}),P.jsx(qF,{onClick:()=>n(i.id),children:"送出"})]})]})]},s)):P.jsx(GF,{children:"暫時沒有視角"})]})}const QF=()=>{const[t,e]=p.useState(""),[n,r]=p.useState("");return{labels:t,error:n,handleAnalyzeImage:async s=>{const a="https://vision.googleapis.com/v1/images:annotate?key=AIzaSyAi4nS5Hhy7zfL_hwGg68brN-T8FOeRlrU",u={requests:[{image:{source:{imageUri:s}},features:[{maxResults:50,type:"OBJECT_LOCALIZATION"}]}]};try{const c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!c.ok)throw new Error("Network response was not ok");const f=(await c.json()).responses[0].localizedObjectAnnotations;e(f?f.map(m=>m.name).toString():"noObject")}catch(c){r("Failed to analyze image"),console.error(c)}}}},YF="/assets/loading-CZ845MQa.gif",ZF=W.div`
  position: fixed;
  width: 50%;
  background: #ffffff;
  z-index: 5;
  padding: 20px 30px;
  display: ${t=>t.show?"block":"none"};
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 15px;
  box-shadow: 3px 3px 3px #6c6c6c;
`,XF=W.div`
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
`,JF=W.div`
  display: flex;
  align-items: center;
`,e4=W.h3``,so=W.p``,ww=W.input`
  border: 1px solid #949494;
  border-radius: 5px;
`,Af=W.select`
  flex-grow: 1;
  padding: 8px;
  border: 1px solid #949494;
  border-radius: 5px;
`,t4=W.textarea`
  grid-column: span 2;
  border: 1px solid #949494;
  border-radius: 5px;
`,n4=W.div`
  display: flex;
  align-items: center;
`,r4=W.button`
  display: flex;
  align-items: center;
  column-gap: 5px;
  padding: 5px;
`,i4=W.button`
  margin-left: auto;
`,s4=W.label`
  text-align: center;
`,o4=W.input`
  visibility: hidden;
  width: 0;
`,a4=W.img`
  width: 250px;
`,l4=W.img`
  width: 30px;
`;function u4({state:t,dispatch:e,sendImage:n}){const{labels:r,handleAnalyzeImage:i}=QF(),{register:s,handleSubmit:o,reset:a,watch:u,getValues:c,formState:{errors:h}}=Sv(),f=u("section"),m=parseInt(u("row")),v=t.allSeats.filter(_=>_.sectionName===f),k=v.length>0&&Array.isArray(v[0].row)?v[0].row:[],C=k[m-1],x=async()=>{let _;e({type:"setLoading"}),t.selectPhoto&&(console.log(t.selectPhoto),_=await Ft.uploadImage(t.selectPhoto),await i(_),e({type:"setUploadPhotoUrl",payload:{uploadPhotoUrl:_}}),console.log(r))};p.useEffect(()=>{let _=!1;return _||(async()=>{const O=c();if(r.includes("Person")){alert("請確認圖片不包含人物"),e({type:"setLoading"});return}else{if(r==="")return;if(O){console.log(O);const N=await Ft.getLoginState();await Ft.setViewPost(O,t.uploadPhotoUrl,N)}e({type:"setLoading"}),a({section:"",row:"",seat:"",concert:"",note:"",content:"",image:void 0}),e({type:"togglePostClick"}),e({type:"setSelectPhoto",payload:{selectPhoto:null,localPhotoUrl:""}}),alert("發布成功"),document.body.style.overflow="scroll"}})(),()=>{_=!0}},[r]);const S=()=>{a({section:"",row:"",seat:"",concert:"",note:"",content:""}),e({type:"togglePostClick"}),document.body.style.overflow="scroll"};return P.jsxs(ZF,{show:t.isPostClick,children:[P.jsx(e4,{children:"發佈視角"}),P.jsxs(XF,{children:[P.jsx(so,{children:"位置"}),P.jsxs(JF,{children:[P.jsxs(Af,{...s("section",{required:!0}),children:[P.jsx("option",{value:"",children:"Select section"}),P.jsx("option",{value:"2A",children:"2A"}),P.jsx("option",{value:"2B",children:"2B"}),P.jsx("option",{value:"2C",children:"2C"}),P.jsx("option",{value:"2D",children:"2D"}),P.jsx("option",{value:"2E",children:"2E"}),P.jsx("option",{value:"2F",children:"2F"}),P.jsx("option",{value:"2G",children:"2G"}),P.jsx("option",{value:"3A",children:"3A"}),P.jsx("option",{value:"3B",children:"3B"}),P.jsx("option",{value:"3C",children:"3C"}),P.jsx("option",{value:"3D",children:"3D"}),P.jsx("option",{value:"3E",children:"3E"}),P.jsx("option",{value:"3F",children:"3F"}),P.jsx("option",{value:"3G",children:"3G"})]}),P.jsx(so,{children:"區"}),P.jsxs(Af,{...s("row",{required:!0}),children:[P.jsx("option",{value:"",children:"Select section"}),k.map((_,E)=>P.jsx("option",{value:E+1,children:E+1}))]}),P.jsx(so,{children:"排"}),P.jsxs(Af,{...s("seat",{required:!0}),children:[P.jsx("option",{value:"",children:"Select section"}),Array.from({length:C}).map((_,E)=>P.jsx("option",{value:E+1,children:E+1}))]}),P.jsx(so,{children:"號"})]}),P.jsx(so,{children:"觀看場次"}),P.jsx(ww,{type:"text",defaultValue:"",...s("concert",{required:!0})}),P.jsx(so,{children:"備註"}),P.jsx(ww,{type:"text",defaultValue:"",...s("note")}),P.jsx(t4,{defaultValue:"",...s("content")})]}),t.selectPhoto&&P.jsx(a4,{src:t.localPhotoUrl}),P.jsxs(n4,{children:[P.jsxs(s4,{children:["選擇照片",P.jsx(o4,{type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif",...s("image",{required:"請選擇照片"}),onChange:n})]}),h.image&&P.jsx("p",{children:h.image.message}),P.jsx(i4,{onClick:()=>S(),children:"取消"}),P.jsxs(r4,{onClick:o(x),children:["送出",t.isLoading&&P.jsx(l4,{src:YF})]})]})]})}const c4=W.div``,h4=W.div`
  display: ${t=>t.postClick?"block":"none"};
  background: #3e3e3e99;
  width: 100%;
  height: auto;
  position: fixed;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  z-index: 1;
`,d4=W.div`
  text-align: center;
  padding: 200px 0;
`,f4=W.h2`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 1rem;
`,p4=W.h3`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 5px;
`,g4=W.ul`
  background: #f8f8f8;
  display: flex;
  justify-content: space-around;
  padding: 0 20px;
  margin-bottom: 42px;
`,Ew=W.li``,Sw=W(Xh)`
  display: inline-block;
  font-weight: 600;
  font-size: 24px;
  letter-spacing: 4px;
  color: #000;
  padding: 10px;
`,m4=W.main`
  display: grid;
  grid-template-columns: 55% 1fr;
`,v4=W.button`
  grid-column: span 2;
  display: block;
  margin: 0 auto 32px;
  font-size: 24px;
  font-weight: 600;
  padding: 12px 24px;
`,y4={allSeats:[],rowSeats:[],section:"0",row:0,seat:0,isSelectRow:!1,isSelectSection:!1,viewPosts:[],viewComments:[],isPostClick:!1,selectPhoto:null,localPhotoUrl:"",uploadPhotoUrl:"",comment:{},isLoading:!1},_4=(t,e)=>{switch(e.type){case"getAllSeats":return{...t,allSeats:e.payload.allSeats};case"selectSection":return{...t,section:e.payload.section,rowSeats:e.payload.rowSeats,isSelectRow:e.payload.isSelectRow,isSelectSection:!0};case"selectRow":return{...t,row:e.payload.row,isSelectRow:e.payload.isSelectRow};case"selectSeat":return{...t,seat:e.payload.seat};case"setViewPosts":return{...t,viewPosts:e.payload.viewPosts};case"setViewComments":{const n=JSON.parse(JSON.stringify(t.viewPosts));console.log(t.viewPosts);const r=n.map((i,s)=>i.id===e.payload.id?{...i,comment:e.payload.viewComments}:t.viewPosts[s]);return{...t,viewPosts:r}}case"isSelectSection":return{...t,isSelectSection:!0};case"togglePostClick":return{...t,isPostClick:!t.isPostClick};case"setSelectPhoto":return{...t,selectPhoto:e.payload.selectPhoto,localPhotoUrl:e.payload.localPhotoUrl};case"setUploadPhotoUrl":return{...t,uploadPhotoUrl:e.payload.uploadPhotoUrl};case"setComment":return{...t,comment:{...t.comment,[e.payload.id]:e.payload.commentText}};case"setLoading":return{...t,isLoading:!t.isLoading};default:return t}};function w4(){const[t,e]=p.useReducer(_4,y4);p.useEffect(()=>{(async()=>{const a=[],u=[],c=[],h=Ft.getViewPosts(t.section,t.row+1,t.seat+1,f=>{console.log(f),c.push(...f),console.log(c),(async()=>{const v=c.map(async C=>C.userUID?await Ft.getUser(C.userUID):null);return await Promise.all(v)})().then(v=>{c.forEach((k,C)=>{k.userName=v[C]})}),console.log(c),e({type:"setViewPosts",payload:{viewPosts:c}}),f.forEach(async v=>{const k=Ft.getViewComments(v.id,C=>{console.log(C),e({type:"setViewComments",payload:{viewComments:C,id:v.id}})});u.push(await k)})});return a.push(await h),()=>{a.forEach(f=>f()),u.forEach(f=>f())}})()},[t.section,t.row,t.seat]),p.useEffect(()=>{const o=async()=>{const a=await Ft.getSections();e({type:"getAllSeats",payload:{allSeats:a}})};return o(),()=>{o()}},[]);const n=async o=>{const a=await Ft.getRows(o),u=Array.isArray(a)?a:[];e({type:"selectSection",payload:{rowSeats:u,section:o,isSelectRow:!1}})},r=async o=>{e({type:"selectSeat",payload:{seat:o}})},i=async o=>{const a=await Ft.getLoginState(),u=await Ft.getUser(a);await Ft.setComment(o,t.comment[o],a,u),e({type:"setComment",payload:{id:o,commentText:""}})},s=o=>{const a=o.target;a.files&&a.files.length>0&&e({type:"setSelectPhoto",payload:{selectPhoto:a.files[0],localPhotoUrl:URL.createObjectURL(a.files[0])}})};return P.jsxs(c4,{children:[P.jsx(h4,{postClick:t.isPostClick}),P.jsxs(d4,{children:[P.jsx(f4,{children:"臺北流行音樂中心"}),P.jsx(p4,{children:"TAIPEI MUSIC CENTER"})]}),P.jsxs(g4,{children:[P.jsx(Ew,{children:P.jsx(Sw,{to:"/view",children:"視角分享"})}),P.jsx(Ew,{children:P.jsx(Sw,{to:"/transportation-driving",children:"交通資訊"})})]}),P.jsxs(m4,{children:[P.jsx(v4,{onClick:()=>{e({type:"togglePostClick"}),document.body.style.overflow="hidden"},children:"發佈視角"}),P.jsx(u4,{state:t,dispatch:e,sendImage:s}),P.jsx(IF,{handlerSection:n}),P.jsx(LF,{state:t,dispatch:e}),P.jsx(KF,{state:t,handlerSeat:r,handlerComment:i,dispatch:e})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ug=function(t,e){return ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ug(t,e)};function Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ug(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var he=function(){return he=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},he.apply(this,arguments)};function Iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function E4(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,[])).next())})}function S4(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ok(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I4=function(t,e,n,r,i,s,o,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},C4=I4,_t=ok(C4),Te=p.createContext(null);function T4(){_t(!!p.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=p.useContext(Te);return _t(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function k4(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function L4(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function A4(t,e,n,r){var i={},s=function(o,a){var u=n[a];u!==e[a]&&(i[a]=u,o(r,u))};return L4(t,s),i}function x4(t,e,n){var r=k4(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[]);return r}function P4(t){google.maps.event.removeListener(t)}function xe(t){t===void 0&&(t=[]),t.forEach(P4)}function Ae(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,i=t.nextProps,s=t.instance,o=x4(i,s,n);return A4(e,r,i,s),o}var Iw={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Cw={extraMapTypes:function(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function R4(t){var e=t.children,n=t.options,r=t.id,i=t.mapContainerStyle,s=t.mapContainerClassName,o=t.center,a=t.onClick,u=t.onDblClick,c=t.onDrag,h=t.onDragEnd,f=t.onDragStart,m=t.onMouseMove,v=t.onMouseOut,k=t.onMouseOver,C=t.onMouseDown,x=t.onMouseUp,S=t.onRightClick,_=t.onCenterChanged,E=t.onLoad,O=t.onUnmount,N=p.useState(null),b=N[0],w=N[1],y=p.useRef(null),L=p.useState(null),I=L[0],M=L[1],R=p.useState(null),A=R[0],te=R[1],re=p.useState(null),ce=re[0],X=re[1],$=p.useState(null),Y=$[0],J=$[1],ne=p.useState(null),se=ne[0],de=ne[1],ge=p.useState(null),Ie=ge[0],B=ge[1],_e=p.useState(null),Re=_e[0],le=_e[1],Me=p.useState(null),De=Me[0],ke=Me[1],Be=p.useState(null),He=Be[0],$e=Be[1],Ge=p.useState(null),Xe=Ge[0],D=Ge[1],V=p.useState(null),U=V[0],Z=V[1],z=p.useState(null),G=z[0],H=z[1];return p.useEffect(function(){n&&b!==null&&b.setOptions(n)},[b,n]),p.useEffect(function(){b!==null&&typeof o<"u"&&b.setCenter(o)},[b,o]),p.useEffect(function(){b&&u&&(A!==null&&google.maps.event.removeListener(A),te(google.maps.event.addListener(b,"dblclick",u)))},[u]),p.useEffect(function(){b&&h&&(ce!==null&&google.maps.event.removeListener(ce),X(google.maps.event.addListener(b,"dragend",h)))},[h]),p.useEffect(function(){b&&f&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(b,"dragstart",f)))},[f]),p.useEffect(function(){b&&C&&(se!==null&&google.maps.event.removeListener(se),de(google.maps.event.addListener(b,"mousedown",C)))},[C]),p.useEffect(function(){b&&m&&(Ie!==null&&google.maps.event.removeListener(Ie),B(google.maps.event.addListener(b,"mousemove",m)))},[m]),p.useEffect(function(){b&&v&&(Re!==null&&google.maps.event.removeListener(Re),le(google.maps.event.addListener(b,"mouseout",v)))},[v]),p.useEffect(function(){b&&k&&(De!==null&&google.maps.event.removeListener(De),ke(google.maps.event.addListener(b,"mouseover",k)))},[k]),p.useEffect(function(){b&&x&&(He!==null&&google.maps.event.removeListener(He),$e(google.maps.event.addListener(b,"mouseup",x)))},[x]),p.useEffect(function(){b&&S&&(Xe!==null&&google.maps.event.removeListener(Xe),D(google.maps.event.addListener(b,"rightclick",S)))},[S]),p.useEffect(function(){b&&a&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(b,"click",a)))},[a]),p.useEffect(function(){b&&c&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(b,"drag",c)))},[c]),p.useEffect(function(){b&&_&&(I!==null&&google.maps.event.removeListener(I),M(google.maps.event.addListener(b,"center_changed",_)))},[a]),p.useEffect(function(){var ye=y.current===null?null:new google.maps.Map(y.current,n);return w(ye),ye!==null&&E&&E(ye),function(){ye!==null&&O&&O(ye)}},[]),P.jsx("div",{id:r,ref:y,style:i,className:s,children:P.jsx(Te.Provider,{value:b,children:b!==null?e:null})})}p.memo(R4);var b4=function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var i=n.getInstance();i&&i.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=Ae({updaterMap:Cw,eventMap:Iw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Cw,eventMap:Iw,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),xe(this.registeredEvents))},e.prototype.render=function(){return P.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:P.jsx(Te.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(p.PureComponent),ws=typeof document<"u";function ak(t){var e=t.url,n=t.id,r=t.nonce;return ws?new Promise(function(s,o){var a=document.getElementById(n),u=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return s(n);var h=u.initMap,f=a.onerror;u.initMap=function(){h&&h(),s(n)},a.onerror=function(v){f&&f(v),o(v)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(k){m.setAttribute("data-state","error"),o(k)},u.initMap=function(){m.setAttribute("data-state","ready"),s(n)},document.head.appendChild(m)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Tw(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function lk(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return Tw(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return Tw(i)||Reflect.apply(n,t,[i]),i}}}function uk(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,i=r===void 0?"weekly":r,s=t.language,o=t.region,a=t.libraries,u=t.channel,c=t.mapIds,h=t.authReferrerPolicy,f=[];return _t(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),s&&f.push("language=".concat(s)),o&&f.push("region=".concat(o)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),u&&f.push("channel=".concat(u)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var Fa=!1;function ck(){return P.jsx("div",{children:"Loading..."})}var cg={id:"script-loader",version:"weekly"};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=p.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return E4(n,void 0,void 0,function(){function r(i){if(!Fa)i();else if(ws)var s=window.setInterval(function(){Fa||(window.clearInterval(s),i())},1)}return S4(this,function(i){return[2,new Promise(r)]})})},n.cleanup=function(){Fa=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&lk(),_t(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:uk(n.props)};ak(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(i){n.props.onError&&n.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(ws){if(window.google&&window.google.maps&&!Fa){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ws&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(ws){this.cleanup();var r=function(){n.check.current||(delete window.google,Fa=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return P.jsxs(P.Fragment,{children:[P.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||P.jsx(ck,{})]})},e.defaultProps=cg,e})(p.PureComponent);var kw;function hk(t){var e=t.id,n=e===void 0?cg.id:e,r=t.version,i=r===void 0?cg.version:r,s=t.nonce,o=t.googleMapsApiKey,a=t.googleMapsClientId,u=t.language,c=t.region,h=t.libraries,f=t.preventGoogleFontsLoading,m=t.channel,v=t.mapIds,k=t.authReferrerPolicy,C=p.useRef(!1),x=p.useState(!1),S=x[0],_=x[1],E=p.useState(void 0),O=E[0],N=E[1];p.useEffect(function(){return C.current=!0,function(){C.current=!1}},[]),p.useEffect(function(){ws&&f&&lk()},[f]),p.useEffect(function(){S&&_t(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[S]);var b=uk({version:i,googleMapsApiKey:o,googleMapsClientId:a,language:u,region:c,libraries:h,channel:m,mapIds:v,authReferrerPolicy:k});p.useEffect(function(){if(!ws)return;function L(){C.current&&(_(!0),kw=b)}if(window.google&&window.google.maps&&kw===b){L();return}ak({id:n,url:b,nonce:s}).then(L).catch(function(M){C.current&&N(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[n,b,s]);var w=p.useRef();return p.useEffect(function(){w.current&&h!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=h},[h]),{isLoaded:S,loadError:O,url:b}}var M4=P.jsx(ck,{});function D4(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,i=t.onUnmount,s=t.children,o=Iv(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=hk(o),u=a.isLoaded,c=a.loadError;return p.useEffect(function(){u&&typeof n=="function"&&n()},[u,n]),p.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),p.useEffect(function(){return function(){i&&i()}},[i]),u?s:e||M4}p.memo(D4);var Lw;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Lw||(Lw={}));var Aw={},xw={options:function(t,e){t.setOptions(e)}};function O4(t){var e=t.options,n=t.onLoad,r=t.onUnmount,i=p.useContext(Te),s=p.useState(null),o=s[0],a=s[1];return p.useEffect(function(){o!==null&&o.setMap(i)},[i]),p.useEffect(function(){e&&o!==null&&o.setOptions(e)},[o,e]),p.useEffect(function(){var u=new google.maps.TrafficLayer(he(he({},e||{}),{map:i}));return a(u),n&&n(u),function(){o!==null&&(r&&r(o),o.setMap(null))}},[]),null}p.memo(O4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:xw,eventMap:Aw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:xw,eventMap:Aw,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),xe(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);function N4(t){var e=t.onLoad,n=t.onUnmount,r=p.useContext(Te),i=p.useState(null),s=i[0],o=i[1];return p.useEffect(function(){s!==null&&s.setMap(r)},[r]),p.useEffect(function(){var a=new google.maps.BicyclingLayer;return o(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}p.memo(N4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);function V4(t){var e=t.onLoad,n=t.onUnmount,r=p.useContext(Te),i=p.useState(null),s=i[0],o=i[1];return p.useEffect(function(){s!==null&&s.setMap(r)},[r]),p.useEffect(function(){var a=new google.maps.TransitLayer;return o(a),a.setMap(r),e&&e(a),function(){s!==null&&(n&&n(s),s.setMap(null))}},[]),null}p.memo(V4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var Pw={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Rw={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function U4(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,i=t.onMarkerComplete,s=t.onOverlayComplete,o=t.onPolygonComplete,a=t.onPolylineComplete,u=t.onRectangleComplete,c=t.onLoad,h=t.onUnmount,f=p.useContext(Te),m=p.useState(null),v=m[0],k=m[1],C=p.useState(null),x=C[0],S=C[1],_=p.useState(null),E=_[0],O=_[1],N=p.useState(null),b=N[0],w=N[1],y=p.useState(null),L=y[0],I=y[1],M=p.useState(null),R=M[0],A=M[1],te=p.useState(null),re=te[0],ce=te[1];return p.useEffect(function(){v!==null&&v.setMap(f)},[f]),p.useEffect(function(){e&&v!==null&&v.setOptions(e)},[v,e]),p.useEffect(function(){v!==null&&v.setDrawingMode(n??null)},[v,n]),p.useEffect(function(){v&&r&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(v,"circlecomplete",r)))},[v,r]),p.useEffect(function(){v&&i&&(E!==null&&google.maps.event.removeListener(E),O(google.maps.event.addListener(v,"markercomplete",i)))},[v,i]),p.useEffect(function(){v&&s&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(v,"overlaycomplete",s)))},[v,s]),p.useEffect(function(){v&&o&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(v,"polygoncomplete",o)))},[v,o]),p.useEffect(function(){v&&a&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(v,"polylinecomplete",a)))},[v,a]),p.useEffect(function(){v&&u&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(v,"rectanglecomplete",u)))},[v,u]),p.useEffect(function(){_t(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var X=new google.maps.drawing.DrawingManager(he(he({},e||{}),{map:f}));return n&&X.setDrawingMode(n),r&&S(google.maps.event.addListener(X,"circlecomplete",r)),i&&O(google.maps.event.addListener(X,"markercomplete",i)),s&&w(google.maps.event.addListener(X,"overlaycomplete",s)),o&&I(google.maps.event.addListener(X,"polygoncomplete",o)),a&&A(google.maps.event.addListener(X,"polylinecomplete",a)),u&&ce(google.maps.event.addListener(X,"rectanglecomplete",u)),k(X),c&&c(X),function(){v!==null&&(x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),b&&google.maps.event.removeListener(b),L&&google.maps.event.removeListener(L),R&&google.maps.event.removeListener(R),re&&google.maps.event.removeListener(re),h&&h(v),v.setMap(null))}},[]),null}p.memo(U4);(function(t){Ye(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},_t(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Rw,eventMap:Pw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Rw,eventMap:Pw,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),xe(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var bw={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Mw={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},Mh={};function F4(t){var e=t.position,n=t.options,r=t.clusterer,i=t.noClustererRedraw,s=t.children,o=t.draggable,a=t.visible,u=t.animation,c=t.clickable,h=t.cursor,f=t.icon,m=t.label,v=t.opacity,k=t.shape,C=t.title,x=t.zIndex,S=t.onClick,_=t.onDblClick,E=t.onDrag,O=t.onDragEnd,N=t.onDragStart,b=t.onMouseOut,w=t.onMouseOver,y=t.onMouseUp,L=t.onMouseDown,I=t.onRightClick,M=t.onClickableChanged,R=t.onCursorChanged,A=t.onAnimationChanged,te=t.onDraggableChanged,re=t.onFlatChanged,ce=t.onIconChanged,X=t.onPositionChanged,$=t.onShapeChanged,Y=t.onTitleChanged,J=t.onVisibleChanged,ne=t.onZindexChanged,se=t.onLoad,de=t.onUnmount,ge=p.useContext(Te),Ie=p.useState(null),B=Ie[0],_e=Ie[1],Re=p.useState(null),le=Re[0],Me=Re[1],De=p.useState(null),ke=De[0],Be=De[1],He=p.useState(null),$e=He[0],Ge=He[1],Xe=p.useState(null),D=Xe[0],V=Xe[1],U=p.useState(null),Z=U[0],z=U[1],G=p.useState(null),H=G[0],ye=G[1],Ce=p.useState(null),we=Ce[0],Pt=Ce[1],ze=p.useState(null),Fn=ze[0],Yr=ze[1],ir=p.useState(null),sr=ir[0],Xi=ir[1],Ir=p.useState(null),vu=Ir[0],yu=Ir[1],Hs=p.useState(null),Ji=Hs[0],da=Hs[1],Zr=p.useState(null),Xr=Zr[0],qs=Zr[1],or=p.useState(null),es=or[0],ts=or[1],fa=p.useState(null),ar=fa[0],pa=fa[1],Rt=p.useState(null),ns=Rt[0],Jr=Rt[1],ei=p.useState(null),Gs=ei[0],_u=ei[1],Cr=p.useState(null),Ks=Cr[0],wu=Cr[1],rs=p.useState(null),ga=rs[0],Qs=rs[1],is=p.useState(null),mn=is[0],ma=is[1],va=p.useState(null),ti=va[0],Ys=va[1],ya=p.useState(null),ss=ya[0],Eu=ya[1];p.useEffect(function(){B!==null&&B.setMap(ge)},[ge]),p.useEffect(function(){typeof n<"u"&&B!==null&&B.setOptions(n)},[B,n]),p.useEffect(function(){typeof o<"u"&&B!==null&&B.setDraggable(o)},[B,o]),p.useEffect(function(){e&&B!==null&&B.setPosition(e)},[B,e]),p.useEffect(function(){typeof a<"u"&&B!==null&&B.setVisible(a)},[B,a]),p.useEffect(function(){B==null||B.setAnimation(u)},[B,u]),p.useEffect(function(){B&&c!==void 0&&B.setClickable(c)},[B,c]),p.useEffect(function(){B&&h!==void 0&&B.setCursor(h)},[B,h]),p.useEffect(function(){B&&f!==void 0&&B.setIcon(f)},[B,f]),p.useEffect(function(){B&&m!==void 0&&B.setLabel(m)},[B,m]),p.useEffect(function(){B&&v!==void 0&&B.setOpacity(v)},[B,v]),p.useEffect(function(){B&&k!==void 0&&B.setShape(k)},[B,k]),p.useEffect(function(){B&&C!==void 0&&B.setTitle(C)},[B,C]),p.useEffect(function(){B&&x!==void 0&&B.setZIndex(x)},[B,x]),p.useEffect(function(){B&&_&&(le!==null&&google.maps.event.removeListener(le),Me(google.maps.event.addListener(B,"dblclick",_)))},[_]),p.useEffect(function(){B&&O&&(ke!==null&&google.maps.event.removeListener(ke),Be(google.maps.event.addListener(B,"dragend",O)))},[O]),p.useEffect(function(){B&&N&&($e!==null&&google.maps.event.removeListener($e),Ge(google.maps.event.addListener(B,"dragstart",N)))},[N]),p.useEffect(function(){B&&L&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(B,"mousedown",L)))},[L]),p.useEffect(function(){B&&b&&(Z!==null&&google.maps.event.removeListener(Z),z(google.maps.event.addListener(B,"mouseout",b)))},[b]),p.useEffect(function(){B&&w&&(H!==null&&google.maps.event.removeListener(H),ye(google.maps.event.addListener(B,"mouseover",w)))},[w]),p.useEffect(function(){B&&y&&(we!==null&&google.maps.event.removeListener(we),Pt(google.maps.event.addListener(B,"mouseup",y)))},[y]),p.useEffect(function(){B&&I&&(Fn!==null&&google.maps.event.removeListener(Fn),Yr(google.maps.event.addListener(B,"rightclick",I)))},[I]),p.useEffect(function(){B&&S&&(sr!==null&&google.maps.event.removeListener(sr),Xi(google.maps.event.addListener(B,"click",S)))},[S]),p.useEffect(function(){B&&E&&(vu!==null&&google.maps.event.removeListener(vu),yu(google.maps.event.addListener(B,"drag",E)))},[E]),p.useEffect(function(){B&&M&&(Ji!==null&&google.maps.event.removeListener(Ji),da(google.maps.event.addListener(B,"clickable_changed",M)))},[M]),p.useEffect(function(){B&&R&&(Xr!==null&&google.maps.event.removeListener(Xr),qs(google.maps.event.addListener(B,"cursor_changed",R)))},[R]),p.useEffect(function(){B&&A&&(es!==null&&google.maps.event.removeListener(es),ts(google.maps.event.addListener(B,"animation_changed",A)))},[A]),p.useEffect(function(){B&&te&&(ar!==null&&google.maps.event.removeListener(ar),pa(google.maps.event.addListener(B,"draggable_changed",te)))},[te]),p.useEffect(function(){B&&re&&(ns!==null&&google.maps.event.removeListener(ns),Jr(google.maps.event.addListener(B,"flat_changed",re)))},[re]),p.useEffect(function(){B&&ce&&(Gs!==null&&google.maps.event.removeListener(Gs),_u(google.maps.event.addListener(B,"icon_changed",ce)))},[ce]),p.useEffect(function(){B&&X&&(Ks!==null&&google.maps.event.removeListener(Ks),wu(google.maps.event.addListener(B,"position_changed",X)))},[X]),p.useEffect(function(){B&&$&&(ga!==null&&google.maps.event.removeListener(ga),Qs(google.maps.event.addListener(B,"shape_changed",$)))},[$]),p.useEffect(function(){B&&Y&&(mn!==null&&google.maps.event.removeListener(mn),ma(google.maps.event.addListener(B,"title_changed",Y)))},[Y]),p.useEffect(function(){B&&J&&(ti!==null&&google.maps.event.removeListener(ti),Ys(google.maps.event.addListener(B,"visible_changed",J)))},[J]),p.useEffect(function(){B&&ne&&(ss!==null&&google.maps.event.removeListener(ss),Eu(google.maps.event.addListener(B,"zindex_changed",ne)))},[ne]),p.useEffect(function(){var ni=he(he(he({},n||Mh),r?Mh:{map:ge}),{position:e}),me=new google.maps.Marker(ni);return r?r.addMarker(me,!!i):me.setMap(ge),e&&me.setPosition(e),typeof a<"u"&&me.setVisible(a),typeof o<"u"&&me.setDraggable(o),typeof c<"u"&&me.setClickable(c),typeof h=="string"&&me.setCursor(h),f&&me.setIcon(f),typeof m<"u"&&me.setLabel(m),typeof v<"u"&&me.setOpacity(v),k&&me.setShape(k),typeof C=="string"&&me.setTitle(C),typeof x=="number"&&me.setZIndex(x),_&&Me(google.maps.event.addListener(me,"dblclick",_)),O&&Be(google.maps.event.addListener(me,"dragend",O)),N&&Ge(google.maps.event.addListener(me,"dragstart",N)),L&&V(google.maps.event.addListener(me,"mousedown",L)),b&&z(google.maps.event.addListener(me,"mouseout",b)),w&&ye(google.maps.event.addListener(me,"mouseover",w)),y&&Pt(google.maps.event.addListener(me,"mouseup",y)),I&&Yr(google.maps.event.addListener(me,"rightclick",I)),S&&Xi(google.maps.event.addListener(me,"click",S)),E&&yu(google.maps.event.addListener(me,"drag",E)),M&&da(google.maps.event.addListener(me,"clickable_changed",M)),R&&qs(google.maps.event.addListener(me,"cursor_changed",R)),A&&ts(google.maps.event.addListener(me,"animation_changed",A)),te&&pa(google.maps.event.addListener(me,"draggable_changed",te)),re&&Jr(google.maps.event.addListener(me,"flat_changed",re)),ce&&_u(google.maps.event.addListener(me,"icon_changed",ce)),X&&wu(google.maps.event.addListener(me,"position_changed",X)),$&&Qs(google.maps.event.addListener(me,"shape_changed",$)),Y&&ma(google.maps.event.addListener(me,"title_changed",Y)),J&&Ys(google.maps.event.addListener(me,"visible_changed",J)),ne&&Eu(google.maps.event.addListener(me,"zindex_changed",ne)),_e(me),se&&se(me),function(){le!==null&&google.maps.event.removeListener(le),ke!==null&&google.maps.event.removeListener(ke),$e!==null&&google.maps.event.removeListener($e),D!==null&&google.maps.event.removeListener(D),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),we!==null&&google.maps.event.removeListener(we),Fn!==null&&google.maps.event.removeListener(Fn),sr!==null&&google.maps.event.removeListener(sr),Ji!==null&&google.maps.event.removeListener(Ji),Xr!==null&&google.maps.event.removeListener(Xr),es!==null&&google.maps.event.removeListener(es),ar!==null&&google.maps.event.removeListener(ar),ns!==null&&google.maps.event.removeListener(ns),Gs!==null&&google.maps.event.removeListener(Gs),Ks!==null&&google.maps.event.removeListener(Ks),mn!==null&&google.maps.event.removeListener(mn),ti!==null&&google.maps.event.removeListener(ti),ss!==null&&google.maps.event.removeListener(ss),de&&de(me),r?r.removeMarker(me,!!i):me&&me.setMap(null)}},[]);var Zs=p.useMemo(function(){return s?p.Children.map(s,function(ni){if(!p.isValidElement(ni))return ni;var me=ni;return p.cloneElement(me,{anchor:B})}):null},[s,B]);return P.jsx(P.Fragment,{children:Zs})||null}var j4=p.memo(F4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=he(he(he({},this.props.options||Mh),this.props.clusterer?Mh:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Ae({updaterMap:Mw,eventMap:bw,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Mw,eventMap:bw,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),xe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=p.Children.map(this.props.children,function(i){if(!p.isValidElement(i))return i;var s=i;return p.cloneElement(s,{anchor:n.marker})})),r||null},e.contextType=Te,e})(p.PureComponent);var B4=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),c=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(c+this.width,"px, -").concat(h+this.height,", -").concat(c,")"));var v=document.createElement("div");v.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(v.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(v.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(v),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),z4=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new B4(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var u=0,c=this.markers;u<c.length;u++){var h=c[u];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function $4(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var W4=2e3,H4=500,q4="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",G4="png",K4=[53,56,66,78,90],Q4="cluster",dk=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||q4,this.imageExtension=r.imageExtension||G4,this.imageSizes=r.imageSizes||K4,this.calculator=r.calculator||$4,this.batchSize=r.batchSize||W4,this.batchSizeIE=r.batchSizeIE||H4,this.clusterClass=r.clusterClass||Q4,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var c=u[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];n=a;var u=n.getCenter(),c=e.getPosition();if(u&&c){var h=this.distanceBetweenPoints(u,c);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new z4(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),c=e;c<u;c++){var h=this.markers[c];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,m=this.clusters;f<m.length;f++){var v=m[f];v.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}(),xn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Fe={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},Y4={};function Z4(t){var e=t.children,n=t.options,r=t.averageCenter,i=t.batchSizeIE,s=t.calculator,o=t.clusterClass,a=t.enableRetinaIcons,u=t.gridSize,c=t.ignoreHidden,h=t.imageExtension,f=t.imagePath,m=t.imageSizes,v=t.maxZoom,k=t.minimumClusterSize,C=t.styles,x=t.title,S=t.zoomOnClick,_=t.onClick,E=t.onClusteringBegin,O=t.onClusteringEnd,N=t.onMouseOver,b=t.onMouseOut,w=t.onLoad,y=t.onUnmount,L=p.useState(null),I=L[0],M=L[1],R=p.useContext(Te),A=p.useState(null),te=A[0],re=A[1],ce=p.useState(null),X=ce[0],$=ce[1],Y=p.useState(null),J=Y[0],ne=Y[1],se=p.useState(null),de=se[0],ge=se[1],Ie=p.useState(null),B=Ie[0],_e=Ie[1];return p.useEffect(function(){I&&b&&(de!==null&&google.maps.event.removeListener(de),ge(google.maps.event.addListener(I,xn.onMouseOut,b)))},[b]),p.useEffect(function(){I&&N&&(B!==null&&google.maps.event.removeListener(B),_e(google.maps.event.addListener(I,xn.onMouseOver,N)))},[N]),p.useEffect(function(){I&&_&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(I,xn.onClick,_)))},[_]),p.useEffect(function(){I&&E&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(I,xn.onClusteringBegin,E)))},[E]),p.useEffect(function(){I&&O&&(J!==null&&google.maps.event.removeListener(J),$(google.maps.event.addListener(I,xn.onClusteringEnd,O)))},[O]),p.useEffect(function(){typeof r<"u"&&I!==null&&Fe.averageCenter(I,r)},[I,r]),p.useEffect(function(){typeof i<"u"&&I!==null&&Fe.batchSizeIE(I,i)},[I,i]),p.useEffect(function(){typeof s<"u"&&I!==null&&Fe.calculator(I,s)},[I,s]),p.useEffect(function(){typeof o<"u"&&I!==null&&Fe.clusterClass(I,o)},[I,o]),p.useEffect(function(){typeof a<"u"&&I!==null&&Fe.enableRetinaIcons(I,a)},[I,a]),p.useEffect(function(){typeof u<"u"&&I!==null&&Fe.gridSize(I,u)},[I,u]),p.useEffect(function(){typeof c<"u"&&I!==null&&Fe.ignoreHidden(I,c)},[I,c]),p.useEffect(function(){typeof h<"u"&&I!==null&&Fe.imageExtension(I,h)},[I,h]),p.useEffect(function(){typeof f<"u"&&I!==null&&Fe.imagePath(I,f)},[I,f]),p.useEffect(function(){typeof m<"u"&&I!==null&&Fe.imageSizes(I,m)},[I,m]),p.useEffect(function(){typeof v<"u"&&I!==null&&Fe.maxZoom(I,v)},[I,v]),p.useEffect(function(){typeof k<"u"&&I!==null&&Fe.minimumClusterSize(I,k)},[I,k]),p.useEffect(function(){typeof C<"u"&&I!==null&&Fe.styles(I,C)},[I,C]),p.useEffect(function(){typeof x<"u"&&I!==null&&Fe.title(I,x)},[I,x]),p.useEffect(function(){typeof S<"u"&&I!==null&&Fe.zoomOnClick(I,S)},[I,S]),p.useEffect(function(){if(R){var Re=he({},n||Y4),le=new dk(R,[],Re);return r&&Fe.averageCenter(le,r),i&&Fe.batchSizeIE(le,i),s&&Fe.calculator(le,s),o&&Fe.clusterClass(le,o),a&&Fe.enableRetinaIcons(le,a),u&&Fe.gridSize(le,u),c&&Fe.ignoreHidden(le,c),h&&Fe.imageExtension(le,h),f&&Fe.imagePath(le,f),m&&Fe.imageSizes(le,m),v&&Fe.maxZoom(le,v),k&&Fe.minimumClusterSize(le,k),C&&Fe.styles(le,C),x&&Fe.title(le,x),S&&Fe.zoomOnClick(le,S),b&&ge(google.maps.event.addListener(le,xn.onMouseOut,b)),N&&_e(google.maps.event.addListener(le,xn.onMouseOver,N)),_&&re(google.maps.event.addListener(le,xn.onClick,_)),E&&$(google.maps.event.addListener(le,xn.onClusteringBegin,E)),O&&ne(google.maps.event.addListener(le,xn.onClusteringEnd,O)),M(le),w&&w(le),function(){de!==null&&google.maps.event.removeListener(de),B!==null&&google.maps.event.removeListener(B),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),J!==null&&google.maps.event.removeListener(J),y&&y(le)}}},[]),I!==null&&e(I)||null}p.memo(Z4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new dk(this.context,[],this.props.options);this.registeredEvents=Ae({updaterMap:Fe,eventMap:xn,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Fe,eventMap:xn,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),xe(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=Te,e})(p.PureComponent);function Dw(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var fk=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||Dw(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var u=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,Dw))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,u=o.offsetHeight,c=this.pixelOffset.width,h=this.pixelOffset.height,f=this.div.offsetWidth,m=this.div.offsetHeight,v=this.infoBoxClearance.width,k=this.infoBoxClearance.height,C=this.getProjection(),x=C.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-c+v?r=x.x+c-v:x.x+f+c+v>a&&(r=x.x+f+c+v-a),this.alignBottom?x.y<-h+k+m?i=x.y+h-k-m:x.y+h+k>u&&(i=x.y+h+k-u):x.y<-h+k?i=x.y+h-k:x.y+m+h+k>u&&(i=x.y+m+h+k-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),Ow={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Nw={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},X4={};function J4(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,s=t.zIndex,o=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,m=t.onUnmount,v=p.useContext(Te),k=p.useState(null),C=k[0],x=k[1],S=p.useState(null),_=S[0],E=S[1],O=p.useState(null),N=O[0],b=O[1],w=p.useState(null),y=w[0],L=w[1],I=p.useState(null),M=I[0],R=I[1],A=p.useState(null),te=A[0],re=A[1],ce=p.useRef(null);return p.useEffect(function(){v&&C!==null&&(C.close(),n?C.open(v,n):C.getPosition()&&C.open(v))},[v,C,n]),p.useEffect(function(){r&&C!==null&&C.setOptions(r)},[C,r]),p.useEffect(function(){if(i&&C!==null){var X=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);C.setPosition(X)}},[i]),p.useEffect(function(){typeof s=="number"&&C!==null&&C.setZIndex(s)},[s]),p.useEffect(function(){C&&o&&(_!==null&&google.maps.event.removeListener(_),E(google.maps.event.addListener(C,"closeclick",o)))},[o]),p.useEffect(function(){C&&a&&(N!==null&&google.maps.event.removeListener(N),b(google.maps.event.addListener(C,"domready",a)))},[a]),p.useEffect(function(){C&&u&&(y!==null&&google.maps.event.removeListener(y),L(google.maps.event.addListener(C,"content_changed",u)))},[u]),p.useEffect(function(){C&&c&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(C,"position_changed",c)))},[c]),p.useEffect(function(){C&&h&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(C,"zindex_changed",h)))},[h]),p.useEffect(function(){if(v){var X=r||X4,$=X.position,Y=Iv(X,["position"]),J=void 0;$&&!($ instanceof google.maps.LatLng)&&(J=new google.maps.LatLng($.lat,$.lng));var ne=new fk(he(he({},Y),J?{position:J}:{}));ce.current=document.createElement("div"),x(ne),o&&E(google.maps.event.addListener(ne,"closeclick",o)),a&&b(google.maps.event.addListener(ne,"domready",a)),u&&L(google.maps.event.addListener(ne,"content_changed",u)),c&&R(google.maps.event.addListener(ne,"position_changed",c)),h&&re(google.maps.event.addListener(ne,"zindex_changed",h)),ne.setContent(ce.current),n?ne.open(v,n):ne.getPosition()?ne.open(v):_t(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(ne)}return function(){C!==null&&(_&&google.maps.event.removeListener(_),y&&google.maps.event.removeListener(y),N&&google.maps.event.removeListener(N),M&&google.maps.event.removeListener(M),te&&google.maps.event.removeListener(te),m&&m(C),C.close())}},[]),ce.current?Bs.createPortal(p.Children.only(e),ce.current):null}p.memo(J4);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,i){i?n.context!==null&&r.open(n.context,i):r.getPosition()?n.context!==null&&r.open(n.context):_t(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,i=Iv(n,["position"]),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var o=new fk(he(he({},i),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ae({updaterMap:Nw,eventMap:Ow,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Nw,eventMap:Ow,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),xe(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?Bs.createPortal(p.Children.only(this.props.children),this.containerElement):null},e.contextType=Te,e})(p.PureComponent);var ej=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Vw=ok(ej);const Uw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],xf=1,ja=8;class Cv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==xf)throw new Error(`Got v${i} data when expected v${xf}.`);const s=Uw[r&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Cv(a,o,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=Uw.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ja,e),this.coords=new this.ArrayType(this.data,ja+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ja+o+a+u),this.ids=new this.IndexArrayType(this.data,ja,e),this.coords=new this.ArrayType(this.data,ja+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(xf<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return hg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:a}=this,u=[0,s.length-1,0],c=[];for(;u.length;){const h=u.pop()||0,f=u.pop()||0,m=u.pop()||0;if(f-m<=a){for(let x=m;x<=f;x++){const S=o[2*x],_=o[2*x+1];S>=e&&S<=r&&_>=n&&_<=i&&c.push(s[x])}continue}const v=m+f>>1,k=o[2*v],C=o[2*v+1];k>=e&&k<=r&&C>=n&&C<=i&&c.push(s[v]),(h===0?e<=k:n<=C)&&(u.push(m),u.push(v-1),u.push(1-h)),(h===0?r>=k:i>=C)&&(u.push(v+1),u.push(f),u.push(1-h))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],u=[],c=r*r;for(;a.length;){const h=a.pop()||0,f=a.pop()||0,m=a.pop()||0;if(f-m<=o){for(let x=m;x<=f;x++)Fw(s[2*x],s[2*x+1],e,n)<=c&&u.push(i[x]);continue}const v=m+f>>1,k=s[2*v],C=s[2*v+1];Fw(k,C,e,n)<=c&&u.push(i[v]),(h===0?e-r<=k:n-r<=C)&&(a.push(m),a.push(v-1),a.push(1-h)),(h===0?e+r>=k:n+r>=C)&&(a.push(v+1),a.push(f),a.push(1-h))}return u}}function hg(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;pk(t,e,o,r,i,s),hg(t,e,n,r,o-1,1-s),hg(t,e,n,o+1,i,1-s)}function pk(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(c-m)/c)*(h-c/2<0?-1:1),k=Math.max(r,Math.floor(n-h*m/c+v)),C=Math.min(i,Math.floor(n+(c-h)*m/c+v));pk(t,e,n,k,C,s)}const o=e[2*n+s];let a=r,u=i;for(Ba(t,e,r,n),e[2*i+s]>o&&Ba(t,e,r,i);a<u;){for(Ba(t,e,a,u),a++,u--;e[2*a+s]<o;)a++;for(;e[2*u+s]>o;)u--}e[2*r+s]===o?Ba(t,e,r,u):(u++,Ba(t,e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function Ba(t,e,n,r){Pf(t,n,r),Pf(e,2*n,2*r),Pf(e,2*n+1,2*r+1)}function Pf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Fw(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const tj={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},jw=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),cs=2,di=3,Rf=4,ui=5,gk=6;class nj{constructor(e){this.options=Object.assign(Object.create(tj),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let u=0;u<e.length;u++){const c=e[u];if(!c.geometry)continue;const[h,f]=c.geometry.coordinates,m=jw(ac(h)),v=jw(lc(f));o.push(m,v,1/0,u,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(let u=i;u>=r;u--){const c=+Date.now();a=this.trees[u]=this._createTree(this._cluster(a,u)),n&&console.log("z%d: %d clusters in %dms",u,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const f=this.getClusters([r,i,180,o],n),m=this.getClusters([-180,i,s,o],n);return f.concat(m)}const a=this.trees[this._limitZoom(n)],u=a.range(ac(r),lc(o),ac(s),lc(i)),c=a.data,h=[];for(const f of u){const m=this.stride*f;h.push(c[m+ui]>1?Bw(c,m,this.clusterProps):this.points[c[m+di]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.data;if(n*this.stride>=o.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[n*this.stride],c=o[n*this.stride+1],h=s.within(u,c,a),f=[];for(const m of h){const v=m*this.stride;o[v+Rf]===e&&f.push(o[v+ui]>1?Bw(o,v,this.clusterProps):this.points[o[v+di]])}if(f.length===0)throw new Error(i);return f}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,u=a/o,c=(r-u)/s,h=(r+1+u)/s,f={features:[]};return this._addTileFeatures(i.range((n-u)/s,c,(n+1+u)/s,h),i.data,n,r,s,f),n===0&&this._addTileFeatures(i.range(1-u/s,c,1,h),i.data,s,r,s,f),n===s-1&&this._addTileFeatures(i.range(0,c,u/s,h),i.data,-1,r,s,f),f.features.length?f:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const a of o){const u=a.properties;if(u&&u.cluster?s+u.point_count<=i?s+=u.point_count:s=this._appendLeaves(e,u.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){const n=new Cv(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(const a of e){const u=a*this.stride,c=n[u+ui]>1;let h,f,m;if(c)h=mk(n,u,this.clusterProps),f=n[u],m=n[u+1];else{const C=this.points[n[u+di]];h=C.properties;const[x,S]=C.geometry.coordinates;f=ac(x),m=lc(S)}const v={type:1,geometry:[[Math.round(this.options.extent*(f*s-r)),Math.round(this.options.extent*(m*s-i))]],tags:h};let k;c||this.options.generateId?k=n[u+di]:k=this.points[n[u+di]].id,k!==void 0&&(v.id=k),o.features.push(v)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,n)),u=e.data,c=[],h=this.stride;for(let f=0;f<u.length;f+=h){if(u[f+cs]<=n)continue;u[f+cs]=n;const m=u[f],v=u[f+1],k=e.within(u[f],u[f+1],a),C=u[f+ui];let x=C;for(const S of k){const _=S*h;u[_+cs]>n&&(x+=u[_+ui])}if(x>C&&x>=o){let S=m*C,_=v*C,E,O=-1;const N=((f/h|0)<<5)+(n+1)+this.points.length;for(const b of k){const w=b*h;if(u[w+cs]<=n)continue;u[w+cs]=n;const y=u[w+ui];S+=u[w]*y,_+=u[w+1]*y,u[w+Rf]=N,s&&(E||(E=this._map(u,f,!0),O=this.clusterProps.length,this.clusterProps.push(E)),s(E,this._map(u,w)))}u[f+Rf]=N,c.push(S/x,_/x,1/0,N,-1,x),s&&c.push(O)}else{for(let S=0;S<h;S++)c.push(u[f+S]);if(x>1)for(const S of k){const _=S*h;if(!(u[_+cs]<=n)){u[_+cs]=n;for(let E=0;E<h;E++)c.push(u[_+E])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+ui]>1){const o=this.clusterProps[e[n+gk]];return r?Object.assign({},o):o}const i=this.points[e[n+di]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function Bw(t,e,n){return{type:"Feature",id:t[e+di],properties:mk(t,e,n),geometry:{type:"Point",coordinates:[rj(t[e]),ij(t[e+1])]}}}function mk(t,e,n){const r=t[e+ui],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+gk],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+di],point_count:r,point_count_abbreviated:i})}function ac(t){return t/360+.5}function lc(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function rj(t){return(t-.5)*360}function ij(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class wn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class dg{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(wn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>wn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(wn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class oj{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return aj(e)}}const aj=t=>t.map(n=>new dg({position:wn.getPosition(n),markers:[n]}));class lj extends oj{constructor(e){var{maxZoom:n,radius:r=60}=e,i=sj(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new nj(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Vw(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const o=wn.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Vw(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new dg({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new dg({markers:[i],position:wn.getPosition(i)})}}class uj{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class cj{render({count:e,position:n},r,i){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,u=Number(google.maps.Marker.MAX_ZINDEX)+e;if(wn.isAdvancedMarkerAvailable(i)){const f=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");const m={map:i,position:n,zIndex:u,title:a,content:f};return new google.maps.marker.AdvancedMarkerElement(m)}const c={position:n,zIndex:u,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function hj(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Tv{constructor(){hj(Tv,google.maps.OverlayView)}}var vl;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(vl||(vl={}));const dj=(t,e,n)=>{n.fitBounds(e.bounds)};class fj extends Tv{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new lj(r),renderer:s=new cj,onClusterClick:o=dj}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(wn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,vl.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const o of n)o.markers.length==1&&i.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||wn.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>wn.setMap(o,null)))}google.maps.event.trigger(this,vl.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>wn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new uj(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>wn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,vl.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),wn.setMap(r.marker,n)})}}function pj(t){var e=T4(),n=p.useState(null),r=n[0],i=n[1];return p.useEffect(function(){if(e&&r===null){var s=new fj(he(he({},t),{map:e}));i(s)}},[e]),r}function gj(t){var e=t.children,n=t.options,r=pj(n);return r!==null?e(r):null}p.memo(gj);var zw={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$w={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function mj(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,s=t.zIndex,o=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,h=t.onZindexChanged,f=t.onLoad,m=t.onUnmount,v=p.useContext(Te),k=p.useState(null),C=k[0],x=k[1],S=p.useState(null),_=S[0],E=S[1],O=p.useState(null),N=O[0],b=O[1],w=p.useState(null),y=w[0],L=w[1],I=p.useState(null),M=I[0],R=I[1],A=p.useState(null),te=A[0],re=A[1],ce=p.useRef(null);return p.useEffect(function(){C!==null&&(C.close(),n?C.open(v,n):C.getPosition()&&C.open(v))},[v,C,n]),p.useEffect(function(){r&&C!==null&&C.setOptions(r)},[C,r]),p.useEffect(function(){i&&C!==null&&C.setPosition(i)},[i]),p.useEffect(function(){typeof s=="number"&&C!==null&&C.setZIndex(s)},[s]),p.useEffect(function(){C&&o&&(_!==null&&google.maps.event.removeListener(_),E(google.maps.event.addListener(C,"closeclick",o)))},[o]),p.useEffect(function(){C&&a&&(N!==null&&google.maps.event.removeListener(N),b(google.maps.event.addListener(C,"domready",a)))},[a]),p.useEffect(function(){C&&u&&(y!==null&&google.maps.event.removeListener(y),L(google.maps.event.addListener(C,"content_changed",u)))},[u]),p.useEffect(function(){C&&c&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(C,"position_changed",c)))},[c]),p.useEffect(function(){C&&h&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(C,"zindex_changed",h)))},[h]),p.useEffect(function(){var X=new google.maps.InfoWindow(he({},r||{}));return x(X),ce.current=document.createElement("div"),o&&E(google.maps.event.addListener(X,"closeclick",o)),a&&b(google.maps.event.addListener(X,"domready",a)),u&&L(google.maps.event.addListener(X,"content_changed",u)),c&&R(google.maps.event.addListener(X,"position_changed",c)),h&&re(google.maps.event.addListener(X,"zindex_changed",h)),X.setContent(ce.current),i&&X.setPosition(i),s&&X.setZIndex(s),n?X.open(v,n):X.getPosition()?X.open(v):_t(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(X),function(){_&&google.maps.event.removeListener(_),y&&google.maps.event.removeListener(y),N&&google.maps.event.removeListener(N),M&&google.maps.event.removeListener(M),te&&google.maps.event.removeListener(te),m&&m(X),X.close()}},[]),ce.current?Bs.createPortal(p.Children.only(e),ce.current):null}p.memo(mj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,i){i?r.open(n.context,i):r.getPosition()?r.open(n.context):_t(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(he({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ae({updaterMap:$w,eventMap:zw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:$w,eventMap:zw,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(xe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?Bs.createPortal(p.Children.only(this.props.children),this.containerElement):null},e.contextType=Te,e})(p.PureComponent);var Ww={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hw={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},vj={};function yj(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,s=t.path,o=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,m=t.onMouseOver,v=t.onMouseUp,k=t.onRightClick,C=t.onClick,x=t.onDrag,S=t.onLoad,_=t.onUnmount,E=p.useContext(Te),O=p.useState(null),N=O[0],b=O[1],w=p.useState(null),y=w[0],L=w[1],I=p.useState(null),M=I[0],R=I[1],A=p.useState(null),te=A[0],re=A[1],ce=p.useState(null),X=ce[0],$=ce[1],Y=p.useState(null),J=Y[0],ne=Y[1],se=p.useState(null),de=se[0],ge=se[1],Ie=p.useState(null),B=Ie[0],_e=Ie[1],Re=p.useState(null),le=Re[0],Me=Re[1],De=p.useState(null),ke=De[0],Be=De[1],He=p.useState(null),$e=He[0],Ge=He[1],Xe=p.useState(null),D=Xe[0],V=Xe[1];return p.useEffect(function(){N!==null&&N.setMap(E)},[E]),p.useEffect(function(){typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),p.useEffect(function(){typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),p.useEffect(function(){typeof r<"u"&&N!==null&&N.setEditable(r)},[N,r]),p.useEffect(function(){typeof i<"u"&&N!==null&&N.setVisible(i)},[N,i]),p.useEffect(function(){typeof s<"u"&&N!==null&&N.setPath(s)},[N,s]),p.useEffect(function(){N&&o&&(y!==null&&google.maps.event.removeListener(y),L(google.maps.event.addListener(N,"dblclick",o)))},[o]),p.useEffect(function(){N&&a&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(N,"dragend",a)))},[a]),p.useEffect(function(){N&&u&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(N,"dragstart",u)))},[u]),p.useEffect(function(){N&&c&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(N,"mousedown",c)))},[c]),p.useEffect(function(){N&&h&&(J!==null&&google.maps.event.removeListener(J),ne(google.maps.event.addListener(N,"mousemove",h)))},[h]),p.useEffect(function(){N&&f&&(de!==null&&google.maps.event.removeListener(de),ge(google.maps.event.addListener(N,"mouseout",f)))},[f]),p.useEffect(function(){N&&m&&(B!==null&&google.maps.event.removeListener(B),_e(google.maps.event.addListener(N,"mouseover",m)))},[m]),p.useEffect(function(){N&&v&&(le!==null&&google.maps.event.removeListener(le),Me(google.maps.event.addListener(N,"mouseup",v)))},[v]),p.useEffect(function(){N&&k&&(ke!==null&&google.maps.event.removeListener(ke),Be(google.maps.event.addListener(N,"rightclick",k)))},[k]),p.useEffect(function(){N&&C&&($e!==null&&google.maps.event.removeListener($e),Ge(google.maps.event.addListener(N,"click",C)))},[C]),p.useEffect(function(){N&&x&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(N,"drag",x)))},[x]),p.useEffect(function(){var U=new google.maps.Polyline(he(he({},e||vj),{map:E}));return s&&U.setPath(s),typeof i<"u"&&U.setVisible(i),typeof r<"u"&&U.setEditable(r),typeof n<"u"&&U.setDraggable(n),o&&L(google.maps.event.addListener(U,"dblclick",o)),a&&R(google.maps.event.addListener(U,"dragend",a)),u&&re(google.maps.event.addListener(U,"dragstart",u)),c&&$(google.maps.event.addListener(U,"mousedown",c)),h&&ne(google.maps.event.addListener(U,"mousemove",h)),f&&ge(google.maps.event.addListener(U,"mouseout",f)),m&&_e(google.maps.event.addListener(U,"mouseover",m)),v&&Me(google.maps.event.addListener(U,"mouseup",v)),k&&Be(google.maps.event.addListener(U,"rightclick",k)),C&&Ge(google.maps.event.addListener(U,"click",C)),x&&V(google.maps.event.addListener(U,"drag",x)),b(U),S&&S(U),function(){y!==null&&google.maps.event.removeListener(y),M!==null&&google.maps.event.removeListener(M),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),J!==null&&google.maps.event.removeListener(J),de!==null&&google.maps.event.removeListener(de),B!==null&&google.maps.event.removeListener(B),le!==null&&google.maps.event.removeListener(le),ke!==null&&google.maps.event.removeListener(ke),$e!==null&&google.maps.event.removeListener($e),_&&_(U),U.setMap(null)}},[]),null}p.memo(yj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Hw,eventMap:Ww,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Hw,eventMap:Ww,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),xe(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var qw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gw={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function _j(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,s=t.path,o=t.paths,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,m=t.onMouseOut,v=t.onMouseOver,k=t.onMouseUp,C=t.onRightClick,x=t.onClick,S=t.onDrag,_=t.onLoad,E=t.onUnmount,O=t.onEdit,N=p.useContext(Te),b=p.useState(null),w=b[0],y=b[1],L=p.useState(null),I=L[0],M=L[1],R=p.useState(null),A=R[0],te=R[1],re=p.useState(null),ce=re[0],X=re[1],$=p.useState(null),Y=$[0],J=$[1],ne=p.useState(null),se=ne[0],de=ne[1],ge=p.useState(null),Ie=ge[0],B=ge[1],_e=p.useState(null),Re=_e[0],le=_e[1],Me=p.useState(null),De=Me[0],ke=Me[1],Be=p.useState(null),He=Be[0],$e=Be[1],Ge=p.useState(null),Xe=Ge[0],D=Ge[1],V=p.useState(null),U=V[0],Z=V[1];return p.useEffect(function(){w!==null&&w.setMap(N)},[N]),p.useEffect(function(){typeof e<"u"&&w!==null&&w.setOptions(e)},[w,e]),p.useEffect(function(){typeof n<"u"&&w!==null&&w.setDraggable(n)},[w,n]),p.useEffect(function(){typeof r<"u"&&w!==null&&w.setEditable(r)},[w,r]),p.useEffect(function(){typeof i<"u"&&w!==null&&w.setVisible(i)},[w,i]),p.useEffect(function(){typeof s<"u"&&w!==null&&w.setPath(s)},[w,s]),p.useEffect(function(){typeof o<"u"&&w!==null&&w.setPaths(o)},[w,o]),p.useEffect(function(){w&&a&&(I!==null&&google.maps.event.removeListener(I),M(google.maps.event.addListener(w,"dblclick",a)))},[a]),p.useEffect(function(){w&&(google.maps.event.addListener(w.getPath(),"insert_at",function(){O==null||O(w)}),google.maps.event.addListener(w.getPath(),"set_at",function(){O==null||O(w)}))},[w,O]),p.useEffect(function(){w&&u&&(A!==null&&google.maps.event.removeListener(A),te(google.maps.event.addListener(w,"dragend",u)))},[u]),p.useEffect(function(){w&&c&&(ce!==null&&google.maps.event.removeListener(ce),X(google.maps.event.addListener(w,"dragstart",c)))},[c]),p.useEffect(function(){w&&h&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(w,"mousedown",h)))},[h]),p.useEffect(function(){w&&f&&(se!==null&&google.maps.event.removeListener(se),de(google.maps.event.addListener(w,"mousemove",f)))},[f]),p.useEffect(function(){w&&m&&(Ie!==null&&google.maps.event.removeListener(Ie),B(google.maps.event.addListener(w,"mouseout",m)))},[m]),p.useEffect(function(){w&&v&&(Re!==null&&google.maps.event.removeListener(Re),le(google.maps.event.addListener(w,"mouseover",v)))},[v]),p.useEffect(function(){w&&k&&(De!==null&&google.maps.event.removeListener(De),ke(google.maps.event.addListener(w,"mouseup",k)))},[k]),p.useEffect(function(){w&&C&&(He!==null&&google.maps.event.removeListener(He),$e(google.maps.event.addListener(w,"rightclick",C)))},[C]),p.useEffect(function(){w&&x&&(Xe!==null&&google.maps.event.removeListener(Xe),D(google.maps.event.addListener(w,"click",x)))},[x]),p.useEffect(function(){w&&S&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(w,"drag",S)))},[S]),p.useEffect(function(){var z=new google.maps.Polygon(he(he({},e||{}),{map:N}));return s&&z.setPath(s),o&&z.setPaths(o),typeof i<"u"&&z.setVisible(i),typeof r<"u"&&z.setEditable(r),typeof n<"u"&&z.setDraggable(n),a&&M(google.maps.event.addListener(z,"dblclick",a)),u&&te(google.maps.event.addListener(z,"dragend",u)),c&&X(google.maps.event.addListener(z,"dragstart",c)),h&&J(google.maps.event.addListener(z,"mousedown",h)),f&&de(google.maps.event.addListener(z,"mousemove",f)),m&&B(google.maps.event.addListener(z,"mouseout",m)),v&&le(google.maps.event.addListener(z,"mouseover",v)),k&&ke(google.maps.event.addListener(z,"mouseup",k)),C&&$e(google.maps.event.addListener(z,"rightclick",C)),x&&D(google.maps.event.addListener(z,"click",x)),S&&Z(google.maps.event.addListener(z,"drag",S)),y(z),_&&_(z),function(){I!==null&&google.maps.event.removeListener(I),A!==null&&google.maps.event.removeListener(A),ce!==null&&google.maps.event.removeListener(ce),Y!==null&&google.maps.event.removeListener(Y),se!==null&&google.maps.event.removeListener(se),Ie!==null&&google.maps.event.removeListener(Ie),Re!==null&&google.maps.event.removeListener(Re),De!==null&&google.maps.event.removeListener(De),He!==null&&google.maps.event.removeListener(He),Xe!==null&&google.maps.event.removeListener(Xe),E&&E(z),z.setMap(null)}},[]),null}p.memo(_j);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Gw,eventMap:qw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Gw,eventMap:qw,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),xe(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var Kw={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qw={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function wj(t){var e=t.options,n=t.bounds,r=t.draggable,i=t.editable,s=t.visible,o=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,h=t.onMouseMove,f=t.onMouseOut,m=t.onMouseOver,v=t.onMouseUp,k=t.onRightClick,C=t.onClick,x=t.onDrag,S=t.onBoundsChanged,_=t.onLoad,E=t.onUnmount,O=p.useContext(Te),N=p.useState(null),b=N[0],w=N[1],y=p.useState(null),L=y[0],I=y[1],M=p.useState(null),R=M[0],A=M[1],te=p.useState(null),re=te[0],ce=te[1],X=p.useState(null),$=X[0],Y=X[1],J=p.useState(null),ne=J[0],se=J[1],de=p.useState(null),ge=de[0],Ie=de[1],B=p.useState(null),_e=B[0],Re=B[1],le=p.useState(null),Me=le[0],De=le[1],ke=p.useState(null),Be=ke[0],He=ke[1],$e=p.useState(null),Ge=$e[0],Xe=$e[1],D=p.useState(null),V=D[0],U=D[1],Z=p.useState(null),z=Z[0],G=Z[1];return p.useEffect(function(){b!==null&&b.setMap(O)},[O]),p.useEffect(function(){typeof e<"u"&&b!==null&&b.setOptions(e)},[b,e]),p.useEffect(function(){typeof r<"u"&&b!==null&&b.setDraggable(r)},[b,r]),p.useEffect(function(){typeof i<"u"&&b!==null&&b.setEditable(i)},[b,i]),p.useEffect(function(){typeof s<"u"&&b!==null&&b.setVisible(s)},[b,s]),p.useEffect(function(){typeof n<"u"&&b!==null&&b.setBounds(n)},[b,n]),p.useEffect(function(){b&&o&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(b,"dblclick",o)))},[o]),p.useEffect(function(){b&&a&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(b,"dragend",a)))},[a]),p.useEffect(function(){b&&u&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(b,"dragstart",u)))},[u]),p.useEffect(function(){b&&c&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(b,"mousedown",c)))},[c]),p.useEffect(function(){b&&h&&(ne!==null&&google.maps.event.removeListener(ne),se(google.maps.event.addListener(b,"mousemove",h)))},[h]),p.useEffect(function(){b&&f&&(ge!==null&&google.maps.event.removeListener(ge),Ie(google.maps.event.addListener(b,"mouseout",f)))},[f]),p.useEffect(function(){b&&m&&(_e!==null&&google.maps.event.removeListener(_e),Re(google.maps.event.addListener(b,"mouseover",m)))},[m]),p.useEffect(function(){b&&v&&(Me!==null&&google.maps.event.removeListener(Me),De(google.maps.event.addListener(b,"mouseup",v)))},[v]),p.useEffect(function(){b&&k&&(Be!==null&&google.maps.event.removeListener(Be),He(google.maps.event.addListener(b,"rightclick",k)))},[k]),p.useEffect(function(){b&&C&&(Ge!==null&&google.maps.event.removeListener(Ge),Xe(google.maps.event.addListener(b,"click",C)))},[C]),p.useEffect(function(){b&&x&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(b,"drag",x)))},[x]),p.useEffect(function(){b&&S&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(b,"bounds_changed",S)))},[S]),p.useEffect(function(){var H=new google.maps.Rectangle(he(he({},e||{}),{map:O}));return typeof s<"u"&&H.setVisible(s),typeof i<"u"&&H.setEditable(i),typeof r<"u"&&H.setDraggable(r),typeof n<"u"&&H.setBounds(n),o&&I(google.maps.event.addListener(H,"dblclick",o)),a&&A(google.maps.event.addListener(H,"dragend",a)),u&&ce(google.maps.event.addListener(H,"dragstart",u)),c&&Y(google.maps.event.addListener(H,"mousedown",c)),h&&se(google.maps.event.addListener(H,"mousemove",h)),f&&Ie(google.maps.event.addListener(H,"mouseout",f)),m&&Re(google.maps.event.addListener(H,"mouseover",m)),v&&De(google.maps.event.addListener(H,"mouseup",v)),k&&He(google.maps.event.addListener(H,"rightclick",k)),C&&Xe(google.maps.event.addListener(H,"click",C)),x&&U(google.maps.event.addListener(H,"drag",x)),S&&G(google.maps.event.addListener(H,"bounds_changed",S)),w(H),_&&_(H),function(){L!==null&&google.maps.event.removeListener(L),R!==null&&google.maps.event.removeListener(R),re!==null&&google.maps.event.removeListener(re),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),_e!==null&&google.maps.event.removeListener(_e),Me!==null&&google.maps.event.removeListener(Me),Be!==null&&google.maps.event.removeListener(Be),Ge!==null&&google.maps.event.removeListener(Ge),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),E&&E(H),H.setMap(null)}},[]),null}p.memo(wj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Qw,eventMap:Kw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Qw,eventMap:Kw,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),xe(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var Yw={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zw={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},Ej={};function Sj(t){var e=t.options,n=t.center,r=t.radius,i=t.draggable,s=t.editable,o=t.visible,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,h=t.onMouseDown,f=t.onMouseMove,m=t.onMouseOut,v=t.onMouseOver,k=t.onMouseUp,C=t.onRightClick,x=t.onClick,S=t.onDrag,_=t.onCenterChanged,E=t.onRadiusChanged,O=t.onLoad,N=t.onUnmount,b=p.useContext(Te),w=p.useState(null),y=w[0],L=w[1],I=p.useState(null),M=I[0],R=I[1],A=p.useState(null),te=A[0],re=A[1],ce=p.useState(null),X=ce[0],$=ce[1],Y=p.useState(null),J=Y[0],ne=Y[1],se=p.useState(null),de=se[0],ge=se[1],Ie=p.useState(null),B=Ie[0],_e=Ie[1],Re=p.useState(null),le=Re[0],Me=Re[1],De=p.useState(null),ke=De[0],Be=De[1],He=p.useState(null),$e=He[0],Ge=He[1],Xe=p.useState(null),D=Xe[0],V=Xe[1],U=p.useState(null),Z=U[0],z=U[1],G=p.useState(null),H=G[0],ye=G[1],Ce=p.useState(null),we=Ce[0],Pt=Ce[1];return p.useEffect(function(){y!==null&&y.setMap(b)},[b]),p.useEffect(function(){typeof e<"u"&&y!==null&&y.setOptions(e)},[y,e]),p.useEffect(function(){typeof i<"u"&&y!==null&&y.setDraggable(i)},[y,i]),p.useEffect(function(){typeof s<"u"&&y!==null&&y.setEditable(s)},[y,s]),p.useEffect(function(){typeof o<"u"&&y!==null&&y.setVisible(o)},[y,o]),p.useEffect(function(){typeof r=="number"&&y!==null&&y.setRadius(r)},[y,r]),p.useEffect(function(){typeof n<"u"&&y!==null&&y.setCenter(n)},[y,n]),p.useEffect(function(){y&&a&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(y,"dblclick",a)))},[a]),p.useEffect(function(){y&&u&&(te!==null&&google.maps.event.removeListener(te),re(google.maps.event.addListener(y,"dragend",u)))},[u]),p.useEffect(function(){y&&c&&(X!==null&&google.maps.event.removeListener(X),$(google.maps.event.addListener(y,"dragstart",c)))},[c]),p.useEffect(function(){y&&h&&(J!==null&&google.maps.event.removeListener(J),ne(google.maps.event.addListener(y,"mousedown",h)))},[h]),p.useEffect(function(){y&&f&&(de!==null&&google.maps.event.removeListener(de),ge(google.maps.event.addListener(y,"mousemove",f)))},[f]),p.useEffect(function(){y&&m&&(B!==null&&google.maps.event.removeListener(B),_e(google.maps.event.addListener(y,"mouseout",m)))},[m]),p.useEffect(function(){y&&v&&(le!==null&&google.maps.event.removeListener(le),Me(google.maps.event.addListener(y,"mouseover",v)))},[v]),p.useEffect(function(){y&&k&&(ke!==null&&google.maps.event.removeListener(ke),Be(google.maps.event.addListener(y,"mouseup",k)))},[k]),p.useEffect(function(){y&&C&&($e!==null&&google.maps.event.removeListener($e),Ge(google.maps.event.addListener(y,"rightclick",C)))},[C]),p.useEffect(function(){y&&x&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(y,"click",x)))},[x]),p.useEffect(function(){y&&S&&(Z!==null&&google.maps.event.removeListener(Z),z(google.maps.event.addListener(y,"drag",S)))},[S]),p.useEffect(function(){y&&_&&(H!==null&&google.maps.event.removeListener(H),ye(google.maps.event.addListener(y,"center_changed",_)))},[x]),p.useEffect(function(){y&&E&&(we!==null&&google.maps.event.removeListener(we),Pt(google.maps.event.addListener(y,"radius_changed",E)))},[E]),p.useEffect(function(){var ze=new google.maps.Circle(he(he({},e||Ej),{map:b}));return typeof r=="number"&&ze.setRadius(r),typeof n<"u"&&ze.setCenter(n),typeof r=="number"&&ze.setRadius(r),typeof o<"u"&&ze.setVisible(o),typeof s<"u"&&ze.setEditable(s),typeof i<"u"&&ze.setDraggable(i),a&&R(google.maps.event.addListener(ze,"dblclick",a)),u&&re(google.maps.event.addListener(ze,"dragend",u)),c&&$(google.maps.event.addListener(ze,"dragstart",c)),h&&ne(google.maps.event.addListener(ze,"mousedown",h)),f&&ge(google.maps.event.addListener(ze,"mousemove",f)),m&&_e(google.maps.event.addListener(ze,"mouseout",m)),v&&Me(google.maps.event.addListener(ze,"mouseover",v)),k&&Be(google.maps.event.addListener(ze,"mouseup",k)),C&&Ge(google.maps.event.addListener(ze,"rightclick",C)),x&&V(google.maps.event.addListener(ze,"click",x)),S&&z(google.maps.event.addListener(ze,"drag",S)),_&&ye(google.maps.event.addListener(ze,"center_changed",_)),E&&Pt(google.maps.event.addListener(ze,"radius_changed",E)),L(ze),O&&O(ze),function(){M!==null&&google.maps.event.removeListener(M),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),J!==null&&google.maps.event.removeListener(J),de!==null&&google.maps.event.removeListener(de),B!==null&&google.maps.event.removeListener(B),le!==null&&google.maps.event.removeListener(le),ke!==null&&google.maps.event.removeListener(ke),$e!==null&&google.maps.event.removeListener($e),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),we!==null&&google.maps.event.removeListener(we),N&&N(ze),ze.setMap(null)}},[]),null}p.memo(Sj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Zw,eventMap:Yw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Zw,eventMap:Yw,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),xe(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var Xw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Jw={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function Ij(t){var e=t.options,n=t.onClick,r=t.onDblClick,i=t.onMouseDown,s=t.onMouseMove,o=t.onMouseOut,a=t.onMouseOver,u=t.onMouseUp,c=t.onRightClick,h=t.onAddFeature,f=t.onRemoveFeature,m=t.onRemoveProperty,v=t.onSetGeometry,k=t.onSetProperty,C=t.onLoad,x=t.onUnmount,S=p.useContext(Te),_=p.useState(null),E=_[0],O=_[1],N=p.useState(null),b=N[0],w=N[1],y=p.useState(null),L=y[0],I=y[1],M=p.useState(null),R=M[0],A=M[1],te=p.useState(null),re=te[0],ce=te[1],X=p.useState(null),$=X[0],Y=X[1],J=p.useState(null),ne=J[0],se=J[1],de=p.useState(null),ge=de[0],Ie=de[1],B=p.useState(null),_e=B[0],Re=B[1],le=p.useState(null),Me=le[0],De=le[1],ke=p.useState(null),Be=ke[0],He=ke[1],$e=p.useState(null),Ge=$e[0],Xe=$e[1],D=p.useState(null),V=D[0],U=D[1],Z=p.useState(null),z=Z[0],G=Z[1];return p.useEffect(function(){E!==null&&E.setMap(S)},[S]),p.useEffect(function(){E&&r&&(b!==null&&google.maps.event.removeListener(b),w(google.maps.event.addListener(E,"dblclick",r)))},[r]),p.useEffect(function(){E&&i&&(L!==null&&google.maps.event.removeListener(L),I(google.maps.event.addListener(E,"mousedown",i)))},[i]),p.useEffect(function(){E&&s&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(E,"mousemove",s)))},[s]),p.useEffect(function(){E&&o&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(E,"mouseout",o)))},[o]),p.useEffect(function(){E&&a&&($!==null&&google.maps.event.removeListener($),Y(google.maps.event.addListener(E,"mouseover",a)))},[a]),p.useEffect(function(){E&&u&&(ne!==null&&google.maps.event.removeListener(ne),se(google.maps.event.addListener(E,"mouseup",u)))},[u]),p.useEffect(function(){E&&c&&(ge!==null&&google.maps.event.removeListener(ge),Ie(google.maps.event.addListener(E,"rightclick",c)))},[c]),p.useEffect(function(){E&&n&&(_e!==null&&google.maps.event.removeListener(_e),Re(google.maps.event.addListener(E,"click",n)))},[n]),p.useEffect(function(){E&&h&&(Me!==null&&google.maps.event.removeListener(Me),De(google.maps.event.addListener(E,"addfeature",h)))},[h]),p.useEffect(function(){E&&f&&(Be!==null&&google.maps.event.removeListener(Be),He(google.maps.event.addListener(E,"removefeature",f)))},[f]),p.useEffect(function(){E&&m&&(Ge!==null&&google.maps.event.removeListener(Ge),Xe(google.maps.event.addListener(E,"removeproperty",m)))},[m]),p.useEffect(function(){E&&v&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(E,"setgeometry",v)))},[v]),p.useEffect(function(){E&&k&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(E,"setproperty",k)))},[k]),p.useEffect(function(){if(S!==null){var H=new google.maps.Data(he(he({},e||{}),{map:S}));r&&w(google.maps.event.addListener(H,"dblclick",r)),i&&I(google.maps.event.addListener(H,"mousedown",i)),s&&A(google.maps.event.addListener(H,"mousemove",s)),o&&ce(google.maps.event.addListener(H,"mouseout",o)),a&&Y(google.maps.event.addListener(H,"mouseover",a)),u&&se(google.maps.event.addListener(H,"mouseup",u)),c&&Ie(google.maps.event.addListener(H,"rightclick",c)),n&&Re(google.maps.event.addListener(H,"click",n)),h&&De(google.maps.event.addListener(H,"addfeature",h)),f&&He(google.maps.event.addListener(H,"removefeature",f)),m&&Xe(google.maps.event.addListener(H,"removeproperty",m)),v&&U(google.maps.event.addListener(H,"setgeometry",v)),k&&G(google.maps.event.addListener(H,"setproperty",k)),O(H),C&&C(H)}return function(){E&&(b!==null&&google.maps.event.removeListener(b),L!==null&&google.maps.event.removeListener(L),R!==null&&google.maps.event.removeListener(R),re!==null&&google.maps.event.removeListener(re),$!==null&&google.maps.event.removeListener($),ne!==null&&google.maps.event.removeListener(ne),ge!==null&&google.maps.event.removeListener(ge),_e!==null&&google.maps.event.removeListener(_e),Me!==null&&google.maps.event.removeListener(Me),Be!==null&&google.maps.event.removeListener(Be),Ge!==null&&google.maps.event.removeListener(Ge),V!==null&&google.maps.event.removeListener(V),z!==null&&google.maps.event.removeListener(z),x&&x(E),E.setMap(null))}},[]),null}p.memo(Ij);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(he(he({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ae({updaterMap:Jw,eventMap:Xw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:Jw,eventMap:Xw,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),xe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var eE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},tE={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(he(he({},this.props.options),{map:this.context}));this.registeredEvents=Ae({updaterMap:tE,eventMap:eE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:tE,eventMap:eE,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),xe(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);function vk(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Cj(t,e){return new e(t.lat,t.lng)}function Tj(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function kj(t,e,n){return t instanceof e?t:n(t,e)}function Lj(t,e,n){return t instanceof e?t:n(t,e)}function Aj(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function xj(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var i=r.x,s=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function yk(t,e,n,r){return n!==void 0?Aj(t,e,Lj(n,google.maps.LatLngBounds,Tj)):xj(t,e,kj(r,google.maps.LatLng,Cj))}function Pj(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Rj(t,e,n,r,i){var s=function(o){Ye(a,o);function a(u,c,h,f){var m=o.call(this)||this;return m.container=u,m.pane=c,m.position=h,m.bounds=f,m}return a.prototype.onAdd=function(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var u=this.getProjection(),c=he({},this.container?vk(this.container,i):{x:0,y:0}),h=yk(u,c,this.bounds,this.position),f=0,m=Object.entries(h);f<m.length;f++){var v=m[f],k=v[0],C=v[1];this.container.style[k]=C}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new s(t,e,n,r)}function nE(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function rE(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function bj(t){var e=t.position,n=t.bounds,r=t.mapPaneName,i=t.zIndex,s=t.onLoad,o=t.onUnmount,a=t.getPixelPositionOffset,u=t.children,c=p.useContext(Te),h=p.useMemo(function(){var m=document.createElement("div");return m.style.position="absolute",m},[]),f=p.useMemo(function(){return Rj(h,r,e,n,a)},[h,r,e,n]);return p.useEffect(function(){return s==null||s(f),f==null||f.setMap(c),function(){o==null||o(f),f==null||f.setMap(null)}},[c,f]),p.useEffect(function(){h.style.zIndex="".concat(i)},[i,h]),Bs.createPortal(u,h)}p.memo(bj);(function(t){Ye(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var s=r.props.mapPaneName,o=r.overlayView.getPanes();_t(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?r.setState({paneEl:o[s]}):r.setState({paneEl:null})},r.onAdd=function(){var s,o;r.updatePane(),(o=(s=r.props).onLoad)===null||o===void 0||o.call(s,r.overlayView)},r.onPositionElement=function(){var s=r.overlayView.getProjection(),o=he({x:0,y:0},r.containerRef.current?vk(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=yk(s,o,r.props.bounds,r.props.position),u=r.state.containerStyle,c=u.left,h=u.top,f=u.width,m=u.height;Pj(a,{left:c,top:h,width:f,height:m})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var s,o;r.setState(function(){return{paneEl:null}}),(o=(s=r.props).onUnmount)===null||o===void 0||o.call(s,r.overlayView)},r.containerRef=p.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=nE(n.position),i=nE(this.props.position),s=rE(n.bounds),o=rE(this.props.bounds);(r!==i||s!==o)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?Bs.createPortal(P.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:p.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=Te,e})(p.PureComponent);function Mj(){}var iE={onDblClick:"dblclick",onClick:"click"},sE={opacity:function(t,e){t.setOpacity(e)}};function Dj(t){var e=t.url,n=t.bounds,r=t.options,i=t.visible,s=p.useContext(Te),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=p.useMemo(function(){var u=new google.maps.GroundOverlay(e,o,he({},r));return u},[]);return p.useEffect(function(){a!==null&&a.setMap(s)},[s]),p.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),p.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),p.useEffect(function(){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",u),a.setMap(s))},[a,n]),null}p.memo(Dj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){_t(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,he(he({},this.props.options),{map:this.context}));this.registeredEvents=Ae({updaterMap:sE,eventMap:iE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:sE,eventMap:iE,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:Mj},e.contextType=Te,e})(p.PureComponent);var oE={},aE={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function Oj(t){var e=t.data,n=t.onLoad,r=t.onUnmount,i=t.options,s=p.useContext(Te),o=p.useState(null),a=o[0],u=o[1];return p.useEffect(function(){google.maps.visualization||_t(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),p.useEffect(function(){_t(!!e,"data property is required in HeatmapLayer %s",e)},[e]),p.useEffect(function(){a!==null&&a.setMap(s)},[s]),p.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),p.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(he(he({},i||{}),{data:e,map:s}));return u(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}p.memo(Oj);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){_t(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),_t(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(he(he({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Ae({updaterMap:aE,eventMap:oE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:aE,eventMap:oE,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),xe(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);var lE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},uE={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,i=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Ae({updaterMap:uE,eventMap:lE,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:uE,eventMap:lE,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),xe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=Te,e})(p.PureComponent);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){_t(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(p.PureComponent);var cE={onDirectionsChanged:"directions_changed"},hE={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ae({updaterMap:hE,eventMap:cE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:hE,eventMap:cE,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),xe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return P.jsx(P.Fragment,{})},e.contextType=Te,e})(p.PureComponent);(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){_t(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(p.PureComponent);var dE={onPlacesChanged:"places_changed"},fE={bounds:function(t,e){t.setBounds(e)}};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=p.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(_t(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=Ae({updaterMap:fE,eventMap:dE,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:fE,eventMap:dE,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),xe(this.registeredEvents))},e.prototype.render=function(){return P.jsx("div",{ref:this.containerElement,children:p.Children.only(this.props.children)})},e.contextType=Te,e})(p.PureComponent);var pE={onPlaceChanged:"place_changed"},gE={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){Ye(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=p.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;_t(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Ae({updaterMap:gE,eventMap:pE,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){xe(this.registeredEvents),this.registeredEvents=Ae({updaterMap:gE,eventMap:pE,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&xe(this.registeredEvents)},e.prototype.render=function(){return P.jsx("div",{ref:this.containerElement,className:this.props.className,children:p.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=Te,e})(p.PureComponent);const mE=[{name:"USPACE 南港郵局場",openTime:"24小時",parkNum:"建物附設一般平面式小型車6格(含身心障礙停車位1格)。",fee:"80元/時，停車未滿1小時以1小時計；逾1小時以上者，未滿半小時以半小時計。",lng:121.6021,lat:25.0539},{name:"車堡寶南港東新停車場",openTime:"24小時",parkNum:"一般平面式小型車31格(含身心障礙停車位1格)。",fee:"100元/時，停車未滿1小時以1小時計，逾1小時以上者，未滿半小時以半小時計。",lng:121.6019,lat:25.0554},{name:"重陽停車場",openTime:"24小時",parkNum:"一般平面式小型車26格(含身心障礙停車位1格)。",fee:"120元/時，停車未滿1小時以1小時計，逾1小時以上者，未滿半小時以半小時計。計次：600元/次(隔日另計)。",lng:121.5972,lat:25.0562},{name:"南港路停車場",openTime:"24小時",parkNum:"小型車:18格，機車:0格",fee:"40元/時，停車逾1小時以上者，未滿半小時以半小時計費",lng:121.602,lat:25.0538},{name:"ViVi PARK東明街停車場",openTime:"24小時",parkNum:"小型車:8格，機車:0格",fee:"100元/時，停車未滿1小時以1小時計,逾1小時以上，未滿半小時以半小時計。",lng:121.6006,lat:25.0547},{name:"台灣聯通東明停車場",openTime:"24小時",parkNum:"一般平面式小型車49格(含身心障礙停車位1格)。",fee:"計時",lng:121.5993,lat:25.0549},{name:"富山南港路停車場",openTime:"24小時",parkNum:"小型車:110格，機車:0格",fee:"40元/時",lng:121.6028,lat:25.0539},{name:"Right Here Parking 瑞誼停車場",openTime:"24小時",parkNum:"小型車42格；機車0格",fee:"計時:40元/時，停車未滿1小時以1小時計，逾1小時以上者，未滿半小時以半小時計，平日最高收費240元、假日最高收費150元(至當日24時止)",lng:121.5968,lat:25.0559},{name:"中視停車場",openTime:"24小時",parkNum:"一般平面式小型車43格(含身心障礙停車位1格)",fee:"30元/時，停車未滿1小時以1小時計，逾1小時以上者，未滿半小時以半小時計費。",lng:121.6004,lat:25.0553},{name:"家樂福新南港停車場",openTime:"24小時",parkNum:"大型車0格；小型車48格；機車0格",fee:"計時:100元/時，全程以半小時計。",lng:121.6005,lat:25.054},{name:"臺北流行音樂中心停車場",openTime:"24小時",parkNum:"小型車:293格，機車:583格",fee:"小型車平日30元/時、假日/活動期間60元/時，全程以半小時計費。計次：機車20元/次(平日)、30元/次(例假日及活動日)，隔日另計。",lng:121.5992,lat:25.0528}],Nj=W.div``,Vj=W.div`
  text-align: center;
  padding: 200px 0;
`,Uj=W.h2`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 1rem;
`,Fj=W.h3`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 5px;
`,jj=W.ul`
  background: #f8f8f8;
  display: flex;
  justify-content: space-around;
  padding: 0 20px;
  margin-bottom: 42px;
`,vE=W.li``,uc=W(Xh)`
  display: inline-block;
  font-weight: 600;
  font-size: 24px;
  letter-spacing: 4px;
  color: #000;
  padding: 10px;
`,Bj=W.main`
  width: 70%;
  margin: 0 auto;
  margin-bottom: 80px;
`,zj=W.div`
  display: flex;
  justify-content: center;
`,$j=W.div`
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 30px;
`,_k=W.h4`
  font-size: 28px;
  font-weight: 900;
  letter-spacing: 10px;
  padding: 0 50px;
  display: flex;
  align-items: center;
`,Wj=W(_k)`
  grid-column: span 2;
`,yE=W.p``,_E=W.p``,Hj=W.div`
  padding: 50px 0;
`,qj=W.div`
  grid-column: span 2;
  width: 100%;
  height: 1px;
  background: #000;
`,Gj={width:"100%",height:"600px"},Kj=W.div`
  padding: 0 50px;
  grid-column: span 2;
  display: flex;
  column-gap: 20px;
`,Qj=W.div`
  flex-grow: 1;
  height: 500px;
  position: relative;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* 添加陰影 */
  overflow: hidden; /* 防止地圖超出容器 */
`,Yj=W.div`
  width: 30%;
`,Zj=W.div`
  width: 100%;
`,Xj=W.p`
  font-size: 20px;
  color: #000;
  font-weight: 700;
  margin-bottom: 10px;
`,Jj=W.p`
  font-size: 16px;
  color: #000;
  font-weight: 700;
  margin-bottom: 10px;
`,bf=W.p`
  font-size: 15px;
  color: #000;
  line-height: 1.8;
`;function eB(){const{isLoaded:t}=hk({googleMapsApiKey:"AIzaSyA3EzkV4hLZiO3UWwyXgtWQxZHRc85JmHs",libraries:["places"]}),e={lat:25.05312208941785,lng:121.60058876881236},[n,r]=p.useState([]),[i,s]=p.useState(null);console.log(i);const o=()=>{console.log(typeof mE),r(mE)},a=u=>{s(u)};return t?P.jsxs(Nj,{children:[P.jsxs(Vj,{children:[P.jsx(Uj,{children:"臺北流行音樂中心"}),P.jsx(Fj,{children:"TAIPEI MUSIC CENTER"})]}),P.jsxs(jj,{children:[P.jsx(vE,{children:P.jsx(uc,{to:"/view",children:"視角分享"})}),P.jsx(vE,{children:P.jsx(uc,{to:"/transportation-driving",children:"交通資訊"})})]}),P.jsxs(Bj,{children:[P.jsxs(zj,{children:[P.jsx(uc,{to:"/transportation-public",children:"大眾運輸"}),P.jsx(uc,{to:"/transportation-driving",children:"自行開車"})]}),P.jsxs($j,{children:[P.jsx(_k,{children:"自行開車"}),P.jsxs(Hj,{children:[P.jsx(yE,{children:"昆陽站"}),P.jsx(_E,{children:"距離本中心約 600 公尺距離。請從 4 號出口出站，向東步行約 8 分鐘抵達。"}),P.jsx(yE,{children:"南港站"}),P.jsx(_E,{children:"距離本中心約 900 公尺。請由 1A 連通道出站，沿指標前行至 CITYLINK B 棟，由一樓走出大門後，沿市民大道向西步行約 11 分鐘抵達。"})]}),P.jsx(qj,{}),P.jsx(Wj,{children:"停車資訊"}),P.jsxs(Kj,{children:[P.jsx(Qj,{children:P.jsx(b4,{zoom:16,center:e,mapContainerStyle:Gj,onLoad:o,children:n&&n.map((u,c)=>P.jsx(j4,{position:{lat:u.lat,lng:u.lng},onClick:()=>a(u)},c))})}),P.jsxs(Yj,{children:[P.jsx(Xj,{children:"詳細資訊"}),i&&P.jsxs(Zj,{children:[P.jsx(Jj,{children:i.name}),P.jsxs(bf,{children:["開放時間：",i.openTime]}),P.jsxs(bf,{children:["停車位：",i.parkNum]}),P.jsxs(bf,{children:["費用：",i.fee]}),P.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&origin=臺北流行音樂中心&destination=${i.lat},${i.lng}`,target:"blank",children:"在 Google 上查看"})]})]})]})]})]})]}):P.jsx("div",{children:"Loading..."})}const tB=W.div``,nB=W.div`
  text-align: center;
  padding: 200px 0;
`,rB=W.h2`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 1rem;
`,iB=W.h3`
  font-size: 48px;
  line-height: 1.5;
  letter-spacing: 5px;
`,sB=W.ul`
  background: #f8f8f8;
  display: flex;
  justify-content: space-around;
  padding: 0 20px;
  margin-bottom: 42px;
`,wE=W.li``,cc=W(Xh)`
  display: inline-block;
  font-weight: 600;
  font-size: 24px;
  letter-spacing: 4px;
  color: #000;
  padding: 10px;
`,oB=W.main``,aB=W.div`
  display: flex;
  justify-content: center;
`;function lB(){return P.jsxs(tB,{children:[P.jsxs(nB,{children:[P.jsx(rB,{children:"臺北流行音樂中心"}),P.jsx(iB,{children:"TAIPEI MUSIC CENTER"})]}),P.jsxs(sB,{children:[P.jsx(wE,{children:P.jsx(cc,{to:"/view",children:"視角分享"})}),P.jsx(wE,{children:P.jsx(cc,{to:"/transportation-driving",children:"交通資訊"})})]}),P.jsx(oB,{children:P.jsxs(aB,{children:[P.jsx(cc,{to:"/transportation-public",children:"大眾運輸"}),P.jsx(cc,{to:"/transportation-driving",children:"自行開車"})]})})]})}MS(document.getElementById("root")).render(P.jsx(p.StrictMode,{children:P.jsx(cP,{children:P.jsx(rP,{children:P.jsxs(Wn,{path:"/",element:P.jsx(MU,{}),children:[P.jsx(Wn,{index:!0,element:P.jsx(DU,{})}),P.jsx(Wn,{path:"view",element:P.jsx(w4,{})}),P.jsx(Wn,{path:"transportation-public",element:P.jsx(lB,{})}),P.jsx(Wn,{path:"transportation-driving",element:P.jsx(eB,{})}),P.jsx(Wn,{path:"concertlist",element:P.jsx(NU,{})}),P.jsx(Wn,{path:"concert",element:P.jsx(OU,{})}),P.jsx(Wn,{path:"fanssupport",element:P.jsx(VU,{})}),P.jsx(Wn,{path:"login",element:P.jsx(mF,{})}),P.jsx(Wn,{path:"*",element:P.jsx(eP,{to:"/",replace:!0})})]})})})}));
